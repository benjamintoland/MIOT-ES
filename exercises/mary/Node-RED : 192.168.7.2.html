<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<!--
  Copyright 2013, 2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<title>Node-RED : 192.168.7.2</title>
<link rel="icon" type="image/png" href="http://192.168.7.2:1880/favicon.ico">
<link rel="mask-icon" href="http://192.168.7.2:1880/red/images/node-red-icon-black.svg" color="#8f0000">
<link href="Node-RED%20:%20192.168.7.2_files/bootstrap.css" rel="stylesheet" media="screen">
<link href="Node-RED%20:%20192.168.7.2_files/jquery-ui-1.css" rel="stylesheet" media="screen">
<link rel="stylesheet" href="Node-RED%20:%20192.168.7.2_files/font-awesome.css">
<link rel="stylesheet" href="Node-RED%20:%20192.168.7.2_files/vendor.css">
<link rel="stylesheet" href="Node-RED%20:%20192.168.7.2_files/style.css">

<style id="ace_editor.css">.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}
/*# sourceURL=ace/css/ace_editor.css */</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style>.ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}</style><style>.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}</style><script src="Node-RED%20:%20192.168.7.2_files/theme-tomorrow.js"></script><script src="Node-RED%20:%20192.168.7.2_files/mode-javascript.js"></script><script src="Node-RED%20:%20192.168.7.2_files/text.js"></script><style id="ace-tomorrow">.ace-tomorrow .ace_gutter {background: #f6f6f6;color: #4D4D4C}.ace-tomorrow .ace_print-margin {width: 1px;background: #f6f6f6}.ace-tomorrow {background-color: #FFFFFF;color: #4D4D4C}.ace-tomorrow .ace_cursor {color: #AEAFAD}.ace-tomorrow .ace_marker-layer .ace_selection {background: #D6D6D6}.ace-tomorrow.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-tomorrow .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-tomorrow .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #D1D1D1}.ace-tomorrow .ace_marker-layer .ace_active-line {background: #EFEFEF}.ace-tomorrow .ace_gutter-active-line {background-color : #dcdcdc}.ace-tomorrow .ace_marker-layer .ace_selected-word {border: 1px solid #D6D6D6}.ace-tomorrow .ace_invisible {color: #D1D1D1}.ace-tomorrow .ace_keyword,.ace-tomorrow .ace_meta,.ace-tomorrow .ace_storage,.ace-tomorrow .ace_storage.ace_type,.ace-tomorrow .ace_support.ace_type {color: #8959A8}.ace-tomorrow .ace_keyword.ace_operator {color: #3E999F}.ace-tomorrow .ace_constant.ace_character,.ace-tomorrow .ace_constant.ace_language,.ace-tomorrow .ace_constant.ace_numeric,.ace-tomorrow .ace_keyword.ace_other.ace_unit,.ace-tomorrow .ace_support.ace_constant,.ace-tomorrow .ace_variable.ace_parameter {color: #F5871F}.ace-tomorrow .ace_constant.ace_other {color: #666969}.ace-tomorrow .ace_invalid {color: #FFFFFF;background-color: #C82829}.ace-tomorrow .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #8959A8}.ace-tomorrow .ace_fold {background-color: #4271AE;border-color: #4D4D4C}.ace-tomorrow .ace_entity.ace_name.ace_function,.ace-tomorrow .ace_support.ace_function,.ace-tomorrow .ace_variable {color: #4271AE}.ace-tomorrow .ace_support.ace_class,.ace-tomorrow .ace_support.ace_type {color: #C99E00}.ace-tomorrow .ace_heading,.ace-tomorrow .ace_markup.ace_heading,.ace-tomorrow .ace_string {color: #718C00}.ace-tomorrow .ace_entity.ace_name.ace_tag,.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow .ace_meta.ace_tag,.ace-tomorrow .ace_string.ace_regexp,.ace-tomorrow .ace_variable {color: #C82829}.ace-tomorrow .ace_comment {color: #8E908C}.ace-tomorrow .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y}
/*# sourceURL=ace/css/ace-tomorrow */</style><script src="Node-RED%20:%20192.168.7.2_files/javascript.js"></script></head>
<body spellcheck="false" style="">
<div id="header">
    <span class="logo"><img src="Node-RED%20:%20192.168.7.2_files/node-red.png" title="0.14.4"> <span>Node-RED</span></span>
    <ul class="header-toolbar hide" style="display: block;"><li><span class="deploy-button-group button-group"><a id="btn-deploy" class="deploy-button disabled" href="#"><img id="btn-deploy-icon" src="Node-RED%20:%20192.168.7.2_files/deploy-full-o.png" class="fa-download"> <span>Deploy</span></a><a id="btn-deploy-options" data-toggle="dropdown" class="deploy-button" href="#"><i class="fa fa-caret-down"></i></a><ul id="btn-deploy-options-submenu" class="dropdown-menu pull-right"><li><a id="deploymenu-item-full" tabindex="-1" href="#" class="active"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><img src="Node-RED%20:%20192.168.7.2_files/deploy-full.png"> <span class="menu-label-container"><span class="menu-label">Full</span><span class="menu-sublabel">Deploys everything in the workspace</span></span></a></li><li><a id="deploymenu-item-flow" tabindex="-1" href="#"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><img src="Node-RED%20:%20192.168.7.2_files/deploy-flows.png"> <span class="menu-label-container"><span class="menu-label">Modified Flows</span><span class="menu-sublabel">Only deploys flows that contain changed nodes</span></span></a></li><li><a id="deploymenu-item-node" tabindex="-1" href="#"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><img src="Node-RED%20:%20192.168.7.2_files/deploy-nodes.png"> <span class="menu-label-container"><span class="menu-label">Modified Nodes</span><span class="menu-sublabel">Only deploys nodes that have changed</span></span></a></li></ul></span></li>
        <li class=""><a id="btn-sidemenu" class="button" data-toggle="dropdown" href="#"><i class="fa fa-bars"></i></a><ul id="btn-sidemenu-submenu" class="dropdown-menu pull-right"><li class="dropdown-submenu pull-left"><a id="menu-item-view-menu" tabindex="-1" href="#"><span class="menu-label">View</span></a><ul id="menu-item-view-menu-submenu" class="dropdown-menu"><li><a id="menu-item-view-show-grid" tabindex="-1" href="#"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><span class="menu-label">Show grid</span></a></li><li><a id="menu-item-view-snap-grid" tabindex="-1" href="#"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><span class="menu-label">Snap to grid</span></a></li><li><a id="menu-item-status" tabindex="-1" href="#" class="active"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><span class="menu-label">Show node status</span></a></li><li class="divider"></li><li><a id="menu-item-sidebar" tabindex="-1" href="#" class="active"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><span class="menu-label">Show sidebar</span></a></li><li class="menu-group-sidebar-tabs"><a id="menu-item-view-menu-config" tabindex="-1" href="#"><span class="menu-label">Configuration nodes</span></a></li><li class="menu-group-sidebar-tabs"><a id="menu-item-view-menu-debug" tabindex="-1" href="#"><span class="menu-label">Debug messages</span></a></li><li class="menu-group-sidebar-tabs"><a id="menu-item-view-menu-info" tabindex="-1" href="#"><span class="menu-label">Node information</span></a></li></ul></li><li class="divider"></li><li class="dropdown-submenu pull-left"><a id="menu-item-import" tabindex="-1" href="#"><span class="menu-label">Import</span></a><ul id="menu-item-import-submenu" class="dropdown-menu"><li><a id="menu-item-import-clipboard" tabindex="-1" href="#"><span class="menu-label">Clipboard</span></a></li><li class="dropdown-submenu pull-left"><a id="menu-item-import-library" tabindex="-1" href="#"><span class="menu-label">Library</span></a><ul id="menu-item-import-library-submenu" class="dropdown-menu"></ul></li><li class="dropdown-submenu pull-left"><a id="menu-item-import-examples" tabindex="-1" href="#"><span class="menu-label">Examples</span></a><ul class="dropdown-menu"><li class="dropdown-submenu pull-left"><a href="#">ibm watson-iot</a><ul class="dropdown-menu"><li><a href="#">Time-Inject</a></li></ul></li></ul></li></ul></li><li class="dropdown-submenu pull-left disabled"><a id="menu-item-export" tabindex="-1" href="#"><span class="menu-label">Export</span></a><ul id="menu-item-export-submenu" class="dropdown-menu"><li class="disabled"><a id="menu-item-export-clipboard" tabindex="-1" href="#"><span class="menu-label">Clipboard</span></a></li><li class="disabled"><a id="menu-item-export-library" tabindex="-1" href="#"><span class="menu-label">Library</span></a></li></ul></li><li class="divider"></li><li><a id="menu-item-config-nodes" tabindex="-1" href="#"><span class="menu-label">Configuration nodes</span></a></li><li class="dropdown-submenu pull-left"><a id="menu-item-workspace" tabindex="-1" href="#"><span class="menu-label">Flows</span></a><ul id="menu-item-workspace-submenu" class="dropdown-menu"><li><a id="menu-item-workspace-add" tabindex="-1" href="#"><span class="menu-label">Add</span></a></li><li><a id="menu-item-workspace-edit" tabindex="-1" href="#"><span class="menu-label">Rename</span></a></li><li class=""><a id="menu-item-workspace-delete" tabindex="-1" href="#"><span class="menu-label">Delete</span></a></li><li class="divider"></li><li><a id="menu-item-workspace-menu-bd1eea0a-3f3d28" tabindex="-1" href="#">Flow 1</a></li><li><a id="menu-item-workspace-menu-121687d4-614908" tabindex="-1" href="#">Flow 2</a></li></ul></li><li class="dropdown-submenu pull-left"><a id="menu-item-subflow" tabindex="-1" href="#"><span class="menu-label">Subflows</span></a><ul id="menu-item-subflow-submenu" class="dropdown-menu"><li><a id="menu-item-subflow-create" tabindex="-1" href="#"><span class="menu-label">Create Subflow</span></a></li><li class="disabled"><a id="menu-item-subflow-convert" tabindex="-1" href="#"><span class="menu-label">Selection to Subflow</span></a></li></ul></li><li class="divider"></li><li><a id="menu-item-keyboard-shortcuts" tabindex="-1" href="#"><span class="menu-label">Keyboard Shortcuts</span></a></li><li><a id="menu-item-help" tabindex="-1" href="http://nodered.org/docs" target="_blank"><span class="menu-label">Node-RED Website</span></a></li><li><a id="menu-item-node-red-version" tabindex="-1" href="#"><span class="menu-label">v0.14.4</span></a></li></ul></li>
    </ul>
    <div id="header-shade" class="hide" style="display: none;"></div>
</div>
<div id="main-container" class="hide" style="display: block;">
    <div id="palette">
        <img src="Node-RED%20:%20192.168.7.2_files/spin.svg" class="palette-spinner hide" style="display: none;">
        <div id="palette-search" style="display: block;">
            <i class="fa fa-search"></i><input id="palette-search-input" data-i18n="[placeholder]palette.filter" placeholder="filter nodes" type="text"><a href="#" id="palette-search-clear"><i class="fa fa-times"></i></a>
        </div>
        <div id="palette-container" class="palette-scroll" style="display: block;"><div id="palette-container-subflows" class="palette-category palette-close hide"><div id="palette-header-subflows" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>subflows</span></div><div class="palette-content" id="palette-base-category-subflows"><div id="palette-subflows-input"></div><div id="palette-subflows-output"></div><div id="palette-subflows-function"></div></div></div><div id="palette-container-input" class="palette-category palette-close hide palette-open" style="display: block;"><div id="palette-header-input" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>input</span></div><div class="palette-content" id="palette-base-category-input" style=""><div id="palette-input-input"></div><div id="palette-input-output"></div><div id="palette-input-function"></div><div id="palette-input"><div id="palette_node_inject" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label">inject</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/inject.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_catch" class="palette_node ui-draggable" style="background-color: rgb(228, 145, 145); height: 28px;"><div class="palette_label">catch</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/alert.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_status" class="palette_node ui-draggable" style="background-color: rgb(192, 237, 192); height: 28px;"><div class="palette_label">status</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/alert.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_link_in" class="palette_node ui-draggable" style="background-color: rgb(221, 221, 221); height: 28px;"><div class="palette_label">link</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/link-out.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_mqtt_in" class="palette_node ui-draggable" style="background-color: rgb(216, 191, 216); height: 28px;"><div class="palette_label">mqtt</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/bridge.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_http_in" class="palette_node ui-draggable" style="background-color: rgb(231, 231, 174); height: 28px;"><div class="palette_label">http</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/white-globe.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_websocket_in" class="palette_node ui-draggable" style="background-color: rgb(215, 215, 160); height: 28px;"><div class="palette_label">websocket</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/white-globe.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_tcp_in" class="palette_node ui-draggable" style="background-color: Silver; height: 28px;"><div class="palette_label">tcp</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/bridge-dash.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_udp_in" class="palette_node ui-draggable" style="background-color: Silver; height: 28px;"><div class="palette_label">udp</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/bridge-dash.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_wiotp_in" class="palette_node ui-draggable" style="background-color: rgb(108, 159, 195); height: 28px;"><div class="palette_label">Watson IoT</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/wiotp.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_serial_in" class="palette_node ui-draggable" style="background-color: BurlyWood; height: 28px;"><div class="palette_label">serial</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/serial.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div></div></div></div><div id="palette-container-output" class="palette-category palette-close hide palette-open" style="display: block;"><div id="palette-header-output" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>output</span></div><div class="palette-content" id="palette-base-category-output" style=""><div id="palette-output-input"></div><div id="palette-output-output"></div><div id="palette-output-function"></div><div id="palette-output"><div id="palette_node_debug" class="palette_node ui-draggable" style="background-color: rgb(135, 169, 128); height: 28px;"><div class="palette_label palette_label_right">debug</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/debug.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_link_out" class="palette_node ui-draggable" style="background-color: rgb(221, 221, 221); height: 28px;"><div class="palette_label palette_label_right">link</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/link-out.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_mqtt_out" class="palette_node ui-draggable" style="background-color: rgb(216, 191, 216); height: 28px;"><div class="palette_label palette_label_right">mqtt</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/bridge.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_http_response" class="palette_node ui-draggable" style="background-color: rgb(231, 231, 174); height: 28px;"><div class="palette_label palette_label_right">http response</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/white-globe.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_websocket_out" class="palette_node ui-draggable" style="background-color: rgb(215, 215, 160); height: 28px;"><div class="palette_label palette_label_right">websocket</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/white-globe.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_tcp_out" class="palette_node ui-draggable" style="background-color: Silver; height: 28px;"><div class="palette_label palette_label_right">tcp</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/bridge-dash.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_udp_out" class="palette_node ui-draggable" style="background-color: Silver; height: 28px;"><div class="palette_label palette_label_right">udp</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/bridge-dash.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_wiotp_out" class="palette_node ui-draggable" style="background-color: rgb(108, 159, 195); height: 28px;"><div class="palette_label palette_label_right">Watson IoT</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/wiotp.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_serial_out" class="palette_node ui-draggable" style="background-color: BurlyWood; height: 28px;"><div class="palette_label palette_label_right">serial</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/serial.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div></div></div><div id="palette-container-function" class="palette-category palette-close hide palette-open" style="display: block;"><div id="palette-header-function" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>function</span></div><div class="palette-content" id="palette-base-category-function" style=""><div id="palette-function-input"></div><div id="palette-function-output"></div><div id="palette-function-function"></div><div id="palette-function"><div id="palette_node_function" class="palette_node ui-draggable" style="background-color: rgb(253, 208, 162); height: 28px;"><div class="palette_label">function</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/function.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_template" class="palette_node ui-draggable" style="background-color: rgb(243, 181, 103); height: 28px;"><div class="palette_label">template</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/template.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_delay" class="palette_node ui-draggable" style="background-color: rgb(230, 224, 248); height: 28px;"><div class="palette_label">delay</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/timer.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_trigger" class="palette_node ui-draggable" style="background-color: rgb(230, 224, 248); height: 28px;"><div class="palette_label">trigger</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/trigger.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_comment" class="palette_node ui-draggable" style="background-color: rgb(255, 255, 255); height: 28px;"><div class="palette_label">comment</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/comment.png)"></div></div></div><div id="palette_node_http_request" class="palette_node ui-draggable" style="background-color: rgb(231, 231, 174); height: 28px;"><div class="palette_label">http request</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/white-globe.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_tcp_request" class="palette_node ui-draggable" style="background-color: Silver; height: 28px;"><div class="palette_label">tcp request</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/bridge-dash.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_switch" class="palette_node ui-draggable" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="palette_label">switch</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/switch.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_change" class="palette_node ui-draggable" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="palette_label">change</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/swap.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_range" class="palette_node ui-draggable" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="palette_label">range</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/range.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_split" class="palette_node ui-draggable" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="palette_label">split</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/split.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_join" class="palette_node ui-draggable" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="palette_label">join</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/join.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_csv" class="palette_node ui-draggable" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="palette_label">csv</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/parser-csv.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_html" class="palette_node ui-draggable" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="palette_label">html</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/parser-html.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_json" class="palette_node ui-draggable" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="palette_label">json</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/parser-json.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_xml" class="palette_node ui-draggable" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="palette_label">xml</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/parser-xml.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_rbe" class="palette_node ui-draggable" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="palette_label">rbe</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/rbe.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div></div></div><div id="palette-container-social" class="palette-category palette-close hide" style="display: block;"><div id="palette-header-social" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>social</span></div><div class="palette-content" id="palette-base-category-social"><div id="palette-social-input"><div id="palette_node_e-mail_in" class="palette_node ui-draggable" style="background-color: rgb(199, 233, 192); height: 28px;"><div class="palette_label">e mail</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/envelope.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_twitter_in" class="palette_node ui-draggable" style="background-color: rgb(192, 222, 237); height: 28px;"><div class="palette_label">twitter</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/twitter.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div></div><div id="palette-social-output"><div id="palette_node_e-mail" class="palette_node ui-draggable" style="background-color: rgb(199, 233, 192); height: 28px;"><div class="palette_label palette_label_right">e mail</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/envelope.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_twitter_out" class="palette_node ui-draggable" style="background-color: rgb(192, 222, 237); height: 28px;"><div class="palette_label palette_label_right">twitter</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/twitter.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div><div id="palette-social-function"></div></div></div><div id="palette-container-mobile" class="palette-category palette-close hide"><div id="palette-header-mobile" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>mobile</span></div><div class="palette-content" id="palette-base-category-mobile"><div id="palette-mobile-input"></div><div id="palette-mobile-output"></div><div id="palette-mobile-function"></div></div></div><div id="palette-container-storage" class="palette-category palette-close hide" style="display: block;"><div id="palette-header-storage" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>storage</span></div><div class="palette-content" id="palette-base-category-storage"><div id="palette-storage-input"><div id="palette_node_tail" class="palette_node ui-draggable" style="background-color: BurlyWood; height: 28px;"><div class="palette_label">tail</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/file.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_file_in" class="palette_node ui-draggable" style="background-color: BurlyWood; height: 28px;"><div class="palette_label">file</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/file.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_mongodb_in" class="palette_node ui-draggable" style="background-color: rgb(218, 196, 180); height: 28px;"><div class="palette_label">mongodb</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/mongodb.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div><div id="palette-storage-output"><div id="palette_node_file" class="palette_node ui-draggable" style="background-color: BurlyWood; height: 28px;"><div class="palette_label palette_label_right">file</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/file.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_mongodb_out" class="palette_node ui-draggable" style="background-color: rgb(218, 196, 180); height: 28px;"><div class="palette_label palette_label_right">mongodb</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/mongodb.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div><div id="palette-storage-function"></div></div></div><div id="palette-container-analysis" class="palette-category palette-close hide" style="display: block;"><div id="palette-header-analysis" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>analysis</span></div><div class="palette-content" id="palette-base-category-analysis"><div id="palette-analysis-input"></div><div id="palette-analysis-output"></div><div id="palette-analysis-function"><div id="palette_node_sentiment" class="palette_node ui-draggable" style="background-color: rgb(230, 224, 248); height: 28px;"><div class="palette_label">sentiment</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/arrow-in.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div></div></div><div id="palette-container-advanced" class="palette-category palette-close hide" style="display: block;"><div id="palette-header-advanced" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>advanced</span></div><div class="palette-content" id="palette-base-category-advanced"><div id="palette-advanced-input"><div id="palette_node_watch" class="palette_node ui-draggable" style="background-color: BurlyWood; height: 28px;"><div class="palette_label">watch</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/watch.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_feedparse" class="palette_node ui-draggable" style="background-color: rgb(192, 222, 237); height: 28px;"><div class="palette_label">feedparse</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/feed.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div></div><div id="palette-advanced-output"></div><div id="palette-advanced-function"><div id="palette_node_exec" class="palette_node ui-draggable" style="background-color: darksalmon; height: 28px;"><div class="palette_label palette_label_right">exec</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/arrow-in.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div></div></div><div id="palette-container-Grove_Sensors" class="palette-category palette-close hide palette-open" style="display: block;"><div id="palette-header-Grove_Sensors" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>Grove_Sensors</span></div><div class="palette-content" id="palette-base-category-Grove_Sensors" style=""><div id="palette-Grove_Sensors-input"></div><div id="palette-Grove_Sensors-output"></div><div id="palette-Grove_Sensors-function"></div><div id="palette-Grove_Sensors"><div id="palette_node_UPM-Grove-Button" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label">Grove Button</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/seeed.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_UPM-Grove-Buzzer" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label palette_label_right">Grove Buzzer</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/debug.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_upm-grove-led" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label palette_label_right">Grove LED</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/seeed.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_upm-grove-light" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label">Grove Light</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/light.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_UPM-Grove-Relay" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label palette_label_right">Grove Relay</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/debug.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_upm-grove-rgb-lcd" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 48px;"><div class="palette_label palette_label_right">Grove RGB<br>LCD</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/debug.png)"></div></div><div class="palette_port palette_port_input" style="top: 19px;"></div></div><div id="palette_node_upm-grove-rotary" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label">Grove Rotary</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/arrow-in.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_upm-grove-sound" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label">Grove Sound</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/bridge.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div></div><div id="palette_node_upm-grove-temperature" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 48px;"><div class="palette_label">Grove<br>Temperature</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/arrow-in.png)"></div></div><div class="palette_port palette_port_output" style="top: 19px;"></div></div><div id="palette_node_upm-grove-adxl345" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 48px;"><div class="palette_label">Grove<br>adxl345</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/seeed.png)"></div></div><div class="palette_port palette_port_output" style="top: 19px;"></div></div><div id="palette_node_upm-grove-servo" class="palette_node ui-draggable" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="palette_label palette_label_right">Grove Servo</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/light.png)"></div></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div></div></div><div id="palette-container-Beaglebone" class="palette-category palette-close hide palette-open" style="display: block;"><div id="palette-header-Beaglebone" class="palette-header"><i class="expanded fa fa-angle-down"></i><span>Beaglebone</span></div><div class="palette-content" id="palette-base-category-Beaglebone" style=""><div id="palette-Beaglebone-input"></div><div id="palette-Beaglebone-output"></div><div id="palette-Beaglebone-function"></div><div id="palette-Beaglebone"><div id="palette_node_bbb-analogue-in" class="palette_node ui-draggable" style="background-color: rgb(222, 114, 36); height: 28px;"><div class="palette_label">bbb analogue</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/BBB.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_bbb-discrete-in" class="palette_node ui-draggable" style="background-color: rgb(222, 114, 36); height: 28px;"><div class="palette_label">bbb discrete</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/BBB.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_bbb-pulse-in" class="palette_node ui-draggable" style="background-color: rgb(222, 114, 36); height: 28px;"><div class="palette_label">bbb pulse</div><div class="palette_icon_container"><div class="palette_icon" style="background-image: url(icons/BBB.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_bbb-discrete-out" class="palette_node ui-draggable" style="background-color: rgb(222, 114, 36); height: 28px;"><div class="palette_label palette_label_right">bbb discrete</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/BBB.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div><div id="palette_node_bbb-pulse-out" class="palette_node ui-draggable" style="background-color: rgb(222, 114, 36); height: 28px;"><div class="palette_label palette_label_right">bbb pulse</div><div class="palette_icon_container palette_icon_container_right"><div class="palette_icon" style="background-image: url(icons/BBB.png)"></div></div><div class="palette_port palette_port_output" style="top: 9px;"></div><div class="palette_port palette_port_input" style="top: 9px;"></div></div></div></div></div></div>
        <div id="palette-footer">
            <a class="palette-button" id="palette-collapse-all" href="#"><i class="fa fa-angle-double-up"></i></a>
            <a class="palette-button" id="palette-expand-all" href="#"><i class="fa fa-angle-double-down"></i></a>
        </div>

    </div><!-- /palette -->

    <div id="workspace">
        <ul id="workspace-tabs" class="red-ui-tabs"><li class="red-ui-tab active ui-draggable" style="width: 48.5401%;"><a href="#bd1eea0a.3f3d28" class="red-ui-tab-label" title="Flow 1"><span>Flow 1</span></a></li><li class="red-ui-tab ui-draggable" style="width: 48.5401%;"><a href="#121687d4.614908" class="red-ui-tab-label" title="Flow 2"><span>Flow 2</span></a></li></ul>
        <div id="workspace-add-tab"><a id="btn-workspace-add-tab" href="#"><i class="fa fa-plus"></i></a></div>
        <div id="chart" tabindex="1" class="ui-droppable" style="margin-top: 0px;"><svg width="5000" height="5000" pointer-events="all" style="cursor: crosshair;"><g><g transform="scale(1)"><rect width="5000" height="5000" fill="#fff"></rect><g style="visibility: hidden;"><line class="horizontal" x1="0" x2="5000" y1="0" y2="0" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="20" y2="20" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="40" y2="40" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="60" y2="60" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="80" y2="80" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="100" y2="100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="120" y2="120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="140" y2="140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="160" y2="160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="180.00000000000003" y2="180.00000000000003" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="200" y2="200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="220.00000000000003" y2="220.00000000000003" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="240" y2="240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="260" y2="260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="280" y2="280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="300" y2="300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="320" y2="320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="340" y2="340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="360.00000000000006" y2="360.00000000000006" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="380" y2="380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="400" y2="400" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="420" y2="420" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="440.00000000000006" y2="440.00000000000006" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="460" y2="460" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="480" y2="480" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="500" y2="500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="520" y2="520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="540" y2="540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="560" y2="560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="580" y2="580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="600" y2="600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="620" y2="620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="640" y2="640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="660" y2="660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="680" y2="680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="700.0000000000001" y2="700.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="720.0000000000001" y2="720.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="740.0000000000001" y2="740.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="760" y2="760" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="780" y2="780" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="800" y2="800" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="820" y2="820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="840" y2="840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="860.0000000000001" y2="860.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="880.0000000000001" y2="880.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="900.0000000000001" y2="900.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="920" y2="920" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="940" y2="940" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="960" y2="960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="980" y2="980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1000" y2="1000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1020.0000000000001" y2="1020.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1040" y2="1040" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1060" y2="1060" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1080" y2="1080" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1100" y2="1100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1120" y2="1120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1140" y2="1140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1160" y2="1160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1180" y2="1180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1200" y2="1200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1220" y2="1220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1240" y2="1240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1260" y2="1260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1280" y2="1280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1300" y2="1300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1320" y2="1320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1340" y2="1340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1360" y2="1360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1380.0000000000002" y2="1380.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1400.0000000000002" y2="1400.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1420.0000000000002" y2="1420.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1440.0000000000002" y2="1440.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1460.0000000000002" y2="1460.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1480.0000000000002" y2="1480.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1500" y2="1500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1520" y2="1520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1540" y2="1540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1560" y2="1560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1580" y2="1580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1600" y2="1600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1620" y2="1620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1640" y2="1640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1660" y2="1660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1680" y2="1680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1700.0000000000002" y2="1700.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1720.0000000000002" y2="1720.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1740.0000000000002" y2="1740.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1760.0000000000002" y2="1760.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1780.0000000000002" y2="1780.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1800.0000000000002" y2="1800.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1820" y2="1820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1840" y2="1840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1860" y2="1860" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1880" y2="1880" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1900" y2="1900" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1920" y2="1920" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1940" y2="1940" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1960" y2="1960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="1980" y2="1980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2000" y2="2000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2020.0000000000002" y2="2020.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2040.0000000000002" y2="2040.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2060" y2="2060" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2080" y2="2080" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2100" y2="2100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2120" y2="2120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2140.0000000000005" y2="2140.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2160" y2="2160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2180" y2="2180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2200" y2="2200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2220" y2="2220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2240" y2="2240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2260" y2="2260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2280" y2="2280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2300" y2="2300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2320" y2="2320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2340" y2="2340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2360" y2="2360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2380" y2="2380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2400" y2="2400" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2420" y2="2420" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2440" y2="2440" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2460.0000000000005" y2="2460.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2480" y2="2480" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2500" y2="2500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2520" y2="2520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2540" y2="2540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2560" y2="2560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2580" y2="2580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2600" y2="2600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2620" y2="2620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2640" y2="2640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2660" y2="2660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2680" y2="2680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2700" y2="2700" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2720" y2="2720" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2740" y2="2740" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2760.0000000000005" y2="2760.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2780.0000000000005" y2="2780.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2800.0000000000005" y2="2800.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2820.0000000000005" y2="2820.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2840.0000000000005" y2="2840.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2860.0000000000005" y2="2860.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2880.0000000000005" y2="2880.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2900.0000000000005" y2="2900.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2920.0000000000005" y2="2920.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2940.0000000000005" y2="2940.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2960.0000000000005" y2="2960.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="2980" y2="2980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3000" y2="3000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3020" y2="3020" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3040" y2="3040" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3060" y2="3060" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3080" y2="3080" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3100" y2="3100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3120" y2="3120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3140" y2="3140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3160" y2="3160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3180" y2="3180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3200" y2="3200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3220" y2="3220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3240" y2="3240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3260" y2="3260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3280" y2="3280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3300" y2="3300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3320" y2="3320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3340" y2="3340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3360" y2="3360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3380" y2="3380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3400.0000000000005" y2="3400.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3420.0000000000005" y2="3420.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3440.0000000000005" y2="3440.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3460.0000000000005" y2="3460.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3480.0000000000005" y2="3480.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3500.0000000000005" y2="3500.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3520.0000000000005" y2="3520.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3540.0000000000005" y2="3540.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3560.0000000000005" y2="3560.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3580.0000000000005" y2="3580.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3600.0000000000005" y2="3600.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3620.0000000000005" y2="3620.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3640" y2="3640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3660" y2="3660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3680" y2="3680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3700" y2="3700" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3720" y2="3720" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3740" y2="3740" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3760" y2="3760" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3780" y2="3780" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3800" y2="3800" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3820" y2="3820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3840" y2="3840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3860" y2="3860" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3880" y2="3880" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3900" y2="3900" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3920" y2="3920" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3940" y2="3940" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3960" y2="3960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="3980" y2="3980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4000" y2="4000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4020.0000000000005" y2="4020.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4040.0000000000005" y2="4040.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4060.0000000000005" y2="4060.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4080.0000000000005" y2="4080.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4100" y2="4100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4120" y2="4120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4140" y2="4140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4160" y2="4160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4180" y2="4180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4200" y2="4200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4220" y2="4220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4240" y2="4240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4260" y2="4260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4280.000000000001" y2="4280.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4300" y2="4300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4320" y2="4320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4340" y2="4340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4360" y2="4360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4380" y2="4380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4400" y2="4400" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4420" y2="4420" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4440" y2="4440" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4460" y2="4460" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4480" y2="4480" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4500" y2="4500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4520" y2="4520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4540" y2="4540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4560" y2="4560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4580" y2="4580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4600" y2="4600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4620" y2="4620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4640" y2="4640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4660" y2="4660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4680" y2="4680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4700" y2="4700" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4720" y2="4720" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4740" y2="4740" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4760" y2="4760" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4780" y2="4780" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4800" y2="4800" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4820" y2="4820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4840" y2="4840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4860" y2="4860" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4880" y2="4880" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4900.000000000001" y2="4900.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4920.000000000001" y2="4920.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4940.000000000001" y2="4940.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4960" y2="4960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="4980" y2="4980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="horizontal" x1="0" x2="5000" y1="5000" y2="5000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="0" x2="0" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="20" x2="20" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="40" x2="40" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="60" x2="60" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="80" x2="80" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="100" x2="100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="120" x2="120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="140" x2="140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="160" x2="160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="180.00000000000003" x2="180.00000000000003" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="200" x2="200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="220.00000000000003" x2="220.00000000000003" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="240" x2="240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="260" x2="260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="280" x2="280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="300" x2="300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="320" x2="320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="340" x2="340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="360.00000000000006" x2="360.00000000000006" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="380" x2="380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="400" x2="400" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="420" x2="420" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="440.00000000000006" x2="440.00000000000006" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="460" x2="460" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="480" x2="480" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="500" x2="500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="520" x2="520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="540" x2="540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="560" x2="560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="580" x2="580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="600" x2="600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="620" x2="620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="640" x2="640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="660" x2="660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="680" x2="680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="700.0000000000001" x2="700.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="720.0000000000001" x2="720.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="740.0000000000001" x2="740.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="760" x2="760" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="780" x2="780" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="800" x2="800" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="820" x2="820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="840" x2="840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="860.0000000000001" x2="860.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="880.0000000000001" x2="880.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="900.0000000000001" x2="900.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="920" x2="920" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="940" x2="940" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="960" x2="960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="980" x2="980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1000" x2="1000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1020.0000000000001" x2="1020.0000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1040" x2="1040" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1060" x2="1060" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1080" x2="1080" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1100" x2="1100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1120" x2="1120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1140" x2="1140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1160" x2="1160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1180" x2="1180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1200" x2="1200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1220" x2="1220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1240" x2="1240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1260" x2="1260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1280" x2="1280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1300" x2="1300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1320" x2="1320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1340" x2="1340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1360" x2="1360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1380.0000000000002" x2="1380.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1400.0000000000002" x2="1400.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1420.0000000000002" x2="1420.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1440.0000000000002" x2="1440.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1460.0000000000002" x2="1460.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1480.0000000000002" x2="1480.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1500" x2="1500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1520" x2="1520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1540" x2="1540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1560" x2="1560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1580" x2="1580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1600" x2="1600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1620" x2="1620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1640" x2="1640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1660" x2="1660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1680" x2="1680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1700.0000000000002" x2="1700.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1720.0000000000002" x2="1720.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1740.0000000000002" x2="1740.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1760.0000000000002" x2="1760.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1780.0000000000002" x2="1780.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1800.0000000000002" x2="1800.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1820" x2="1820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1840" x2="1840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1860" x2="1860" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1880" x2="1880" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1900" x2="1900" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1920" x2="1920" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1940" x2="1940" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1960" x2="1960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="1980" x2="1980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2000" x2="2000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2020.0000000000002" x2="2020.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2040.0000000000002" x2="2040.0000000000002" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2060" x2="2060" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2080" x2="2080" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2100" x2="2100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2120" x2="2120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2140.0000000000005" x2="2140.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2160" x2="2160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2180" x2="2180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2200" x2="2200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2220" x2="2220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2240" x2="2240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2260" x2="2260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2280" x2="2280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2300" x2="2300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2320" x2="2320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2340" x2="2340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2360" x2="2360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2380" x2="2380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2400" x2="2400" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2420" x2="2420" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2440" x2="2440" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2460.0000000000005" x2="2460.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2480" x2="2480" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2500" x2="2500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2520" x2="2520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2540" x2="2540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2560" x2="2560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2580" x2="2580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2600" x2="2600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2620" x2="2620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2640" x2="2640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2660" x2="2660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2680" x2="2680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2700" x2="2700" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2720" x2="2720" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2740" x2="2740" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2760.0000000000005" x2="2760.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2780.0000000000005" x2="2780.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2800.0000000000005" x2="2800.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2820.0000000000005" x2="2820.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2840.0000000000005" x2="2840.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2860.0000000000005" x2="2860.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2880.0000000000005" x2="2880.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2900.0000000000005" x2="2900.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2920.0000000000005" x2="2920.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2940.0000000000005" x2="2940.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2960.0000000000005" x2="2960.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="2980" x2="2980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3000" x2="3000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3020" x2="3020" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3040" x2="3040" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3060" x2="3060" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3080" x2="3080" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3100" x2="3100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3120" x2="3120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3140" x2="3140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3160" x2="3160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3180" x2="3180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3200" x2="3200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3220" x2="3220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3240" x2="3240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3260" x2="3260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3280" x2="3280" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3300" x2="3300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3320" x2="3320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3340" x2="3340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3360" x2="3360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3380" x2="3380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3400.0000000000005" x2="3400.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3420.0000000000005" x2="3420.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3440.0000000000005" x2="3440.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3460.0000000000005" x2="3460.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3480.0000000000005" x2="3480.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3500.0000000000005" x2="3500.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3520.0000000000005" x2="3520.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3540.0000000000005" x2="3540.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3560.0000000000005" x2="3560.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3580.0000000000005" x2="3580.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3600.0000000000005" x2="3600.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3620.0000000000005" x2="3620.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3640" x2="3640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3660" x2="3660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3680" x2="3680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3700" x2="3700" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3720" x2="3720" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3740" x2="3740" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3760" x2="3760" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3780" x2="3780" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3800" x2="3800" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3820" x2="3820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3840" x2="3840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3860" x2="3860" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3880" x2="3880" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3900" x2="3900" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3920" x2="3920" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3940" x2="3940" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3960" x2="3960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="3980" x2="3980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4000" x2="4000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4020.0000000000005" x2="4020.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4040.0000000000005" x2="4040.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4060.0000000000005" x2="4060.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4080.0000000000005" x2="4080.0000000000005" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4100" x2="4100" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4120" x2="4120" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4140" x2="4140" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4160" x2="4160" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4180" x2="4180" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4200" x2="4200" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4220" x2="4220" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4240" x2="4240" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4260" x2="4260" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4280.000000000001" x2="4280.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4300" x2="4300" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4320" x2="4320" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4340" x2="4340" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4360" x2="4360" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4380" x2="4380" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4400" x2="4400" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4420" x2="4420" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4440" x2="4440" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4460" x2="4460" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4480" x2="4480" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4500" x2="4500" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4520" x2="4520" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4540" x2="4540" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4560" x2="4560" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4580" x2="4580" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4600" x2="4600" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4620" x2="4620" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4640" x2="4640" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4660" x2="4660" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4680" x2="4680" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4700" x2="4700" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4720" x2="4720" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4740" x2="4740" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4760" x2="4760" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4780" x2="4780" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4800" x2="4800" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4820" x2="4820" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4840" x2="4840" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4860" x2="4860" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4880" x2="4880" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4900.000000000001" x2="4900.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4920.000000000001" x2="4920.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4940.000000000001" x2="4940.000000000001" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4960" x2="4960" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="4980" x2="4980" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line><line class="vertical" y1="0" y2="5000" x1="5000" x2="5000" fill="none" shape-rendering="crispEdges" stroke="#eee" stroke-width="1px"></line></g><g></g><g class="link"><path class="link_background link_path" d="M 351.5 198 C 426.5 198 324.5 94.5 399.5 94.5"></path><path class="link_outline link_path" d="M 351.5 198 C 426.5 198 324.5 94.5 399.5 94.5"></path><path class="link_line link_path" d="M 351.5 198 C 426.5 198 324.5 94.5 399.5 94.5"></path></g><g class="link"><path class="link_background link_path" d="M 186.5 337 C 283.5 337 34.5 198 131.5 198"></path><path class="link_outline link_path" d="M 186.5 337 C 283.5 337 34.5 198 131.5 198"></path><path class="link_line link_path" d="M 186.5 337 C 283.5 337 34.5 198 131.5 198"></path></g><g class="link"><path class="link_background link_path" d="M 186.5 337 C 261.5 337 225.5 336.5 300.5 336.5"></path><path class="link_outline link_path" d="M 186.5 337 C 261.5 337 225.5 336.5 300.5 336.5"></path><path class="link_line link_path" d="M 186.5 337 C 261.5 337 225.5 336.5 300.5 336.5"></path></g><g class="link"><path class="link_background link_path" d="M 559.5 94.5 C 618.0012019107301 94.5 578.9987980892699 95 637.5 95"></path><path class="link_outline link_path" d="M 559.5 94.5 C 618.0012019107301 94.5 578.9987980892699 95 637.5 95"></path><path class="link_line link_path" d="M 559.5 94.5 C 618.0012019107301 94.5 578.9987980892699 95 637.5 95"></path></g><g class="link"><path class="link_background link_path" d="M 351.5 198 C 412.3852660748066 198 368.6147339251934 220.5 429.5 220.5"></path><path class="link_outline link_path" d="M 351.5 198 C 412.3852660748066 198 368.6147339251934 220.5 429.5 220.5"></path><path class="link_line link_path" d="M 351.5 198 C 412.3852660748066 198 368.6147339251934 220.5 429.5 220.5"></path></g><g class="node nodegroup" id="a20677b7.1baa4" transform="translate(131.5,183)"><rect class="node" rx="5" ry="5" fill="#de7224" width="220" height="30"></rect><g class="node_icon_group node_icon_group_right" x="0" y="0" style="pointer-events: none;" transform="translate(190,0)"><rect x="0" y="0" class="node_icon_shade" width="30" stroke="none" fill="#000" fill-opacity="0.05" height="30"></rect><image xlink:href="icons/BBB.png" class="node_icon" x="0" width="30" height="30" y="0"></image><path d="M 0 1 l 0 28" class="node_icon_shade_border" stroke-opacity="0.1" stroke="#000" stroke-width="1"></path></g><text class="node_label node_label_right " x="182" dy=".35em" text-anchor="end" y="14">bbb-discrete-out: P9_26</text><g class="node_status_group" style="display: none;"><rect class="node_status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="node_status_label" x="20" y="9"></text></g><image class="node_error hidden" xlink:href="icons/node-error.png" x="210" y="-6" width="10" height="9"></image><image class="node_changed hidden" xlink:href="icons/node-changed.png" x="210" y="-6" width="10" height="10"></image><g class="port_input" transform="translate(-5,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g><g class="port_output" transform="translate(215,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="node nodegroup" id="722eeaee.a4a8d4" transform="translate(46.5,322)"><rect class="node" rx="5" ry="5" fill="#6C9FC3" width="140" height="30"></rect><g class="node_icon_group" x="0" y="0" style="pointer-events: none;"><rect x="0" y="0" class="node_icon_shade" width="30" stroke="none" fill="#000" fill-opacity="0.05" height="30"></rect><image xlink:href="icons/wiotp.png" class="node_icon" x="0" width="30" height="30" y="0"></image><path d="M 30 1 l 0 28" class="node_icon_shade_border" stroke-opacity="0.1" stroke="#000" stroke-width="1"></path></g><text class="node_label " x="38" dy=".35em" text-anchor="start" y="14">all commands</text><g class="node_status_group" style="display: inline;" transform="translate(3,33)"><rect class="node_status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3" style="display: inline; fill: rgb(85, 170, 136); stroke: rgb(85, 170, 136);"></rect><text class="node_status_label" x="20" y="9">connected</text></g><image class="node_error hidden" xlink:href="icons/node-error.png" x="130" y="-6" width="10" height="9"></image><image class="node_changed hidden" xlink:href="icons/node-changed.png" x="130" y="-6" width="10" height="10"></image><g class="port_output" transform="translate(135,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="node nodegroup" id="eb6c7ef9.c1865" transform="translate(300.5,321.5)"><g transform="translate(154,2)" class="node_button node_right_button" opacity="1"><rect rx="5" ry="5" width="32" height="26" fill="#eee" fill-opacity="1"></rect><rect class="node_button_button" x="11" y="4" rx="4" ry="4" width="16" height="18" fill="#87a980" cursor="pointer" fill-opacity="1"></rect></g><rect class="node" rx="5" ry="5" fill="#87a980" width="160" height="30"></rect><g class="node_icon_group node_icon_group_right" x="0" y="0" style="pointer-events: none;" transform="translate(130,0)"><rect x="0" y="0" class="node_icon_shade" width="30" stroke="none" fill="#000" fill-opacity="0.05" height="30"></rect><image xlink:href="icons/debug.png" class="node_icon" x="5" width="20" height="30" y="0"></image><path d="M 0 1 l 0 28" class="node_icon_shade_border" stroke-opacity="0.1" stroke="#000" stroke-width="1"></path></g><text class="node_label node_label_right node_label_italic" x="122" dy=".35em" text-anchor="end" y="14">input from wiot</text><g class="node_status_group" style="display: none;"><rect class="node_status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="node_status_label" x="20" y="9"></text></g><image class="node_error hidden" xlink:href="icons/node-error.png" x="150" y="-6" width="10" height="9"></image><image class="node_changed hidden" xlink:href="icons/node-changed.png" x="150" y="-6" width="10" height="10"></image><g class="port_input" transform="translate(-5,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="node nodegroup" id="1ddadfb6.2393b8" transform="translate(637.5,80)"><rect class="node" rx="5" ry="5" fill="#c7e9c0" width="100" height="30"></rect><g class="node_icon_group node_icon_group_right" x="0" y="0" style="pointer-events: none;" transform="translate(70,0)"><rect x="0" y="0" class="node_icon_shade" width="30" stroke="none" fill="#000" fill-opacity="0.05" height="30"></rect><image xlink:href="icons/envelope.png" class="node_icon" x="5" width="20" height="30" y="0"></image><path d="M 0 1 l 0 28" class="node_icon_shade_border" stroke-opacity="0.1" stroke="#000" stroke-width="1"></path></g><text class="node_label node_label_right node_label_italic" x="62" dy=".35em" text-anchor="end" y="14">gmail</text><g class="node_status_group" style="display: inline;" transform="translate(3,33)"><rect class="node_status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3" style="display: none; fill: rgb(83, 163, 243); stroke: rgb(83, 163, 243);"></rect><text class="node_status_label" x="20" y="9"></text></g><image class="node_error hidden" xlink:href="icons/node-error.png" x="90" y="-6" width="10" height="9"></image><image class="node_changed hidden" xlink:href="icons/node-changed.png" x="90" y="-6" width="10" height="10"></image><g class="port_input" transform="translate(-5,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="node nodegroup" id="bbbb40d2.973498" transform="translate(399.5,79.5)"><rect class="node" rx="5" ry="5" fill="#fdd0a2" width="160" height="30"></rect><g class="node_icon_group" x="0" y="0" style="pointer-events: none;"><rect x="0" y="0" class="node_icon_shade" width="30" stroke="none" fill="#000" fill-opacity="0.05" height="30"></rect><image xlink:href="icons/function.png" class="node_icon" x="5" width="20" height="30" y="0"></image><path d="M 30 1 l 0 28" class="node_icon_shade_border" stroke-opacity="0.1" stroke="#000" stroke-width="1"></path></g><text class="node_label" x="38" dy=".35em" text-anchor="start" y="14">message to me</text><g class="node_status_group" style="display: none;"><rect class="node_status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="node_status_label" x="20" y="9"></text></g><image class="node_error hidden" xlink:href="icons/node-error.png" x="150" y="-6" width="10" height="9"></image><image class="node_changed hidden" xlink:href="icons/node-changed.png" x="150" y="-6" width="10" height="10"></image><g class="port_input" transform="translate(-5,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g><g class="port_output" transform="translate(155,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="node nodegroup" id="1b58ad0c.117503" transform="translate(640.5,205)"><rect class="node" rx="5" ry="5" fill="#c7e9c0" width="180" height="30"></rect><g class="node_icon_group node_icon_group_right" x="0" y="0" style="pointer-events: none;" transform="translate(150,0)"><rect x="0" y="0" class="node_icon_shade" width="30" stroke="none" fill="#000" fill-opacity="0.05" height="30"></rect><image xlink:href="icons/envelope.png" class="node_icon" x="5" width="20" height="30" y="0"></image><path d="M 0 1 l 0 28" class="node_icon_shade_border" stroke-opacity="0.1" stroke="#000" stroke-width="1"></path></g><text class="node_label node_label_right node_label_italic" x="142" dy=".35em" text-anchor="end" y="14">ben.toland@itb.ie</text><g class="node_status_group" style="display: inline;" transform="translate(3,33)"><rect class="node_status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3" style="display: none; fill: rgb(83, 163, 243); stroke: rgb(83, 163, 243);"></rect><text class="node_status_label" x="20" y="9"></text></g><image class="node_error hidden" xlink:href="icons/node-error.png" x="170" y="-6" width="10" height="9"></image><image class="node_changed hidden" xlink:href="icons/node-changed.png" x="170" y="-6" width="10" height="10"></image><g class="port_input" transform="translate(-5,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="node nodegroup" id="1a7f2912.c7a7bf" transform="translate(429.5,205.5)"><rect class="node" rx="5" ry="5" fill="#fdd0a2" width="160" height="30"></rect><g class="node_icon_group" x="0" y="0" style="pointer-events: none;"><rect x="0" y="0" class="node_icon_shade" width="30" stroke="none" fill="#000" fill-opacity="0.05" height="30"></rect><image xlink:href="icons/function.png" class="node_icon" x="5" width="20" height="30" y="0"></image><path d="M 30 1 l 0 28" class="node_icon_shade_border" stroke-opacity="0.1" stroke="#000" stroke-width="1"></path></g><text class="node_label" x="38" dy=".35em" text-anchor="start" y="14">message to ben</text><g class="node_status_group" style="display: none;"><rect class="node_status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="node_status_label" x="20" y="9"></text></g><image class="node_error hidden" xlink:href="icons/node-error.png" x="150" y="-6" width="10" height="9"></image><image class="node_changed hidden" xlink:href="icons/node-changed.png" x="150" y="-6" width="10" height="10"></image><g class="port_input" transform="translate(-5,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g><g class="port_output" transform="translate(155,10)"><rect class="port" rx="3" ry="3" width="10" height="10"></rect></g></g></g></g></svg></div>
        <div id="workspace-toolbar" style="display: none;"></div>
        <div id="workspace-footer">
            <a class="workspace-footer-button" id="btn-zoom-out" href="#"><i class="fa fa-minus"></i></a>
            <a class="workspace-footer-button" id="btn-zoom-zero" href="#"><i class="fa fa-circle-o"></i></a>
            <a class="workspace-footer-button" id="btn-zoom-in" href="#"><i class="fa fa-plus"></i></a>
        </div>
    </div>
    <div id="editor-shade" class="hide" style="display: none;"></div>
    <div id="editor-stack"></div>
    <div id="sidebar">
        <ul id="sidebar-tabs" class="red-ui-tabs"><li class="red-ui-tab active" style="width: 46.1661%;"><a href="#info" class="red-ui-tab-label" style="" title="info"><span>info</span></a></li><li class="red-ui-tab" style="width: 46.1661%;"><a href="#debug" class="red-ui-tab-label" title="debug"><span>debug</span></a></li></ul>
        <div id="sidebar-content"><div style="height: 100%; display: block;"><div style="padding-top: 4px; padding-left: 4px; padding-right: 4px;" class="sidebar-node-info"></div></div><div style="height: 100%; display: none;"><div class="sidebar-node-config"><div class="button-group sidebar-header"><a class="sidebar-header-button-toggle selected" id="workspace-config-node-filter-all" href="#"><span data-i18n="sidebar.config.filterAll">all</span></a><a class="sidebar-header-button-toggle" id="workspace-config-node-filter-unused" href="#"><span data-i18n="sidebar.config.filterUnused">unused</span></a> </div><div><div class="palette-category workspace-config-node-category" id="workspace-config-node-category-global"><div class="workspace-config-node-tray-header palette-header"><i class="fa fa-angle-down"></i><span class="config-node-label" data-i18n="sidebar.config.global">Global</span><span class="config-node-filter-info" style="display: none;"></span></div><ul class="palette-content config-node-list" style="display: none;"><li class="config_node_none" data-i18n="sidebar.config.none">none</li></ul></div></div><div><div class="palette-category workspace-config-node-category" id="workspace-config-node-category-bd1eea0a-3f3d28"><div class="workspace-config-node-tray-header palette-header"><i class="fa fa-angle-down expanded"></i><span class="config-node-label">Flow 1</span><span class="config-node-filter-info" style="display: none;"></span></div><ul class="palette-content config-node-list" style="display: block;"><li class="config_node_type">wiotp-credentials</li><li class="palette_node config_node"><div class="palette_label">bb</div><div class="palette_icon_container  palette_icon_container_right">1</div></li></ul></div><div class="palette-category workspace-config-node-category" id="workspace-config-node-category-121687d4-614908"><div class="workspace-config-node-tray-header palette-header"><i class="fa fa-angle-down"></i><span class="config-node-label">Flow 2</span><span class="config-node-filter-info" style="display: none;"></span></div><ul class="palette-content config-node-list" style="display: none;"><li class="config_node_none" data-i18n="sidebar.config.none">none</li></ul></div></div><div></div></div><div class="sidebar-shade hide" style="display: none;"></div></div><div style="height: 100%; display: none;"><div style="position: relative; height: 100%;"><div class="sidebar-header"><span class="button-group"><a class="sidebar-header-button-toggle selected" id="debug-tab-filter-all" href="#"><span data-i18n="node-red:debug.sidebar.filterAll">all flows</span></a><a class="sidebar-header-button-toggle" id="debug-tab-filter-current" href="#"><span data-i18n="node-red:debug.sidebar.filterCurrent">current flow</span></a> </span><span><a id="debug-tab-clear" title="clear log" class="sidebar-header-button" href="#"><i class="fa fa-trash"></i></a></span></div><div id="debug-content"><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:40</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:50</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:16:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:17:57</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:11</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:18:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:26</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:41</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:19:56</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:12</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:27</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. e5sm6657717wma.12 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. m145sm6651838wma.3 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. a186sm6681557wmh.1 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. r129sm6667640wmd.8 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. x135sm6601059wme.23 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. c202sm6634645wmd.10 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. w197sm6590922wmd.11 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. l6sm6656713wmd.5 - gsmtp</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:20:28</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. w18sm6632298wme.9 - gsmtp</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:21:31</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:21:32</span><span class="debug-message-name">maryellen.looby2@gmail.com</span><span class="debug-message-topic">msg : error</span><span class="debug-message-payload">Error: Invalid login: 454 4.7.0 Too many login attempts, please try again later. x140sm6641373wme.19 - gsmtp</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:22:32</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:22:47</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:23:02</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:23:16</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:23:32</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:23:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:02</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:14</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:14</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:30</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:30</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:24:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:15</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:15</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:15</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:29</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:29</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:29</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:44</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:44</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:44</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:25:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:14</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:14</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:14</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:14</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:30</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:30</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:30</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:30</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:26:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:00</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:00</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:00</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:00</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:14</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:15</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:15</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:27:15</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:28:25</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:31:44</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:32:44</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:35:29</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:40:18</span><span class="debug-message-name">1b58ad0c.117503</span><span class="debug-message-topic">msg : string [20]</span><span class="debug-message-payload">No e-mail userid set</span></div><div class="debug-message debug-message-level-20 debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:40:18</span><span class="debug-message-name">1b58ad0c.117503</span><span class="debug-message-topic">msg : string [22]</span><span class="debug-message-payload">No e-mail password set</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:42:59</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:44:00</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:47:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:49:45</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:52:00</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">1</span></div><div class="debug-message debug-message-flow-bd1eea0a.3f3d28"><span class="debug-message-date">13/1/2017, 20:54:20</span><span class="debug-message-name">input from wiot</span><span class="debug-message-topic">iot-2/cmd/ledon/fmt/json : msg.payload : number</span><span class="debug-message-payload">0</span></div></div></div></div></div>
        <div id="sidebar-footer"><div style="display: none;"><a class="sidebar-footer-button" id="workspace-config-node-collapse-all" href="#"><i class="fa fa-angle-double-up"></i></a> <a class="sidebar-footer-button" id="workspace-config-node-expand-all" href="#"><i class="fa fa-angle-double-down"></i></a></div></div>
    </div>

    <div id="sidebar-separator" class="ui-draggable"></div>

</div>

<div id="notifications"></div>
<div id="dropTarget"><div data-i18n="[append]workspace.dropFlowHere"><br><i class="fa fa-download"></i>Drop the flow here</div></div>








<script type="text/x-red" data-template-name="subflow">
    <div class="form-row">
        <label for="node-input-name" data-i18n="[append]editor:common.label.name"><i class="fa fa-tag"></i> </label>
        <input type="text" id="node-input-name">
    </div>
</script>

<script type="text/x-red" data-template-name="subflow-template">
    <div class="form-row">
        <label for="subflow-input-name" data-i18n="common.label.name"></label><input type="text" id="subflow-input-name">
    </div>
    <div class="form-row" style="margin-bottom: 0px;">
        <label for="subflow-input-info" data-i18n="subflow.info"></label>
        <a href="https://help.github.com/articles/markdown-basics/" style="font-size: 0.8em; float: right;" data-i18n="[html]subflow.format"></a>
    </div>
    <div class="form-row node-text-editor-row">
        <div style="height: 250px;" class="node-text-editor" id="subflow-input-info-editor"></div>
    </div>
    <div class="form-row form-tips" id="subflow-dialog-user-count"></div>
</script>

<script src="Node-RED%20:%20192.168.7.2_files/vendor.js"></script>
<script src="Node-RED%20:%20192.168.7.2_files/ace.js"></script>
<script src="Node-RED%20:%20192.168.7.2_files/ext-language_tools.js"></script>
<script src="Node-RED%20:%20192.168.7.2_files/red.js"></script>



<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable" style="display: none;" tabindex="-1" role="dialog" aria-describedby="library-dialog" aria-labelledby="ui-id-1"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-1" class="ui-dialog-title">Export nodes to library</span><button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" aria-disabled="false" title="close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">close</span></button></div><div id="library-dialog" class="hide ui-dialog-content ui-widget-content" style="display: block;"><form class="dialog-form form-horizontal"><div class="form-row"><label for="node-input-library-filename" data-i18n="[append]editor:library.filename"><i class="fa fa-file"></i> Filename</label><input id="node-input-library-filename" data-i18n="[placeholder]editor:library.fullFilenamePlaceholder" placeholder="a/b/file" type="text"><input style="display: none;" type="text"></div></form></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="library-dialog-cancel" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Cancel</span></button><button type="button" id="library-dialog-ok" class="primary ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Export</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable" style="display: none;" tabindex="-1" role="dialog" aria-describedby="clipboard-dialog" aria-labelledby="ui-id-2"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-2" class="ui-dialog-title">&nbsp;</span><button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" aria-disabled="false" title="close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">close</span></button></div><div id="clipboard-dialog" class="hide node-red-dialog ui-dialog-content ui-widget-content" style="display: block;"><form class="dialog-form form-horizontal"></form></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="clipboard-dialog-cancel" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Cancel</span></button><button type="button" id="clipboard-dialog-close" class="primary ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Close</span></button><button type="button" id="clipboard-dialog-ok" class="primary ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Import</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" style="display: none; position: absolute;" tabindex="-1" role="dialog" aria-describedby="node-dialog-confirm-deploy" aria-labelledby="ui-id-3"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-3" class="ui-dialog-title">Confirm deploy</span><button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" aria-disabled="false" title="close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">close</span></button></div><div id="node-dialog-confirm-deploy" class="hide ui-dialog-content ui-widget-content" style="display: block;">
    <form class="form-horizontal">
        <div id="node-dialog-confirm-deploy-config" style="text-align: left; padding-top: 30px; display: none;" data-i18n="[prepend]deploy.confirm.improperlyConfigured;[append]deploy.confirm.confirm">The workspace contains some nodes that are not properly configured:
            <ul style="font-size: 0.9em; width: 400px; margin: 10px auto; text-align: left;" id="node-dialog-confirm-deploy-invalid-list"></ul>
        Are you sure you want to deploy?</div>
        <div id="node-dialog-confirm-deploy-unknown" style="text-align: left; padding-top: 10px; display: none;" data-i18n="[prepend]deploy.confirm.unknown;[append]deploy.confirm.confirm">The workspace contains some unknown node types:
            <ul style="font-size: 0.9em; width: 400px; margin: 10px auto; text-align: left;" id="node-dialog-confirm-deploy-unknown-list"></ul>
        Are you sure you want to deploy?</div>
    </form>
</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div style="height:0; vertical-align: middle; display:inline-block; margin-top: 13px; float:left;"><input style="vertical-align:top;" id="node-dialog-confirm-deploy-hide" type="checkbox"><label style="display:inline;" for="node-dialog-confirm-deploy-hide"> do not warn about this again</label><input id="node-dialog-confirm-deploy-type" type="hidden"></div><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Cancel</span></button><button type="button" class="primary ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Confirm deploy</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="sentiment">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('sentiment',{
        category: 'analysis-function',
        color:"#E6E0F8",
        defaults: {
            name: {value:""},
        },
        inputs:1,
        outputs:1,
        icon: "arrow-in.png",
        label: function() {
            return this.name||"sentiment";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="sentiment">
    <p>Analyses the <code>msg.payload</code> and adds a <code>msg.sentiment</code> object
    that contains the resulting AFINN-111 sentiment score as <code>msg.sentiment.score</code>.</p>
    <p>A score greater than zero is positive and less than zero is negative.</p>
    <p>The score typically ranges from -5 to +5, but can go higher and lower.</p>
    <p>An object of word score overrides can be supplied as <code>msg.overrides</code>.</p>
    <p>See <a href="https://github.com/thisandagain/sentiment/blob/master/README.md" target="_new">the Sentiment docs here</a>.</p>
</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="inject">
    <div class="form-row">
        <label for="node-input-payload"><i class="fa fa-envelope"></i> <span data-i18n="common.label.payload"></span></label>
        <input type="text" id="node-input-payload" style="width:70%">
        <input type="hidden" id="node-input-payloadType">
    </div>

    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic">
    </div>

    <div class="form-row">
        <label for=""><i class="fa fa-repeat"></i> <span data-i18n="inject.label.repeat"></span></label>
        <select id="inject-time-type-select">
            <option value="none" data-i18n="inject.none"></option>
            <option value="interval" data-i18n="inject.interval"></option>
            <option value="interval-time" data-i18n="inject.interval-time"></option>
            <option value="time" data-i18n="inject.time"></option>
        </select>
        <input type="hidden" id="node-input-repeat">
        <input type="hidden" id="node-input-crontab">
    </div>

    <div class="form-row inject-time-row hidden" id="inject-time-row-interval">
        <span data-i18n="inject.every"></span>
        <input id="inject-time-interval-count" class="inject-time-count" value="1"></input>
        <select style="width: 100px" id="inject-time-interval-units">
            <option value="s" data-i18n="inject.seconds"></option>
            <option value="m" data-i18n="inject.minutes"></option>
            <option value="h" data-i18n="inject.hours"></option>
        </select><br/>
    </div>

    <div class="form-row inject-time-row hidden" id="inject-time-row-interval-time">
        <span data-i18n="inject.every"></span> <select style="width:90px" id="inject-time-interval-time-units" class="inject-time-int-count" value="1">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="10">10</option>
            <option value="12">12</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="0">60</option>
        </select> <span data-i18n="inject.minutes"></span><br/>
        <span data-i18n="inject.between"></span> <select id="inject-time-interval-time-start" class="inject-time-times"></select>
        <span data-i18n="inject.and"></span> <select id="inject-time-interval-time-end" class="inject-time-times"></select><br/>
        <div id="inject-time-interval-time-days" class="inject-time-days">
            <div style="display: inline-block; vertical-align: top;margin-right:5px;" data-i18n="inject.on">on</div>
            <div style="display:inline-block;">
                <div>
                    <label><input type='checkbox' checked value='1'/> <span data-i18n="inject.days.0"></span></label>
                    <label><input type='checkbox' checked value='2'/> <span data-i18n="inject.days.1"></span></label>
                    <label><input type='checkbox' checked value='3'/> <span data-i18n="inject.days.2"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='4'/> <span data-i18n="inject.days.3"></span></label>
                    <label><input type='checkbox' checked value='5'/> <span data-i18n="inject.days.4"></span></label>
                    <label><input type='checkbox' checked value='6'/> <span data-i18n="inject.days.5"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='0'/> <span data-i18n="inject.days.6"></span></label>
                </div>
            </div>
        </div>
    </div>

    <div class="form-row inject-time-row hidden" id="inject-time-row-time">
        <span data-i18n="inject.at"></span> <input id="inject-time-time" value="12:00"></input><br/>
        <div id="inject-time-time-days" class="inject-time-days">
            <div style="display: inline-block; vertical-align: top;margin-right: 5px;">on </div>
            <div style="display:inline-block;">
                <div>
                    <label><input type='checkbox' checked value='1'/> <span data-i18n="inject.days.0"></span></label>
                    <label><input type='checkbox' checked value='2'/> <span data-i18n="inject.days.1"></span></label>
                    <label><input type='checkbox' checked value='3'/> <span data-i18n="inject.days.2"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='4'/> <span data-i18n="inject.days.3"></span></label>
                    <label><input type='checkbox' checked value='5'/> <span data-i18n="inject.days.4"></span></label>
                    <label><input type='checkbox' checked value='6'/> <span data-i18n="inject.days.5"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='0'/> <span data-i18n="inject.days.6"></span></label>
                </div>
            </div>
        </div>
    </div>

    <div class="form-row" id="node-once">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-once" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-once" style="width: 70%;" data-i18n="inject.onstart"></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>

    <div class="form-tips" data-i18n="[html]inject.tip"></div>
</script>
<style>
    .inject-time-row {
        padding-left: 110px;
    }
    .inject-time-row select {
        margin: 3px 0;
    }
    .inject-time-days label {
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        vertical-align: top;
        width: 100px;
    }
     .inject-time-days input {
         width: auto;
     }
    .inject-time-times {
        width: 90px;
    }
    #inject-time-time {
        width: 75px;
    }
    .inject-time-count {
        width: 40px !important;
    }
</style>


<script type="text/javascript">
    RED.nodes.registerType('inject',{
        category: 'input',
        color:"#a6bbcf",
        defaults: {
            name: {value:""},
            topic: {value:""},
            payload: {value:"", validate:function(v) {
                var ptype = $("#node-input-payloadType").val() || this.payloadType;
                if (ptype === 'json') {
                    try {
                        JSON.parse(v);
                        return true;
                    } catch(err) {
                        return false;
                    }
                } else if (ptype === 'flow' || ptype === 'global' ) {
                    return /^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]+)*/i.test(v);
                } else if (ptype === 'num') {
                    return /^[+-]?[0-9]*\.?[0-9]*([eE][-+]?[0-9]+)?$/.test(v);
                }
                return true;
            }},
            payloadType: {value:"date"},
            repeat: {value:""},
            crontab: {value:""},
            once: {value:false}
        },
        inputs:0,
        outputs:1,
        icon: "inject.png",
        label: function() {
            var suffix = "";
            if (this.repeat || this.crontab) {
                suffix = " ↻";
            }
            if (this.name) {
                return this.name+suffix;
            } else if (this.payloadType === "string" ||
                    this.payloadType === "str" ||
                    this.payloadType === "num" ||
                    this.payloadType === "bool" ||
                    this.payloadType === "json") {
                if ((this.topic !== "") && ((this.topic.length + this.payload.length) <= 32)) {
                    return this.topic + ":" + this.payload+suffix;
                } else if (this.payload.length > 0 && this.payload.length < 24) {
                    return this.payload+suffix;
                } else {
                    return this._("inject.inject")+suffix;
                }
            } else if (this.payloadType === 'date') {
                return this._("inject.timestamp")+suffix;
            } else if (this.payloadType === 'flow' && this.payload.length < 19) {
                return 'flow.'+this.payload+suffix;
            } else if (this.payloadType === 'global' && this.payload.length < 17) {
                return 'global.'+this.payload+suffix;
            } else {
                return this._("inject.inject")+suffix;
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.payloadType == null) {
                if (this.payload == "") {
                    this.payloadType = "date";
                } else {
                    this.payloadType = "str";
                }
            } else if (this.payloadType === 'string' || this.payloadType === 'none') {
                this.payloadType = "str";
            }
            $("#node-input-payloadType").val(this.payloadType);

            $("#node-input-payload").typedInput({
                default: 'str',
                typeField: $("#node-input-payloadType"),
                types:['flow','global','str','num','bool','json','date']
            });

            $("#inject-time-type-select").change(function() {
                $("#node-input-crontab").val('');
                var id = $("#inject-time-type-select").val();
                $(".inject-time-row").hide();
                $("#inject-time-row-"+id).show();
                if ((id == "none") || (id == "interval")) {
                    $("#node-once").show();
                }
                else {
                    $("#node-once").hide();
                    $("#node-input-once").prop('checked', false);
                }
            });

            $(".inject-time-times").each(function() {
                for (var i=0;i<24;i++) {
                    var l = (i<10?"0":"")+i+":00";
                    $(this).append($("<option></option>").val(i).text(l));
                }
            });
            $("<option></option>").val(24).text("00:00").appendTo("#inject-time-interval-time-end");
            $("#inject-time-interval-time-start").change(function() {
                var start = Number($("#inject-time-interval-time-start").val());
                var end = Number($("#inject-time-interval-time-end").val());
                $("#inject-time-interval-time-end option").remove();
                for (var i=start+1;i<25;i++) {
                    var l = (i<10?"0":"")+i+":00";
                    if (i==24) {
                        l = "00:00";
                    }
                    var opt = $("<option></option>").val(i).text(l).appendTo("#inject-time-interval-time-end");
                    if (i === end) {
                        opt.attr("selected","selected");
                    }
                }
            });

            $(".inject-time-count").spinner({
                //max:60,
                min:1
            });

            $.widget( "ui.injecttimespinner", $.ui.spinner, {
                options: {
                    // seconds
                    step: 60 * 1000,
                    // hours
                    page: 60
                },
                _parse: function( value ) {
                    if ( typeof value === "string" ) {
                        // already a timestamp
                        if ( Number( value ) == value ) {
                            return Number( value );
                        }
                        var p = value.split(":");
                        var offset = new Date().getTimezoneOffset();
                        return ((Number(p[0])*60)+Number(p[1])+offset)*60*1000;
                    }
                    return value;
                },
                _format: function( value ) {
                    var d = new Date(value);
                    var h = d.getHours();
                    var m = d.getMinutes();
                    return ((h < 10)?"0":"")+h+":"+((m < 10)?"0":"")+m;
                }
            });

            $("#inject-time-time").injecttimespinner();

            var repeattype = "none";
            if (this.repeat != "" && this.repeat != 0) {
                repeattype = "interval";
                var r = "s";
                var c = this.repeat;
                if (this.repeat % 60 === 0) { r = "m"; c = c/60; }
                if (this.repeat % 1440 === 0) { r = "h"; c = c/60; }
                $("#inject-time-interval-count").val(c);
                $("#inject-time-interval-units").val(r);
                $("#inject-time-interval-days").prop("disabled","disabled");
            } else if (this.crontab) {
                var cronparts = this.crontab.split(" ");
                var days = cronparts[4];
                if (!isNaN(cronparts[0]) && !isNaN(cronparts[1])) {
                    repeattype = "time";
                    // Fixed time
                    var time = cronparts[1]+":"+cronparts[0];
                    $("#inject-time-time").val(time);
                    $("#inject-time-type-select").val("s");
                    if (days == "*") {
                        $("#inject-time-time-days input[type=checkbox]").prop("checked",true);
                    } else {
                        $("#inject-time-time-days input[type=checkbox]").removeAttr("checked");
                        days.split(",").forEach(function(v) {
                            $("#inject-time-time-days [value=" + v + "]").prop("checked", true);
                        });
                    }
                } else {
                    repeattype = "interval-time";
                    // interval - time period
                    var minutes = cronparts[0].slice(2);
                    if (minutes === "") { minutes = "0"; }
                    $("#inject-time-interval-time-units").val(minutes);
                    if (days == "*") {
                        $("#inject-time-interval-time-days input[type=checkbox]").prop("checked",true);
                    } else {
                        $("#inject-time-interval-time-days input[type=checkbox]").removeAttr("checked");
                        days.split(",").forEach(function(v) {
                            $("#inject-time-interval-time-days [value=" + v + "]").prop("checked", true);
                        });
                    }
                    var time = cronparts[1];
                    var timeparts = time.split(",");
                    var start;
                    var end;
                    if (timeparts.length == 1) {
                        // 0 or 0-10
                        var hours = timeparts[0].split("-");
                        if (hours.length == 1) {
                            if (hours[0] === "") {
                                start = "0";
                                end = "0";
                            }
                            else {
                                start = hours[0];
                                end = Number(hours[0])+1;
                            }
                        } else {
                            start = hours[0];
                            end = Number(hours[1])+1;
                        }
                    } else {
                        // 23,0 or 17-23,0-10 or 23,0-2 or 17-23,0
                        var startparts = timeparts[0].split("-");
                        start = startparts[0];

                        var endparts = timeparts[1].split("-");
                        if (endparts.length == 1) {
                            end = Number(endparts[0])+1;
                        } else {
                            end = Number(endparts[1])+1;
                        }
                    }
                    $("#inject-time-interval-time-end").val(end);
                    $("#inject-time-interval-time-start").val(start);

                }
            } else {
                $("#inject-time-type-select").val("none");
            }

            $(".inject-time-row").hide();
            $("#inject-time-type-select").val(repeattype);
            $("#inject-time-row-"+repeattype).show();

            $("#node-input-payload").typedInput('type',this.payloadType);

            $("#inject-time-type-select").change();
            $("#inject-time-interval-time-start").change();

        },
        oneditsave: function() {
            var repeat = "";
            var crontab = "";
            var type = $("#inject-time-type-select").val();
            if (type == "none") {
                // nothing
            } else if (type == "interval") {
                var count = $("#inject-time-interval-count").val();
                var units = $("#inject-time-interval-units").val();
                if (units == "s") {
                    repeat = count;
                } else {
                    if (units == "m") {
                        //crontab = "*/"+count+" * * * "+days;
                        repeat = count * 60;
                    } else if (units == "h") {
                        //crontab = "0 */"+count+" * * "+days;
                        repeat = count * 60 * 60;
                    }
                }
            } else if (type == "interval-time") {
                repeat = "";
                var count = $("#inject-time-interval-time-units").val();
                var startTime = Number($("#inject-time-interval-time-start").val());
                var endTime = Number($("#inject-time-interval-time-end").val());
                var days = $('#inject-time-interval-time-days  input[type=checkbox]:checked').map(function(_, el) {
                    return $(el).val()
                }).get();
                if (days.length == 0) {
                    crontab = "";
                } else {
                    if (days.length == 7) {
                        days="*";
                    } else {
                        days = days.join(",");
                    }
                    var timerange = "";
                    if (endTime == 0) {
                        timerange = startTime+"-23";
                    } else if (startTime+1 < endTime) {
                        timerange = startTime+"-"+(endTime-1);
                    } else if (startTime+1 == endTime) {
                        timerange = startTime;
                    } else {
                        var startpart = "";
                        var endpart = "";
                        if (startTime == 23) {
                            startpart = "23";
                        } else {
                            startpart = startTime+"-23";
                        }
                        if (endTime == 1) {
                            endpart = "0";
                        } else {
                            endpart = "0-"+(endTime-1);
                        }
                        timerange = startpart+","+endpart;
                    }
                    if (count === "0") {
                        crontab = count+" "+timerange+" * * "+days;
                    } else {
                        crontab = "*/"+count+" "+timerange+" * * "+days;
                    }
                }
            } else if (type == "time") {
                var time = $("#inject-time-time").val();
                var days = $('#inject-time-time-days  input[type=checkbox]:checked').map(function(_, el) {
                    return $(el).val()
                }).get();
                if (days.length == 0) {
                    crontab = "";
                } else {
                    if (days.length == 7) {
                        days="*";
                    } else {
                        days = days.join(",");
                    }
                    var parts = time.split(":");
                    repeat = "";
                    crontab = parts[1]+" "+parts[0]+" * * "+days;
                }
            }

            $("#node-input-repeat").val(repeat);
            $("#node-input-crontab").val(crontab);
        },
        button: {
            onclick: function() {
                var label = (this.name||this.payload).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
                if (this.payloadType === "date") { label = this._("inject.timestamp"); }
                if (this.payloadType === "none") { label = this._("inject.blank"); }
                var node = this;
                $.ajax({
                    url: "inject/"+this.id,
                    type:"POST",
                    success: function(resp) {
                        RED.notify(node._("inject.success",{label:label}),"success");
                    },
                    error: function(jqXHR,textStatus,errorThrown) {
                        if (jqXHR.status == 404) {
                            RED.notify(node._("common.notification.error",{message:node._("common.notification.errors.not-deployed")}),"error");
                        } else if (jqXHR.status == 500) {
                            RED.notify(node._("common.notification.error",{message:node._("inject.errors.failed")}),"error");
                        } else if (jqXHR.status == 0) {
                            RED.notify(node._("common.notification.error",{message:node._("common.notification.errors.no-response")}),"error");
                        } else {
                            RED.notify(node._("common.notification.error",{message:node._("common.notification.errors.unexpected",{status:jqXHR.status,message:textStatus})}),"error");
                        }
                    }
                });
            }
        }
    });

</script>
<script type="text/x-red" data-help-name="inject">
    <p>Pressing the button on the left side of the node allows a message on a topic
       to be injected into the flow.</p>
    <p>The payload defaults to the current time in millisecs since 1970, but can
       also be set to various other javascript types.</p>
    <p>The repeat function allows the payload to be sent on the required schedule.</p>
    <p>The <i>Inject once at start</i> option actually waits a short interval before firing
       to give other nodes a chance to instantiate properly.</p>
    <p>The <i>Flow</i> and <i>Global</i> options allow one to inject a flow or global
        context value.
    </p>
    <p><b>Note: </b>"Interval between times" and "at a specific time" uses cron.
       This means that 20 minutes will be at the next hour, 20 minutes past and
       40 minutes past - not in 20 minutes time. If you want every 20 minutes
       from now - use the "interval" option.</p>
    <p><b>Note: </b>all string input is escaped. To add a carriage return to a string
    you should use a following function.</p>
</script><!--
  Copyright 2015, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="catch">
    <div class="form-row">
        <label style="width: auto" for="node-input-scope" data-i18n="catch.label.source"></label>
        <select id="node-input-scope-select">
            <option value="all" data-i18n="catch.scope.all"></option>
            <option value="target" data-i18n="catch.scope.selected"></options>
        </select>
    </div>
    <div class="form-row node-input-target-row" style="display: none;">
        <div id="node-input-catch-target-container-div" style="min-height: 100px;position: relative;   box-sizing: border-box; border-radius: 2px; height: 180px;  border: 1px solid #ccc;overflow:hidden; ">
            <div style="box-sizing: border-box; line-height: 20px; font-size: 0.8em; border-bottom: 1px solid #ddd; height: 20px;">
              <input type="checkbox" data-i18n="[title]catch.label.selectAll" id="node-input-target-node-checkbox-all" style="width: 30px; margin: 0 2px 1px 2px;">
              <div style="display: inline-block;"><a id="node-input-target-sort-label" href="#" data-i18n="[title]catch.label.sortByLabel"><span data-i18n="catch.label.node"></span> <i class="node-input-catch-sort-label-a fa fa-caret-down"></i><i class="node-input-catch-sort-label-d fa fa-caret-up"></i></a></div>
              <div style="position: absolute; right: 10px; width: 50px; display: inline-block; text-align: right;"><a id="node-input-target-sort-type" href="#" data-i18n="[title]catch.label.sortByType"><i class="node-input-catch-sort-sublabel-a fa fa-caret-down"></i><i class="node-input-catch-sort-sublabel-d fa fa-caret-up"></i> <span data-i18n="catch.label.type"></span></a></div>
            </div>
            <div style="background: #fbfbfb; box-sizing: border-box; position:absolute; top:20px;bottom:0;left:0px;right:0px; overflow-y: scroll; overflow-x: hidden;">
                <ul id="node-input-catch-target-container" style=" list-style-type:none; margin: 0;"></ul>
            </div>
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<style>
#node-input-catch-target-container {
    position: relative;
}
#node-input-catch-target-container li {
    padding: 2px 5px;
    background: none;
    font-size: 0.8em;
    margin:0;
    white-space: nowrap;
}
#node-input-catch-target-container li label {
    margin-bottom: 0;
    width: 100%;
}
#node-input-catch-target-container li label input {
    vertical-align: top;
    width:15px;
    margin-right: 10px;
}
#node-input-catch-target-container li:hover,
#node-input-catch-target-container li:hover .node-input-target-node-sublabel {
    background: #f0f0f0;
}
.node-input-target-node-sublabel {
    position:absolute;
    right: 0px;
    padding-right: 10px;
    padding-left: 10px;
    font-size: 0.8em;
    background: #fbfbfb;
}
</style>
<script type="text/javascript">
    RED.nodes.registerType('catch',{
        category: 'input',
        color:"#e49191",
        defaults: {
            name: {value:""},
            scope: {value:null}
        },
        inputs:0,
        outputs:1,
        icon: "alert.png",
        label: function() {
            return this.name||(this.scope?this._("catch.catchNodes",{number:this.scope.length}):this._("catch.catch"));
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var nodeList = $("#node-input-catch-target-container");
            var node = this;
            this.resize = function() {
                var rows = $("#dialog-form>div:not(.node-input-target-row)");
                var height = $("#dialog-form").height();
                for (var i=0;i<rows.size();i++) {
                    height -= $(rows[i]).outerHeight(true);
                }
                var editorRow = $("#dialog-form>div.node-input-target-row");
                height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
                $("#node-input-catch-target-container-div").css("height",height+"px");
            }

            function createNodeList() {
                var scope = node.scope || [];
                nodeList.empty();

                var candidateNodes = RED.nodes.filterNodes({z:node.z});
                var allChecked = true;

                candidateNodes.forEach(function(n) {
                    if (n.id === node.id) {
                        return;
                    }
                    var isChecked = scope.indexOf(n.id) !== -1;

                    allChecked = allChecked && isChecked;

                    var container = $('<li></li>',{class:"node-input-target-node"});
                    var row = $('<label></label>',{for:"node-input-target-node-"+n.id}).appendTo(container);
                    $('<input>',{type:"checkbox",class:"node-input-target-node-checkbox",id:"node-input-target-node-"+n.id})
                        .data('node-id',n.id)
                        .prop('checked', isChecked)
                        .appendTo(row);
                    container.on('mouseover',function(e) {
                        n.highlighted = true;
                        n.dirty = true;
                        RED.view.redraw();
                    });
                    container.on('mouseout',function(e) {
                        n.highlighted = false;
                        n.dirty = true;
                        RED.view.redraw();
                    });
                    var labelSpan = $('<span>');
                    var nodeDef = RED.nodes.getType(n.type);
                    var label;
                    var sublabel;
                    if (nodeDef) {
                        var l = nodeDef.label;
                        label = (typeof l === "function" ? l.call(n) : l)||"";
                        sublabel = n.type;
                        if (sublabel.indexOf("subflow:") === 0) {
                            var subflowId = sublabel.substring(8);
                            var subflow = RED.nodes.subflow(subflowId);
                            sublabel = "subflow : "+subflow.name;
                        }
                    }
                    if (!nodeDef || !label) {
                        label = n.type;
                    }
                    $('<span>',{class:"node-input-target-node-label",style:"white-space:nowrap"}).text(label).appendTo(row);
                    if (sublabel) {
                        $('<span>',{class:"node-input-target-node-sublabel"}).text(sublabel).appendTo(row);
                    }

                    container.appendTo(nodeList);
                });

                $(".node-input-target-node-checkbox").change(function() {
                    if (!this.checked) {
                        $("#node-input-target-node-checkbox-all").prop('checked',false);
                    }
                });

                $("#node-input-target-node-checkbox-all").prop('checked',allChecked);

                sortNodeList('label');
            }

            function sortNodeList(sortOn) {
                var currentSort = nodeList.data('currentSort');
                var currentSortOrder = nodeList.data('currentSortOrder');

                if (!currentSort) {
                    currentSort = sortOn;
                    currentSortOrder = 'a';
                } else {
                    if (currentSort === sortOn) {
                        currentSortOrder = (currentSortOrder === 'a'?'d':'a');
                    } else {
                        currentSortOrder = 'a';
                    }
                    currentSort = sortOn;
                }
                nodeList.data('currentSort',currentSort);
                nodeList.data('currentSortOrder',currentSortOrder);

                $("#node-input-catch-target-container-div .fa").hide();
                $(".node-input-catch-sort-"+currentSort+"-"+currentSortOrder).show();


                var items = nodeList.find("li").get();
                items.sort(function(a,b) {
                    var labelA = $(a).find(".node-input-target-node-"+currentSort).text().toLowerCase();
                    var labelB = $(b).find(".node-input-target-node-"+currentSort).text().toLowerCase();
                    if (labelA < labelB) { return currentSortOrder==='a'?-1:1; }
                    if (labelA > labelB) { return currentSortOrder==='a'?1:-1; }
                    return 0;
                });
                $.each(items, function(i, li){
                    nodeList.append(li);
                });
            }
            $("#node-input-target-sort-label").click(function(e) {
                e.preventDefault();
                sortNodeList('label');
            });

            $("#node-input-target-sort-type").click(function(e) {
                e.preventDefault();
                sortNodeList('sublabel')
            });
            $("#node-input-target-node-checkbox-all").change(function() {
                $(".node-input-target-node-checkbox").prop('checked',this.checked);
            })



            $("#node-input-scope-select").change(function(e) {
                var scope = $(this).val();
                if (scope === "target") {
                    createNodeList();
                    $(".node-input-target-row").show();
                } else {
                    $(".node-input-target-row").hide();
                }
                node.resize();
            });
            if (this.scope == null) {
                $("#node-input-scope-select").val("all");
            } else {
                $("#node-input-scope-select").val("target");
            }
            $("#node-input-scope-select").change();
        },
        oneditsave: function() {
            var scope = $("#node-input-scope-select").val();
            if (scope === 'all') {
                this.scope = null;
            } else {
                var node = this;
                node.scope = [];
                $(".node-input-target-node-checkbox").each(function(n) {
                    if ($(this).prop("checked")) {
                        node.scope.push($(this).data('node-id'));
                    }
                })
            }
        },
        oneditresize: function(size) {
            this.resize();
        }
    });
</script>
<script type="text/x-red" data-help-name="catch">
    <p>Catch errors thrown by nodes on the same tab.</p>
    <p>If a node throws a error whilst handling a message, the flow will typically
       halt. This node can be used to catch those errors and handle them with a
       dedicated flow.</p>
    <p>The node will catch errors thrown by any node on the same tab. If there
       are multiple catch nodes on a tab, they will all get triggered.</p>
    <p>If an error is thrown within a subflow, the error will get handled by any
       catch nodes within the subflow. If none exists, the error is propagated
       up to the tab the subflow instance is on.</p>
    <p>The message sent by this node will be the original message if the node that
       threw the error provided it. The message will have an <code>error</code>
       property with the following attributes:
       <ul>
        <li><code>message</code> : the error message</li>
        <li><code>source.id</code> : the id of the node that threw the error</li>
        <li><code>source.type</code> : the type of the node that threw the error</li>
        <li><code>source.name</code> : the name, if set, of the node that threw the error</li>
       </ul>
   </p>
   <p>If the message already had a <code>error</code> property, it is copied to <code>_error</code>.</p>
</script><!--
  Copyright 2015, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="status">
    <div class="form-row">
        <label style="width: auto" for="node-input-scope" data-i18n="status.label.source"></label>
        <select id="node-input-scope-select">
            <option value="all" data-i18n="status.scope.all"></option>
            <option value="target" data-i18n="status.scope.selected"></options>
        </select>
    </div>
    <div class="form-row node-input-target-row" style="display: none;">
        <div id="node-input-status-target-container-div" style=" min-height: 100px;position: relative;   box-sizing: border-box; border-radius: 2px; height: 180px;  border: 1px solid #ccc;overflow:hidden; ">
            <div style="box-sizing: border-box; line-height: 20px; font-size: 0.8em; border-bottom: 1px solid #ddd; height: 20px;">
              <input type="checkbox" data-i18n="[title]status.label.selectAll" id="node-input-target-node-checkbox-all" style="width: 30px; margin: 0 2px 1px 2px;">
              <div style="display: inline-block;"><a id="node-input-target-sort-label" href="#" data-i18n="[title]status.label.sortByLabel"><span data-i18n="status.label.node"></span> <i class="node-input-status-sort-label-a fa fa-caret-down"></i><i class="node-input-status-sort-label-d fa fa-caret-up"></i></a></div>
              <div style="position: absolute; right: 10px; width: 50px; display: inline-block; text-align: right;"><a id="node-input-target-sort-type" href="#" data-i18n="[title]status.label.sortByType"><i class="node-input-status-sort-sublabel-a fa fa-caret-down"></i><i class="node-input-status-sort-sublabel-d fa fa-caret-up"></i> <span data-i18n="status.label.type"></span></a></div>
            </div>
            <div style="background: #fbfbfb; box-sizing: border-box; position:absolute; top:20px;bottom:0;left:0px;right:0px; overflow-y: scroll; overflow-x: hidden;">
                <ul id="node-input-status-target-container" style=" list-style-type:none; margin: 0;"></ul>
            </div>
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<style>
#node-input-status-target-container {
    position: relative;
}
#node-input-status-target-container li {
    padding: 2px 5px;
    background: none;
    font-size: 0.8em;
    margin:0;
    white-space: nowrap;
}
#node-input-status-target-container li label {
    margin-bottom: 0;
    width: 100%;
}
#node-input-status-target-container li label input {
    vertical-align: top;
    width:15px;
    margin-right: 10px;
}
#node-input-status-target-container li:hover,
#node-input-status-target-container li:hover .node-input-target-node-sublabel {
    background: #f0f0f0;
}
.node-input-target-node-sublabel {
    position:absolute;
    right: 0px;
    padding-right: 10px;
    padding-left: 10px;
    font-size: 0.8em;
    background: #fbfbfb;
}
</style>
<script type="text/javascript">
    RED.nodes.registerType('status',{
        category: 'input',
        color:"#c0edc0",
        defaults: {
            name: {value:""},
            scope: {value:null}
        },
        inputs:0,
        outputs:1,
        icon: "alert.png",
        label: function() {
            return this.name||(this.scope?this._("status.statusNodes",{number:this.scope.length}):this._("status.status"));
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var nodeList = $("#node-input-status-target-container");
            var node = this;
            this.resize = function() {
                var rows = $("#dialog-form>div:not(.node-input-target-row)");
                var height = $("#dialog-form").height();
                for (var i=0;i<rows.size();i++) {
                    height -= $(rows[i]).outerHeight(true);
                }
                var editorRow = $("#dialog-form>div.node-input-target-row");
                height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
                $("#node-input-status-target-container-div").css("height",height+"px");
            }

            function createNodeList() {
                var scope = node.scope || [];
                nodeList.empty();

                var candidateNodes = RED.nodes.filterNodes({z:node.z});
                var allChecked = true;

                candidateNodes.forEach(function(n) {
                    if (n.id === node.id) {
                        return;
                    }
                    var isChecked = scope.indexOf(n.id) !== -1;

                    allChecked = allChecked && isChecked;

                    var container = $('<li></li>',{class:"node-input-target-node"});
                    var row = $('<label></label>',{for:"node-input-target-node-"+n.id}).appendTo(container);
                    $('<input>',{type:"checkbox",class:"node-input-target-node-checkbox",id:"node-input-target-node-"+n.id})
                        .data('node-id',n.id)
                        .prop('checked', isChecked)
                        .appendTo(row);
                    container.on('mouseover',function(e) {
                        n.highlighted = true;
                        n.dirty = true;
                        RED.view.redraw();
                    });
                    container.on('mouseout',function(e) {
                        n.highlighted = false;
                        n.dirty = true;
                        RED.view.redraw();
                    });
                    var labelSpan = $('<span>');
                    var nodeDef = RED.nodes.getType(n.type);
                    var label;
                    var sublabel;
                    if (nodeDef) {
                        var l = nodeDef.label;
                        label = (typeof l === "function" ? l.call(n) : l)||"";
                        sublabel = n.type;
                        if (sublabel.indexOf("subflow:") === 0) {
                            var subflowId = sublabel.substring(8);
                            var subflow = RED.nodes.subflow(subflowId);
                            sublabel = "subflow : "+subflow.name;
                        }
                    }
                    if (!nodeDef || !label) {
                        label = n.type;
                    }
                    $('<span>',{class:"node-input-target-node-label",style:"white-space:nowrap"}).text(label).appendTo(row);
                    if (sublabel) {
                        $('<span>',{class:"node-input-target-node-sublabel"}).text(sublabel).appendTo(row);
                    }

                    container.appendTo(nodeList);
                });

                $(".node-input-target-node-checkbox").change(function() {
                    if (!this.checked) {
                        $("#node-input-target-node-checkbox-all").prop('checked',false);
                    }
                });

                $("#node-input-target-node-checkbox-all").prop('checked',allChecked);

                sortNodeList('label');
            }

            function sortNodeList(sortOn) {
                var currentSort = nodeList.data('currentSort');
                var currentSortOrder = nodeList.data('currentSortOrder');

                if (!currentSort) {
                    currentSort = sortOn;
                    currentSortOrder = 'a';
                } else {
                    if (currentSort === sortOn) {
                        currentSortOrder = (currentSortOrder === 'a'?'d':'a');
                    } else {
                        currentSortOrder = 'a';
                    }
                    currentSort = sortOn;
                }
                nodeList.data('currentSort',currentSort);
                nodeList.data('currentSortOrder',currentSortOrder);

                $("#node-input-status-target-container-div .fa").hide();
                $(".node-input-status-sort-"+currentSort+"-"+currentSortOrder).show();


                var items = nodeList.find("li").get();
                items.sort(function(a,b) {
                    var labelA = $(a).find(".node-input-target-node-"+currentSort).text().toLowerCase();
                    var labelB = $(b).find(".node-input-target-node-"+currentSort).text().toLowerCase();
                    if (labelA < labelB) { return currentSortOrder==='a'?-1:1; }
                    if (labelA > labelB) { return currentSortOrder==='a'?1:-1; }
                    return 0;
                });
                $.each(items, function(i, li){
                    nodeList.append(li);
                });
            }
            $("#node-input-target-sort-label").click(function(e) {
                e.preventDefault();
                sortNodeList('label');
            });

            $("#node-input-target-sort-type").click(function(e) {
                e.preventDefault();
                sortNodeList('sublabel')
            });
            $("#node-input-target-node-checkbox-all").change(function() {
                $(".node-input-target-node-checkbox").prop('checked',this.checked);
            })

            $("#node-input-scope-select").change(function(e) {
                var scope = $(this).val();
                if (scope === "target") {
                    createNodeList();
                    $(".node-input-target-row").show();
                } else {
                    $(".node-input-target-row").hide();
                }
                node.resize();
            });
            if (this.scope == null) {
                $("#node-input-scope-select").val("all");
            } else {
                $("#node-input-scope-select").val("target");
            }
            $("#node-input-scope-select").change();
        },
        oneditsave: function() {
            var scope = $("#node-input-scope-select").val();
            if (scope === 'all') {
                this.scope = null;
            } else {
                var node = this;
                node.scope = [];
                $(".node-input-target-node-checkbox").each(function(n) {
                    if ($(this).prop("checked")) {
                        node.scope.push($(this).data('node-id'));
                    }
                })

            }
        },
        oneditresize: function(size) {
            this.resize();
        }
    });
</script>
<script type="text/x-red" data-help-name="status">
    <p>Send status messages from other nodes on the same tab.</p>
    <p>The message sent by this node will have a <code>status</code> property
    with the following attributes:
        <ul>
            <li><code>text</code> : the status text</li>
            <li><code>source.type</code> : the type of the node that reported status</li>
            <li><code>source.id</code> : the id of the node that reported status</li>
            <li><code>source.name</code> : the name, if set, of the node that reported status</li>

        </ul>
   </p>
</script><!--
  Copyright 2013, 2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="debug">
    <div class="form-row">
        <label for="node-input-typed-complete"><i class="fa fa-list"></i> <span data-i18n="debug.output"></span></label>
        <input id="node-input-typed-complete" type="text" style="width: 70%">
        <input id="node-input-complete" type="hidden">
    </div>
    <div class="form-row">
        <label for="node-input-console"><i class="fa fa-random"></i> <span data-i18n="debug.to"></span></label>
        <select type="text" id="node-input-console" style="display: inline-block; width: 250px; vertical-align: top;">
            <option value="false" data-i18n="debug.debtab"></option>
            <option value="true" data-i18n="debug.tabcon"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">

    RED.nodes.registerType('debug',{
        category: 'output',
        defaults: {
            name: {value:""},
            active: {value:true},
            console: {value:"false"},
            complete: {value:"false", required:true}
        },
        label: function() {
            if (this.complete === true || this.complete === "true") {
                return this.name||"msg";
            } else {
                return this.name || "msg." + ((!this.complete || this.complete === "false") ? "payload" : this.complete);
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        color:"#87a980",
        inputs:1,
        outputs:0,
        icon: "debug.png",
        align: "right",
        button: {
            toggle: "active",
            onclick: function() {
                var label = this.name||"debug";
                var node = this;
                $.ajax({
                    url: "debug/"+this.id+"/"+(this.active?"enable":"disable"),
                    type: "POST",
                    success: function(resp, textStatus, xhr) {
                        if (xhr.status == 200) {
                            RED.notify(node._("debug.notification.activated",{label:label}),"success");
                        } else if (xhr.status == 201) {
                            RED.notify(node._("debug.notification.deactivated",{label:label}),"success");
                        }
                    },
                    error: function(jqXHR,textStatus,errorThrown) {
                        if (jqXHR.status == 404) {
                            RED.notify(node._("common.notification.error", {message: node._("common.notification.errors.not-deployed")}),"error");
                        } else if (jqXHR.status == 0) {
                            RED.notify(node._("common.notification.error", {message: node._("common.notification.errors.no-response")}),"error");
                        } else {
                            RED.notify(node._("common.notification.error",{message:node._("common.notification.errors.unexpected",{status:err.status,message:err.response})}),"error");
                        }
                    }
                });
            }
        },
        onpaletteadd: function() {
            var content = $("<div>").css({"position":"relative","height":"100%"});
            var toolbar = $('<div class="sidebar-header">'+
                '<span class="button-group">'+
                    '<a class="sidebar-header-button-toggle selected" id="debug-tab-filter-all" href="#"><span data-i18n="node-red:debug.sidebar.filterAll"></span></a>'+
                    '<a class="sidebar-header-button-toggle" id="debug-tab-filter-current" href="#"><span data-i18n="node-red:debug.sidebar.filterCurrent"></span></a> '+
                '</span>'+
                '<span><a id="debug-tab-clear" title="clear log" class="sidebar-header-button" href="#"><i class="fa fa-trash"></i></a></span></div>').appendTo(content);

            var messages = $('<div id="debug-content"></div>').appendTo(content);
            content.i18n();

            RED.sidebar.addTab({
                id: "debug",
                label: this._("debug.sidebar.label"),
                name: this._("debug.sidebar.name"),
                content: content,
                enableOnEdit: true
            });

            function getTimestamp() {
                var d = new Date();
                return d.toLocaleString();
            }

            var sbc = document.getElementById("debug-content");
            var filter = false;
            var messageCount = 0;
            var that = this;
            RED._debug = function(msg) {
                that.handleDebugMessage("",{
                    name:"debug",
                    msg:msg
                });
            }
            function sanitize(m) {
                return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
            }

            var refreshMessageList = function() {
                $(".debug-message").each(function() {
                    $(this).toggleClass('hide',filter&&!$(this).hasClass('debug-message-flow-'+RED.workspaces.active()));
                });
            }

            this.handleDebugMessage = function(t,o) {
                var msg = document.createElement("div");

                var sourceNode = RED.nodes.node(o.id) || RED.nodes.node(o.z);

                msg.onmouseover = function() {
                    msg.style.borderRightColor = "#999";
                    var n = RED.nodes.node(o.id) || RED.nodes.node(o.z);
                    if (n) {
                        n.highlighted = true;
                        n.dirty = true;
                    }
                    RED.view.redraw();
                };
                msg.onmouseout = function() {
                    msg.style.borderRightColor = "";
                    var n = RED.nodes.node(o.id) || RED.nodes.node(o.z);
                    if (n) {
                        n.highlighted = false;
                        n.dirty = true;
                    }
                    RED.view.redraw();
                };
                msg.onclick = function() {
                    var node = RED.nodes.node(o.id) || RED.nodes.node(o.z);
                    if (node) {
                        RED.workspaces.show(node.z);
                    }

                };
                //console.log(o);
                var name = sanitize(((o.name?o.name:o.id)||"").toString());
                var topic = sanitize((o.topic||"").toString());
                var property = sanitize(o.property?o.property:'');
                var payload = sanitize((o.msg||"").toString());
                var format = sanitize((o.format||"").toString());

                msg.className = 'debug-message'+(o.level?(' debug-message-level-'+o.level):'') +
                                ((sourceNode&&sourceNode.z)?((" debug-message-flow-"+sourceNode.z+((filter&&(RED.workspaces.active()!==sourceNode.z))?" hide":""))):"");
                msg.innerHTML = '<span class="debug-message-date">'+
                                getTimestamp()+'</span>'+
                                (name?'<span class="debug-message-name">'+name:'')+
                                '</span>';
                // NOTE: relying on function error to have a "type" that all other msgs don't
                if (o.hasOwnProperty("type") && (o.type === "function")) {
                    var errorLvlType = 'error';
                    var errorLvl = 20;
                    if (o.hasOwnProperty("level") && o.level === 30) {
                        errorLvl = 30;
                        errorLvlType = 'warn';
                    }
                    msg.className = 'debug-message debug-message-level-' + errorLvl;
                    msg.innerHTML += '<span class="debug-message-topic">function : (' + errorLvlType + ')</span>';
                } else {
                    msg.innerHTML += '<span class="debug-message-topic">'+
                                    (o.topic?topic+' : ':'')+
                                    (o.property?'msg.'+property:'msg')+" : "+format+

                                    '</span>';
                }
                msg.innerHTML += '<span class="debug-message-payload">'+ payload+ '</span>';
                var atBottom = (sbc.scrollHeight-messages.height()-sbc.scrollTop) < 5;
                messageCount++;
                messages.append(msg);

                if (messageCount > 200) {
                    $("#debug-content .debug-message:first").remove();
                    messageCount--;
                }
                if (atBottom) {
                    $(sbc).scrollTop(sbc.scrollHeight);
                }
            };
            RED.comms.subscribe("debug",this.handleDebugMessage);

            $("#debug-tab-clear").click(function() {
                $(".debug-message").remove();
                messageCount = 0;
                RED.nodes.eachNode(function(node) {
                    node.highlighted = false;
                    node.dirty = true;
                });
                RED.view.redraw();
            });
            $('#debug-tab-filter-all').on("click",function(e) {
                e.preventDefault();
                if (filter) {
                    $(this).addClass('selected');
                    $('#debug-tab-filter-current').removeClass('selected');
                    filter = !filter;
                    refreshMessageList();
                }
            });
            $('#debug-tab-filter-current').on("click",function(e) {
                e.preventDefault();
                if (!filter) {
                    $(this).addClass('selected');
                    $('#debug-tab-filter-all').removeClass('selected');
                    filter = !filter;
                    refreshMessageList();
                }
            });
            RED.events.on("workspace:change", refreshMessageList);

        },
        onpaletteremove: function() {
            RED.comms.unsubscribe("debug",this.handleDebugMessage);
            RED.sidebar.removeTab("debug");
            RED.events.off("workspace:change", refreshMessageList);
            delete RED._debug;
        },
        oneditprepare: function() {
            $("#node-input-typed-complete").typedInput({types:['msg', {value:"full",label:RED._("node-red:debug.msgobj"),hasValue:false}]});
            if (this.complete === "true" || this.complete === true) {
                // show complete message object
                $("#node-input-typed-complete").typedInput('type','full');
            } else {
                var property = (!this.complete||(this.complete === "false")) ? "payload" : this.complete+"";
                $("#node-input-typed-complete").typedInput('type','msg');
                $("#node-input-typed-complete").typedInput('value',property);
            }
            $("#node-input-typed-complete").on('change',function() {
                if ($("#node-input-typed-complete").typedInput('type') === 'msg'
                    &&
                    $("#node-input-typed-complete").typedInput('value') === ''
                ) {
                    $("#node-input-typed-complete").typedInput('value','payload');
                }
            });
        },
        oneditsave: function() {
            var type = $("#node-input-typed-complete").typedInput('type');
            if (type === 'full') {
                $("#node-input-complete").val("true");
            } else {
                $("#node-input-complete").val($("#node-input-typed-complete").typedInput('value'));
            }
        }

    });
</script>

<style>
    #debug-content {
        position: absolute;
        top: 43px;
        bottom: 0px;
        left:0px;
        right: 0px;
        overflow-y: scroll;
    }
    .debug-message {
        cursor: pointer;
        border-bottom: 1px solid #eee;
        border-left: 8px solid #eee;
        border-right: 8px solid #eee;
        padding: 2px;
    }
    .debug-message-date {
        background: #fff;
        font-size: 9px;
        color: #aaa;
        padding: 1px 5px 1px 1px;
    }
    .debug-message-topic {
        display: block;
        background: #fff;
        padding: 1px;
        font-size: 10px;
        color: #a66;
    }
    .debug-message-name {
        background: #fff;
        padding: 1px 5px;
        font-size: 9px;
        color: #aac;
    }
    .debug-message-payload {
        display: block;
        padding: 2px;
        background: #fff;
    }
    .debug-message-level-log {
        border-left-color: #eee;
        border-right-color: #eee;
    }
    .debug-message-level-30 {
        border-left-color: #ffdf9d;
        border-right-color: #ffdf9d;
    }
    .debug-message-level-20 {
        border-left-color: #f99;
        border-right-color: #f99;
    }
</style>
<script type="text/x-red" data-help-name="debug">
    <p>The Debug node can be connected to the output of any node. It can be used to display the output of any message
    property in the debug tab of the sidebar. The default is to display <code>msg.payload</code>.</p>
    <p>Each message will also display the timestamp, <code>msg.topic</code> and the type of property chosen to output.</p>
    <p>The sidebar can be accessed under the options drop-down in the top right corner.</p>
    <p>The button to the right of the node will toggle its output on and off so you can de-clutter the debug window.</p>
    <p>If the payload is an object or buffer it will be stringified first for display and indicate that by saying "(Object)" or "(Buffer)".</p>
    <p>Selecting any particular message will highlight (in red) the debug node that reported it. This is useful if you wire up multiple debug nodes.</p>
    <p>Optionally can show the complete <code>msg</code> object, and send messages to the console log.</p>
    <p>In addition any calls to node.warn or node.error will appear here.</p>
</script><!--
  Copyright 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="link in">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row node-input-link-row"></div>
</script>
<script type="text/x-red" data-template-name="link out">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row node-input-link-row"></div>
</script>


<style>
#node-input-link-container {
    position: relative;
}
#node-input-link-container li {
    padding: 2px 5px;
    background: none;
    font-size: 0.8em;
    margin:0;
    white-space: nowrap;
}
#node-input-link-container li label {
    margin-bottom: 0;
    width: 100%;
}
#node-input-link-container li label input {
    vertical-align: top;
    width:15px;
    margin-right: 10px;
}
#node-input-link-container li:hover,
#node-input-link-container li:hover .node-input-target-node-sublabel {
    background: #f0f0f0;
}
.node-input-link-node-sublabel {
    position:absolute;
    right: 0px;
    padding-right: 10px;
    padding-left: 10px;
    font-size: 0.8em;
}
</style>

<script type="text/javascript">
(function() {

    function sortNodeList(nodeList,sortOn,sortOnSecond) {
        var currentSort = nodeList.data('currentSort');
        var currentSortOrder = nodeList.data('currentSortOrder');

        if (!currentSort) {
            currentSort = sortOn;
            currentSortOrder = 'a';
        } else {
            if (currentSort === sortOn) {
                currentSortOrder = (currentSortOrder === 'a'?'d':'a');
            } else {
                currentSortOrder = 'a';
            }
            currentSort = sortOn;
        }
        nodeList.data('currentSort',currentSort);
        nodeList.data('currentSortOrder',currentSortOrder);

        $("#node-input-link-container-div .fa").hide();
        $(".node-input-link-sort-"+currentSort+"-"+currentSortOrder).show();


        var items = nodeList.find("li").get();
        items.sort(function(a,b) {
            var labelA = $(a).find(".node-input-link-node-"+currentSort).text().toLowerCase();
            var labelB = $(b).find(".node-input-link-node-"+currentSort).text().toLowerCase();
            if (labelA < labelB) { return currentSortOrder==='a'?-1:1; }
            if (labelA > labelB) { return currentSortOrder==='a'?1:-1; }

            if (sortOnSecond) {
                labelA = $(a).find(".node-input-link-node-"+sortOnSecond).text().toLowerCase();
                labelB = $(b).find(".node-input-link-node-"+sortOnSecond).text().toLowerCase();
                if (labelA < labelB) { return currentSortOrder==='a'?-1:1; }
                if (labelA > labelB) { return currentSortOrder==='a'?1:-1; }
            }
            return 0;
        });
        $.each(items, function(i, li){
            nodeList.append(li);
        });
    }
    function onEditPrepare(node,targetType) {
        if (!node.links) {
            node.links = [];
        }
        node.oldLinks = [];

        $('<div id="node-input-link-container-div" style="min-height: 100px;position: relative;   box-sizing: border-box; border-radius: 2px; height: 180px;  border: 1px solid #ccc;overflow:hidden; ">'+
            '    <div style="box-sizing: border-box; line-height: 20px; font-size: 0.8em; border-bottom: 1px solid #ddd; height: 20px;">'+
            '        <div style="display: inline-block;margin-left: 5px;"><a id="node-input-link-sort-label" href="#" data-i18n="[title]link.label.sortByLabel"><span data-i18n="link.label.node">name</span> <i class="node-input-link-sort-label-a fa fa-caret-down"></i><i class="node-input-link-sort-label-d fa fa-caret-up"></i></a></div>'+
            '        <div style="position: absolute; right: 10px; width: 50px; display: inline-block; text-align: right;"><a id="node-input-link-sort-type" href="#" data-i18n="[title]link.label.sortByFlow"><i class="node-input-link-sort-sublabel-a fa fa-caret-down"></i><i class="node-input-link-sort-sublabel-d fa fa-caret-up"></i> <span data-i18n="link.label.type">flow</span></a></div>'+
            '    </div>'+
            '    <div style="background: #fbfbfb; box-sizing: border-box; position:absolute; top:20px;bottom:0;left:0px;right:0px; overflow-y: scroll; overflow-x: hidden;">'+
            '        <ul id="node-input-link-container" style=" list-style-type:none; margin: 0;"></ul>'+
            '    </div>'+
            '</div>').appendTo('.node-input-link-row');

        var nodeList = $("#node-input-link-container");
        var candidateNodes = RED.nodes.filterNodes({type:targetType});
        var inSubflow = (RED.nodes.subflow(node.z) != null);
        candidateNodes.forEach(function(n) {
            if (inSubflow) {
                if (n.z !== node.z) {
                    return;
                }
            } else {
                if (RED.nodes.subflow(n.z)!=null) {
                    return;
                }
            }
            var isChecked = false;

            isChecked = (node.links.indexOf(n.id) !== -1) || (n.links||[]).indexOf(node.id) !== -1;

            if (isChecked) {
                node.oldLinks.push(n.id);
            }

            var container = $('<li></li>',{class:"node-input-link-node"});
            var row = $('<label></label>',{for:"node-input-link-node-"+n.id}).appendTo(container);
            $('<input>',{type:"checkbox",class:"node-input-link-node-checkbox",id:"node-input-link-node-"+n.id})
                .data('node-id',n.id)
                .prop('checked', isChecked)
                .appendTo(row);
            container.on('mouseover',function(e) {
                n.highlighted = true;
                n.dirty = true;
                RED.view.redraw();
            });
            container.on('mouseout',function(e) {
                n.highlighted = false;
                n.dirty = true;
                RED.view.redraw();
            });
            var labelSpan = $('<span>');
            var label = n.name||n.id;
            var sublabel;
            var tab = RED.nodes.workspace(n.z);
            if (tab) {
                sublabel = tab.label||tab.id;
            } else {
                tab = RED.nodes.subflow(n.z);
                sublabel = "subflow : "+tab.name;
            }
            $('<span>',{class:"node-input-link-node-label",style:"white-space:nowrap"}).text(label).appendTo(row);
            if (sublabel) {
                $('<span>',{class:"node-input-link-node-sublabel"}).text(sublabel).appendTo(row);
            }
            container.appendTo(nodeList);
        });

        sortNodeList(nodeList,'sublabel','label');

        $("#node-input-link-sort-label").click(function(e) {
            e.preventDefault();
            sortNodeList(nodeList,'label');
        });

        $("#node-input-link-sort-type").click(function(e) {
            e.preventDefault();
            sortNodeList(nodeList,'sublabel');
        });
    }

    function resizeNodeList() {
        var rows = $("#dialog-form>div:not(.node-input-link-row)");
        var height = $("#dialog-form").height();
        for (var i=0;i<rows.size();i++) {
            height -= $(rows[i]).outerHeight(true);
        }
        var editorRow = $("#dialog-form>div.node-input-link-row");
        height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
        $("#node-input-link-container-div").css("height",height+"px");
    }

    function onEditSave(node) {
        node.links = [];
        $(".node-input-link-node-checkbox").each(function(n) {
            if ($(this).prop("checked")) {
                node.links.push($(this).data('node-id'));
            }
        })
        node.oldLinks.sort();
        node.links.sort();
        var nodeMap = {};
        var length = Math.max(node.oldLinks.length,node.links.length);
        for (var i=0;i<length;i++) {
            if (i<node.oldLinks.length) {
                nodeMap[node.oldLinks[i]] = nodeMap[node.oldLinks[i]]||{};
                nodeMap[node.oldLinks[i]].old = true;
            }
            if (i<node.links.length) {
                nodeMap[node.links[i]] = nodeMap[node.links[i]]||{};
                nodeMap[node.links[i]].new = true;
            }
        }
        var n;
        for (var id in nodeMap) {
            if (nodeMap.hasOwnProperty(id)) {
                n = RED.nodes.node(id);
                if (n) {
                    if (nodeMap[id].old && !nodeMap[id].new) {
                        // Removed id
                        i = n.links.indexOf(node.id);
                        if (i > -1) {
                            n.links.splice(i,1);
                        }
                    } else if (!nodeMap[id].old && nodeMap[id].new){
                        // Added id
                        i = n.links.indexOf(id);
                        if (i === -1) {
                            n.links.push(node.id);
                        }
                    }
                }
            }
        }
    }

    function onAdd() {
        for (var i=0;i<this.links.length;i++) {
            var n = RED.nodes.node(this.links[i]);
            if (n.links.indexOf(this.id) === -1) {
                n.links.push(this.id);
            }
        }
    }

    RED.nodes.registerType('link in',{
        category: 'input',
        color:"#ddd",//"#87D8CF",
        defaults: {
            name: {value:""},
            links: { value: [] }
        },
        inputs:0,
        outputs:1,
        icon: "link-out.png",
        label: function() {
            return this.name||this._("link.linkIn");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            onEditPrepare(this,"link out");
        },
        oneditsave: function() {
            onEditSave(this);
        },
        onadd: onAdd,
        oneditresize: resizeNodeList
    });

    RED.nodes.registerType('link out',{
        category: 'output',
        color:"#ddd",//"#87D8CF",
        defaults: {
            name: {value:""},
            links: { value: []}
        },
        align:"right",
        inputs:1,
        outputs:0,
        icon: "link-out.png",
        label: function() {
            return this.name||this._("link.linkOut");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            onEditPrepare(this,"link in");
        },
        oneditsave: function() {
            onEditSave(this);
        },
        onadd: onAdd,
        oneditresize: resizeNodeList
    });
})();
</script>
<script type="text/x-red" data-help-name="link in">
    <p>Receive messages from any link nodes that send the specified event.</p>
</script><script type="text/x-red" data-help-name="link out">
    <p>Send a message to any link input nodes listening for a given event.</p>
</script><!--
  Copyright 2013,2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="exec">
    <div class="form-row">
        <label for="node-input-command"><i class="fa fa-file"></i> <span data-i18n="exec.label.command"></span></label>
        <input type="text" id="node-input-command" data-i18n="[placeholder]exec.label.command">
    </div>
    <div class="form-row">
        <label><i class="fa fa-plus"></i> <span data-i18n="exec.label.append"></span></label>
        <input type="checkbox" id="node-input-addpay" style="display: inline-block; width: auto; vertical-align: top;">
        &nbsp;msg.payload
    </div>
    <div class="form-row">
        <label for="node-input-append"> </label>
        <input type="text" id="node-input-append" data-i18n="[placeholder]exec.placeholder.extraparams">
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-useSpawn" placeholder="spawn" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-useSpawn" style="width:70%;"><span data-i18n="exec.spawn"></span></label>
    </div>
    <div class="form-row">
        <label for="node-input-timer"><i class="fa fa-clock-o"></i> <span data-i18n="exec.label.timeout"></span></label>
        <input type="text" id="node-input-timer" style="width:65px;" data-i18n="[placeholder]exec.label.timeoutplace"> seconds
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('exec',{
        category: 'advanced-function',
        color:"darksalmon",
        defaults: {
            command: {value:"",required:true},
            addpay: {value:true},
            append: {value:""},
            useSpawn: {value:""},
            timer: {value:""},
            name: {value:""}
        },
        inputs:1,
        outputs:3,
        icon: "arrow-in.png",
        align: "right",
        label: function() {
            return this.name||this.command;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="exec">
    <p>Calls out to a system command.<br/></p>
    <p>Provides 3 outputs: stdout, stderr, and return code.</p>
    <p>By default uses the <code>exec</code> system call which calls the command, then gets a callback on completion, returning the complete result in one message, along with any errors.</p>
    <p>Optionally can use <code>spawn</code> instead, which returns the output from stdout and stderr as the command runs (usually one line at a time). On completion it then returns a return code (on the 3rd output).</p>
    <p>The optional append gets added to the command after <code>msg.payload</code> - so you can do things like pipe the result to another command.</p>
    <p>Parameters with spaces should be enclosed in quotes - <i>"This is a single parameter"</i></p>
    <p>If stdout is binary a <i>buffer</i> is returned - otherwise returns a <i>string</i>.</p>
    <p>The blue status icon will be visible while the node is active.</p>
</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="function">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row" style="margin-bottom: 0px;">
        <label for="node-input-func"><i class="fa fa-wrench"></i> <span data-i18n="function.label.function"></span></label>
        <input type="hidden" id="node-input-func" autofocus="autofocus">
        <input type="hidden" id="node-input-noerr">
    </div>
    <div class="form-row node-text-editor-row">
        <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-func-editor" ></div>
    </div>
    <div class="form-row">
        <label for="node-input-outputs"><i class="fa fa-random"></i> <span data-i18n="function.label.outputs"></span></label>
        <input id="node-input-outputs" style="width: 60px;" value="1">
    </div>
    <div class="form-tips"><span data-i18n="function.tip"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('function',{
        color:"#fdd0a2",
        category: 'function',
        defaults: {
            name: {value:""},
            func: {value:"\nreturn msg;"},
            outputs: {value:1},
            noerr: {value:0,required:true,validate:function(v){ return ((!v) || (v === 0)) ? true : false; }}
        },
        inputs:1,
        outputs:1,
        icon: "function.png",
        label: function() {
            return this.name;
        },
        oneditprepare: function() {
            var that = this;
            $( "#node-input-outputs" ).spinner({
                min:1
            });

            this.editor = RED.editor.createEditor({
                id: 'node-input-func-editor',
                mode: 'ace/mode/javascript',
                value: $("#node-input-func").val()
            });

            RED.library.create({
                url:"functions", // where to get the data from
                type:"function", // the type of object the library is for
                editor:this.editor, // the field name the main text body goes to
                mode:"ace/mode/javascript",
                fields:['name','outputs']
            });
            this.editor.focus();
        },
        oneditsave: function() {
            var annot = this.editor.getSession().getAnnotations();
            this.noerr = 0;
            $("#node-input-noerr").val(0);
            for (var k=0; k < annot.length; k++) {
                //console.log(annot[k].type,":",annot[k].text, "on line", annot[k].row);
                if (annot[k].type === "error") {
                    $("#node-input-noerr").val(annot.length);
                    this.noerr = annot.length;
                }
            }
            $("#node-input-func").val(this.editor.getValue());
            delete this.editor;
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-text-editor-row)");
            var height = $("#dialog-form").height();
            for (var i=0;i<rows.size();i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-text-editor-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $(".node-text-editor").css("height",height+"px");
            this.editor.resize();
        }
    });
</script>
<script type="text/x-red" data-help-name="function">
    <p>A function block where you can write code to do more interesting things.</p>
    <p>The message is passed in as a JavaScript object called <code>msg</code>.</p>
    <p>By convention it will have a <code>msg.payload</code> property containing
       the body of the message.</p>
    <h4>Logging and Error Handling</h4>
    <p>To log any information, or report an error, the following functions are available:</p>
        <ul>
            <li><code>node.log("Log")</code></li>
            <li><code>node.warn("Warning")</code></li>
            <li><code>node.error("Error")</code></li>
        </ul>
    </p>
    <p>The Catch node can also be used to handle errors. To invoke a Catch node,
    pass <code>msg</code> as a second argument to <code>node.error</code>:</p>
    <pre>node.error("Error",msg)</pre>
    <h4>Sending messages</h4>
    <p>The function can either return the messages it wants to pass on to the next nodes
    in the flow, or can call <code>node.send(messages)</code>.</p>
    <p>It can return/send:</p>
    <ul>
      <li>a single message object - passed to nodes connected to the first output</li>
      <li>an array of message objects - passed to nodes connected to the corresponding outputs</li>
    </ul>
    <p>If any element of the array is itself an array of messages, multiple
          messages are sent to the corresponding output.</p>
    <p>If null is returned, either by itself or as an element of the array, no
          message is passed on.</p>
    <p>See the <a target="_new" href="http://nodered.org/docs/writing-functions.html">online documentation</a> for more help.</p>

</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="template">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row">
        <label for="node-input-field"><i class="fa fa-edit"></i> <span data-i18n="template.label.property"></span></label>
        <input type="text" id="node-input-field" placeholder="payload" style="width:250px;">
        <input type="hidden" id="node-input-fieldType">
    </div>
    <div class="form-row" style="position: relative; margin-bottom: 0px;">
        <label for="node-input-template"><i class="fa fa-file-code-o"></i> <span data-i18n="template.label.template"></span></label>
        <input type="hidden" id="node-input-template" autofocus="autofocus">
        <div style="position: absolute; right:0;display:inline-block; text-align: right; font-size: 0.8em;">
            <span data-i18n="template.label.format"></span>:
            <select id="node-input-format" style="width:110px; font-size: 10px !important;  height: 24px; padding:0;">
                <option value="handlebars">mustache</option>
                <option value="html">HTML</option>
                <option value="json">JSON</option>
                <option value="javascript">Javascript</option>
                <option value="markdown">Markdown</option>
                <option value="text">none</option>
            </select>
        </div>
    </div>
    <div class="form-row node-text-editor-row">
        <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-template-editor" ></div>
    </div>
    <div class="form-row">
        <label for="node-input-syntax"><i class="fa fa-code"></i> <span data-i18n="template.label.syntax"></span></label>
        <select id="node-input-syntax" style="width:180px;">
            <option value="mustache" data-i18n="template.label.mustache"></option>
            <option value="plain" data-i18n="template.label.plain"></option>
        </select>
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('template',{
        color:"rgb(243, 181, 103)",
        category: 'function',
        defaults: {
            name: {value:""},
            field: {value:"payload"},
            fieldType: {value:"msg"},
            format: {value:"handlebars"},
            syntax: {value:"mustache"},
            template: {value:"This is the payload: {{payload}} !"},
        },
        inputs:1,
        outputs:1,
        icon: "template.png",
        label: function() {
            return this.name;
        },
        oneditprepare: function() {
            var that = this;
            if (!this.fieldType) {
                this.fieldType = 'msg';
            }
            if (!this.syntax) {
                this.syntax = 'mustache';
                $("#node-input-syntax").val(this.syntax);
            }
            $("#node-input-field").typedInput({
                default: 'msg',
                types: ['msg','flow','global'],
                typeField: $("#node-input-fieldType")
            });

            this.editor = RED.editor.createEditor({
                id: 'node-input-template-editor',
                mode: 'ace/mode/html',
                value: $("#node-input-template").val()
            });
            RED.library.create({
                url:"functions", // where to get the data from
                type:"function", // the type of object the library is for
                editor:that.editor, // the field name the main text body goes to
                fields:['name','outputs']
            });
            this.editor.focus();

            $("#node-input-format").change(function() {
                var mod = "ace/mode/"+$("#node-input-format").val();
                that.editor.getSession().setMode({
                   path: mod,
                   v: Date.now()
                })
            });
        },
        oneditsave: function() {
            $("#node-input-template").val(this.editor.getValue())
            delete this.editor;
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-text-editor-row)");
            var height = $("#dialog-form").height();
            for (var i=0;i<rows.size();i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-text-editor-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $(".node-text-editor").css("height",height+"px");
            this.editor.resize();
        }
    });
</script>
<script type="text/x-red" data-help-name="template">
    <p>Sets a property based on the provided template.</p>
    <p>By default this uses the <i><a href="http://mustache.github.io/mustache.5.html" target="_new">mustache</a></i>
    format, but this can be switched off if required.</p>
    <p>For example, when a template of:
    <pre>Hello {{name}}. Today is {{date}}</pre>
    <p>receives a message containing:
    <pre>{
  name: "Fred",
  date: "Monday"
  payload: ...
}</pre>
    <p>The resulting property will be:
    <pre>Hello Fred. Today is Monday</pre>
    <p>By default, mustache will escape any HTML entities in the values it substitutes.
       To prevent this, use <code>{{{triple}}}</code> braces.
</script><!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="delay">

    <div class="form-row">
        <label for="node-input-pauseType"><i class="fa fa-tasks"></i> <span data-i18n="delay.action"></span></label>
        <select id="node-input-pauseType" style="width:270px !important">
            <option value="delay" data-i18n="delay.delaymsg"></option>
            <option value="random" data-i18n="delay.randomdelay"></option>
            <option value="rate" data-i18n="delay.limitrate"></option>
            <option value="queue" data-i18n="delay.fairqueue"></option>
            <option value="timed" data-i18n="delay.timedqueue"></option>
        </select>
    </div>
    <div id="delay-details" class="form-row">
        <label for="node-input-timeout"><i class="fa fa-clock-o"></i> <span data-i18n="delay.for"></span></label>
        <input type="text" id="node-input-timeout" placeholder="Time" style="text-align:end; width:50px !important">
        <select id="node-input-timeoutUnits" style="width:200px !important">
          <option value="milliseconds" data-i18n="delay.milisecs"></option>
          <option value="seconds" data-i18n="delay.secs"></option>
          <option value="minutes" data-i18n="delay.mins"></option>
          <option value="hours" data-i18n="delay.hours"></option>
          <option value="days" data-i18n="delay.days"></option>
        </select>
    </div>

    <div id="rate-details" class="form-row">
        <label for="node-input-rate"><i class="fa fa-clock-o"></i> <span data-i18n="delay.rate"></span></label>
        <input type="text" id="node-input-rate" placeholder="1" style="text-align:end; width:30px !important">
        <label for="node-input-rateUnits"><span data-i18n="delay.msgper"></span></label>
        <select id="node-input-rateUnits" style="width:140px !important">
          <option value="second" data-i18n="delay.sec"></option>
          <option value="minute" data-i18n="delay.min"></option>
          <option value="hour" data-i18n="delay.hour"></option>
          <option value="day" data-i18n="delay.day"></option>
        </select>
        <br/>
        <div id="node-input-dr"><input style="margin: 20px 0 20px 100px; width: 30px;" type="checkbox" id="node-input-drop"><label style="width: 250px;" for="node-input-drop"><span data-i18n="delay.dropmsg"></span></label></div>
    </div>


    <div id="random-details" class="form-row">
        <label for="node-input-randomFirst"><i class="fa fa-clock-o"></i> <span data-i18n="delay.between"></span></label>
        <input type="text" id="node-input-randomFirst" placeholder="" style="text-align:end; width:30px !important">
        &nbsp;&nbsp;&amp;&nbsp;&nbsp;
        <input type="text" id="node-input-randomLast" placeholder="" style="text-align:end; width:30px !important">
        <select id="node-input-randomUnits" style="width:140px !important">
          <option value="milliseconds" data-i18n="delay.milisecs"></option>
          <option value="seconds" data-i18n="delay.secs"></option>
          <option value="minutes" data-i18n="delay.mins"></option>
          <option value="hours" data-i18n="delay.hours"></option>
          <option value="days" data-i18n="delay.days"></option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>

</script>



<script type="text/javascript">
    RED.nodes.registerType('delay',{
        category: 'function',
        color:"#E6E0F8",
        defaults: {
            name: {value:""},
            pauseType: {value:"delay", required:true},
            timeout: {value:"5", required:true, validate:RED.validators.number()},
            timeoutUnits: {value:"seconds"},
            rate: {value:"1", required:true, validate:RED.validators.number()},
            rateUnits: {value: "second"},
            randomFirst: {value:"1", required:true, validate:RED.validators.number()},
            randomLast: {value:"5", required:true, validate:RED.validators.number()},
            randomUnits: {value: "seconds"},
            drop: {value:false}
        },
        inputs:1,
        outputs:1,
        icon: "timer.png",
        label: function() {
            if (this.pauseType == "delay") {
              var units = this.timeoutUnits ? this.timeoutUnits.charAt(0) : "s";
              if (this.timeoutUnits == "milliseconds") { units = "ms"; }
              return this.name||this._("delay.label.delay")+" "+this.timeout+" "+units;
            } else if (this.pauseType == "rate") {
              var units = this.rateUnits ? this.rateUnits.charAt(0) : "s";
              return this.name||this._("delay.label.limit")+" "+this.rate+" msg/"+units;
            } else if (this.pauseType == "random") {
              return this.name || this._("delay.label.random");
            }
            else if (this.pauseType == "timed") {
                return this.name || this.rate+" "+this._("delay.label.timed")+" "+this.rateUnits;
            }
            else {
                var units = this.rateUnits ? this.rateUnits.charAt(0) : "s";
                return this.name || this._("delay.label.queue")+" "+this.rate+" msg/"+units;
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
          $( "#node-input-timeout" ).spinner({min:1});
          $( "#node-input-rate" ).spinner({min:1});

          $( "#node-input-randomFirst" ).spinner({min:0});
          $( "#node-input-randomLast" ).spinner({min:1});

          if (this.pauseType == "delay") {
            $("#delay-details").show();
            $("#rate-details").hide();
            $("#random-details").hide();
            $("#node-input-dr").hide();
          } else if (this.pauseType == "rate") {
            $("#delay-details").hide();
            $("#rate-details").show();
            $("#random-details").hide();
            $("#node-input-dr").show();
          } else if (this.pauseType == "random") {
            $("#delay-details").hide();
            $("#rate-details").hide();
            $("#random-details").show();
            $("#node-input-dr").hide();
          } else if (this.pauseType == "queue") {
            $("#delay-details").hide();
            $("#rate-details").show();
            $("#random-details").hide();
            $("#node-input-dr").hide();
          } else if (this.pauseType == "timed") {
            $("#delay-details").hide();
            $("#rate-details").show();
            $("#random-details").hide();
            $("#node-input-dr").hide();
          }

          if (!this.timeoutUnits) {
            $("#node-input-timeoutUnits option").filter(function() {
              return $(this).val() == 'seconds';
            }).attr('selected', true);
          }

          if (!this.randomUnits) {
            $("#node-input-randomUnits option").filter(function() {
               return $(this).val() == 'seconds';
            }).attr('selected', true);
          }

          $("#node-input-pauseType").on("change",function() {
            if (this.value == "delay") {
              $("#delay-details").show();
              $("#rate-details").hide();
              $("#random-details").hide();
              $("#node-input-dr").hide();
            } else if (this.value == "rate") {
              $("#delay-details").hide();
              $("#rate-details").show();
              $("#random-details").hide();
              $("#node-input-dr").show();
              } else if (this.value == "random") {
              $("#delay-details").hide();
              $("#rate-details").hide();
              $("#random-details").show();
              $("#node-input-dr").hide();
            } else if (this.value == "queue") {
              $("#delay-details").hide();
              $("#rate-details").show();
              $("#random-details").hide();
              $("#node-input-dr").hide();
            } else if (this.value == "timed") {
              $("#delay-details").hide();
              $("#rate-details").show();
              $("#random-details").hide();
              $("#node-input-dr").hide();
            }
          });
        }
    });
</script>
<script type="text/x-red" data-help-name="delay">
    <p>Introduces a delay into a flow or rate limits messages.</p>
    <p>The default delay is 5 seconds and rate limit of 1 msg/second, but both can be configured.</p>
    <p>When set to rate limit messages, they are spread across the configured time period. It can
    also be set to discard any intermediate messages that arrive.</p>
    <p>The "topic based fair queue" adds messages to a release queue tagged by their <code>msg.topic</code> property.
    At each "tick", derived from the rate, the next "topic" is released.
    Any messages arriving on the same topic before release replace those in that position in the queue.
    So each "topic" gets a turn - but the most recent value is always the one sent.</p>
    <p>The "timed release queue" adds messages to an array based on their <code>msg.topic</code> property.
    At each "tick", all the latest messages are released. Any new messages arriving before release will
    replace those of the same topic.</p>
</script><!--
  Copyright 2014, 2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="trigger">
    <div class="form-row">
        <label data-i18n="trigger.send" for="node-input-op1"></label>
        <input type="hidden" id="node-input-op1type">
        <input style="width: 70%" type="text" id="node-input-op1">
    </div>
    <div class="form-row">
        <label data-i18n="trigger.then"></label>
        <select id="node-then-type" style="width:70%;">
            <option value="block" data-i18n="trigger.wait-reset"></option>
            <option value="wait" data-i18n="trigger.wait-for"></option>
        </select>
    </div>
    <div class="form-row node-type-wait">
        <label></label>
        <input type="text" id="node-input-duration" style="text-align:end; width:70px !important">
        <select id="node-input-units" style="width:140px !important">
            <option value="ms" data-i18n="trigger.duration.ms"></option>
            <option value="s" data-i18n="trigger.duration.s"></option>
            <option value="min" data-i18n="trigger.duration.m"></option>
            <option value="hr" data-i18n="trigger.duration.h"></option>
        </select>
    </div>
    <div class="form-row node-type-wait">
    <label></label>
        <input type="checkbox" id="node-input-extend" style="margin-left: 0px; vertical-align: top; width: auto !important;"> <label style="width:auto !important;" for="node-input-extend" data-i18n="trigger.extend"></label>
    </div>
    <div class="form-row node-type-wait">
        <label data-i18n="trigger.then-send"></label>
        <input type="hidden" id="node-input-op2type">
        <input style="width: 70%" type="text" id="node-input-op2">
    </div>
    <div class="form-row">
        <label data-i18n="trigger.label.reset" style="width:auto"></label>
        <div style="display:inline-block; width:70%;vertical-align:top">
        <ul>
            <li data-i18n="trigger.label.resetMessage"></li>
            <li><span data-i18n="trigger.label.resetPayload"></span> <input type="text" id="node-input-reset" style="width:150px" data-i18n="[placeholder]trigger.label.resetprompt"></li>
        </ul>
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></input>
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('trigger',{
        category: 'function',
        color:"#E6E0F8",
        defaults: {
            op1: {value:"1"},
            op2: {value:"0"},
            op1type: {value:"val"},
            op2type: {value:"val"},
            duration: {value:"250",required:true,validate:RED.validators.number()},
            extend: {value:"false"},
            units: {value:"ms"},
            reset: {value:""},
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "trigger.png",
        label: function() {
            if (this.duration > 0) {
                return this.name|| this._("trigger.label.trigger")+" "+this.duration+this.units;
            }
            else {
                return this.name|| this._("trigger.label.trigger-block");
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            $("#node-then-type").change(function() {
                if ($(this).val() == "block") {
                    $(".node-type-wait").hide();
                } else {
                    $(".node-type-wait").show();
                }
            });

            if (this.op1type === 'val') {
                $("#node-input-op1type").val('str');
            }
            if (this.op2type === 'val') {
                $("#node-input-op2type").val('str');
            }

            var optionNothing = {value:"nul",label:this._("trigger.output.nothing"),hasValue:false};
            var optionPayload = {value:"pay",label:this._("trigger.output.existing"),hasValue:false}

            var optionOriginalPayload = {value:"pay",label:this._("trigger.output.original"),hasValue:false}
            var optionLatestPayload = {value:"payl",label:this._("trigger.output.latest"),hasValue:false}

            $("#node-input-op1").typedInput({
                default: 'str',
                typeField: $("#node-input-op1type"),
                types:['flow','global','str','num','bool','json',
                    optionPayload,
                    optionNothing
                ]
            });
            $("#node-input-op2").typedInput({
                default: 'str',
                typeField: $("#node-input-op2type"),
                types:['flow','global','str','num','bool','json',
                    optionOriginalPayload,
                    optionLatestPayload,
                    optionNothing
                ]
            });

            if (this.duration == "0") {
                $("#node-then-type").val("block");
            } else {
                $("#node-then-type").val("wait");
            }
            $("#node-then-type").change();

            if (this.extend === "true" || this.extend === true) {
                $("#node-input-extend").prop("checked",true);
            } else {
                $("#node-input-extend").prop("checked",false);
            }

        },
        oneditsave: function() {
            if ($("#node-then-type").val() == "block") {
                $("#node-input-duration").val("0");
            }

        }
    });
</script>
<script type="text/x-red" data-help-name="trigger">
    <p>Creates two messages on the output separated by a timeout whenever <i>any</i> <code>msg</code> arrives on the input.</p>
    <p>For example, this can be used to toggle a Raspberry PI GPIO pin on and off.</p>
    <p>The two output states can be specified as can the duration of the timer.
    Either output can be set to a value, or templated from the inbound
    <code>msg</code> using mustache syntax. <pre>The payload is {{payload}}</pre></p>
    <p>If the <code>msg.payload</code> is an object then setting the output to
    <i>existing payload</i> will pass the complete payload object through.</p>
    <p>Optionally the timer can be extended by being retriggered... or not.</p>
    <p>By setting the first output to <i>nothing</i>, and selecting extend timer - a watchdog timer can be created.
    No output will happen as long as repeated inputs occur within the timeout period.</p>
    <p>Setting the timer to 0 creates an "infinite" timeout - the first output will happen but the second
    never will, and neither can the first be retriggered - so a true one shot.</p>
    <p>If a <code>msg.reset</code> property is present, or the <code>msg.payload</code>
    matches the optional reset value, any timeout currently in progress
    will be cleared and the second output will not happen.</p>
    <p>The blue status icon will be visible while the node is active.</p>
</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="comment">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-comment"></i> <span data-i18n="comment.label.title"></span></label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-row" style="margin-bottom: 0px;">
        <label for="node-input-info" style="width: 100% !important;"><i class="fa fa-comments"></i> <span data-i18n="comment.label.body"></span></label>
        <input type="hidden" id="node-input-info" autofocus="autofocus">
    </div>
    <div class="form-row node-text-editor-row">
        <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-info-editor"></div>
    </div>
    <div class="form-tips" data-i18n="[html]comment.tip"></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('comment',{
        category: 'function',
        color:"#ffffff",
        defaults: {
            name: {value:""},
            info: {value:""}
        },
        inputs:0,
        outputs:0,
        icon: "comment.png",
        label: function() {
            return this.name||"";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        info: function() {
            return (this.name?"# "+this.name+"\n":"")+(this.info||"");
        },
        oneditprepare: function() {
            var that = this;
            this.editor = RED.editor.createEditor({
                id: 'node-input-info-editor',
                mode: 'ace/mode/markdown',
                value: $("#node-input-info").val()
            });
            this.editor.focus();
        },
        oneditsave: function() {
            $("#node-input-info").val(this.editor.getValue());
            delete this.editor;
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-text-editor-row)");
            var height = $("#dialog-form").height();
            for (var i=0;i<rows.size();i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-text-editor-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $(".node-text-editor").css("height",height+"px");
            this.editor.resize();
        }
    });
</script>
<script type="text/x-red" data-help-name="comment">
    <p>A node you can use to add comments to your flows.</p>
</script><!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="unknown">
    <div class="form-tips"><span data-i18n="[html]unknown.tip"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('unknown',{
        category: 'unknown',
        color:"#fff0f0",
        defaults: {
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "",
        label: function() {
            return "("+this.name+")"||this._("unknown.label.unknown");
        },
        labelStyle: function() {
            return "node_label_unknown";
        }
    });
</script>
<script type="text/x-red" data-help-name="unknown">
    <p>This node is a type unknown to your installation of Node-RED.</p>
    <p><i>If you deploy with the node in this state, it's configuration will be preserved, but
    the flow will not start until the missing type is installed.</i></p>
    <p>It is possible this node type is already installed, but is missing a dependency. Check the Node-RED start-up log for
       any error messages associated with the missing node type. Use <b>npm install &lt;module&gt;</b> to install any missing modules
       and restart Node-RED and reimport the nodes.</p>
    <p>Otherwise, you should contact the author of the flow to obtain a copy of the missing node type.</p>
</script><!--
  Copyright 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="tls-config">
    <div class="form-row">
        <label style="width: 120px;" for="node-config-input-cert"><i class="fa fa-file-text-o"></i> <span data-i18n="tls.label.cert"></span></label>
        <input style="width: 60%;" type="text" id="node-config-input-cert" data-i18n="[placeholder]tls.placeholder.cert">
    </div>
    <div class="form-row">
        <label style="width: 120px;" for="node-config-input-key"><i class="fa fa-file-text-o"></i> <span data-i18n="tls.label.key"></span></label>
        <input style="width: 60%;" type="text" id="node-config-input-key" data-i18n="[placeholder]tls.placeholder.key">
    </div>
    <div class="form-row">
        <label style="width: 120px;" for="node-config-input-ca"><i class="fa fa-file-text-o"></i> <span data-i18n="tls.label.ca"></span></label>
        <input style="width: 60%;" type="text" id="node-config-input-ca" data-i18n="[placeholder]tls.placeholder.ca">
    </div>
    <div class="form-row">
        <input type="checkbox" id="node-config-input-verifyservercert" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-config-input-verifyservercert" style="width: 70%;" data-i18n="tls.label.verify-server-cert"></label>
    </div>
    <div class="form-row">
        <label style="width: 120px;" for="node-config-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input style="width: 60%;" type="text" id="node-config-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('tls-config',{
        category: 'config',
        defaults: {
            name: {value:""},
            cert: {value:"", validate: function(v) {
                var currentKey = $("#node-config-input-key").val();
                if (currentKey === undefined) {
                    currentKey = this.key;
                }
                return currentKey === '' || v != '';
            }},
            key: {value:"", validate: function(v) {
                var currentCert = $("#node-config-input-cert").val();
                if (currentCert === undefined) {
                    currentCert = this.cert;
                }
                return currentCert === '' || v != '';
            }},
            ca: {value:""},
            verifyservercert: {value: true}
        },
        label: function() {
            return this.name || this._("tls.tls");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="tls-config">
    <p>Configuration options for TLS connections.</p>
</script><!--
  Copyright 2013, 2016 IBM Corp.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="mqtt in">
    <div class="form-row">
        <label for="node-input-broker"><i class="fa fa-globe"></i> <span data-i18n="mqtt.label.broker"></span></label>
        <input type="text" id="node-input-broker">
    </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]common.label.topic">
    </div>
    <div class="form-row">
        <label for="node-input-qos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
        <select id="node-input-qos" style="width:125px !important">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('mqtt in',{
        category: 'input',
        defaults: {
            name: {value:""},
            topic: {value:"",required:true,validate: RED.validators.regex(/^(#$|(\+|[^+#]*)(\/(\+|[^+#]*))*(\/(\+|#|[^+#]*))?$)/)},
            qos: {value: "2"},
            broker: {type:"mqtt-broker", required:true}
        },
        color:"#d8bfd8",
        inputs:0,
        outputs:1,
        icon: "bridge.png",
        label: function() {
            return this.name||this.topic||"mqtt";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.qos === undefined) {
                $("#node-input-qos").val("2");
            }
        }
    });
</script>

<script type="text/x-red" data-template-name="mqtt out">
    <div class="form-row">
        <label for="node-input-broker"><i class="fa fa-globe"></i> <span data-i18n="mqtt.label.broker"></span></label>
        <input type="text" id="node-input-broker">
    </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]common.label.topic">
    </div>
    <div class="form-row">
        <label for="node-input-qos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
        <select id="node-input-qos" style="width:125px !important">
            <option value=""></option>
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
        </select>
        &nbsp;&nbsp;<i class="fa fa-history"></i>&nbsp;<span data-i18n="mqtt.retain"></span> &nbsp;<select id="node-input-retain" style="width:125px !important">
            <option value=""></option>
            <option value="false" data-i18n="mqtt.false"></option>
            <option value="true" data-i18n="mqtt.true"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="mqtt.tip"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('mqtt out',{
        category: 'output',
        defaults: {
            name: {value:""},
            topic: {value:""},
            qos: {value:""},
            retain: {value:""},
            broker: {type:"mqtt-broker", required:true}
        },
        color:"#d8bfd8",
        inputs:1,
        outputs:0,
        icon: "bridge.png",
        align: "right",
        label: function() {
            return this.name||this.topic||"mqtt";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="mqtt-broker">
    <div class="form-row">
        <ul style="background: #fff; min-width: 600px; margin-bottom: 20px;" id="node-config-mqtt-broker-tabs"></ul>
    </div>
    <div id="node-config-mqtt-broker-tabs-content" style="min-height: 170px;">
        <div id="mqtt-broker-tab-connection" style="display:none">
            <div class="form-row node-input-broker">
                <label for="node-config-input-broker"><i class="fa fa-globe"></i> <span data-i18n="mqtt.label.broker"></span></label>
                <input class="input-append-left" type="text" id="node-config-input-broker" placeholder="localhost" style="width: 40%;" >
                <label for="node-config-input-port" style="margin-left: 10px; width: 35px; "> <span data-i18n="mqtt.label.port"></span></label>
                <input type="text" id="node-config-input-port" data-i18n="[placeholder]mqtt.label.port" style="width:45px">
            </div>
            <div class="form-row">
                <input type="checkbox" id="node-config-input-usetls" style="display: inline-block; width: auto; vertical-align: top;">
                <label for="node-config-input-usetls" style="width: auto" data-i18n="mqtt.label.use-tls"></label>
                <div id="node-config-row-tls" class="hide">
                    <label style="width: auto; margin-left: 20px; margin-right: 10px;" for="node-config-input-tls"><span data-i18n="mqtt.label.tls-config"></span></label><input style="width: 300px;" type="text" id="node-config-input-tls">
                </div>
            </div>
            <div class="form-row">
                <label for="node-config-input-clientid"><i class="fa fa-tag"></i> <span data-i18n="mqtt.label.clientid"></span></label>
                <input type="text" id="node-config-input-clientid" data-i18n="[placeholder]mqtt.placeholder.clientid">
            </div>
            <div class="form-row">
                <label for="node-config-input-keepalive" style="width: auto"><i class="fa fa-clock-o"></i> <span data-i18n="mqtt.label.keepalive"></span></label>
                <input type="text" id="node-config-input-keepalive" style="width: 50px">
                <input type="checkbox" id="node-config-input-cleansession" style="margin-left: 30px; height: 1em;display: inline-block; width: auto; vertical-align: middle;">
                <label for="node-config-input-cleansession" style="width: auto;" data-i18n="mqtt.label.cleansession"></label>
            </div>
            <div class="form-row">
                <input type="checkbox" id="node-config-input-compatmode" style="display: inline-block; width: auto; vertical-align: top;">
                <label for="node-config-input-compatmode" style="width: auto;" data-i18n="mqtt.label.compatmode"></label>
            </div>
        </div>
        <div id="mqtt-broker-tab-security" style="display:none">
            <div class="form-row">
                <label for="node-config-input-user"><i class="fa fa-user"></i> <span data-i18n="common.label.username"></span></label>
                <input type="text" id="node-config-input-user">
            </div>
            <div class="form-row">
                <label for="node-config-input-password"><i class="fa fa-lock"></i> <span data-i18n="common.label.password"></span></label>
                <input type="password" id="node-config-input-password">
            </div>
        </div>
        <div id="mqtt-broker-tab-birth" style="display:none">
            <div class="form-row">
                <label for="node-config-input-birthTopic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
                <input type="text" id="node-config-input-birthTopic" data-i18n="[placeholder]mqtt.placeholder.birth-topic">
            </div>
            <div class="form-row">
                <label for="node-config-input-birthQos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
                <select id="node-config-input-birthQos" style="width:125px !important">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>
                &nbsp;&nbsp;<i class="fa fa-history"></i>&nbsp;<span data-i18n="mqtt.retain"></span> &nbsp;<select id="node-config-input-birthRetain" style="width:125px !important">
                    <option value="false" data-i18n="mqtt.false"></option>
                    <option value="true" data-i18n="mqtt.true"></option>
                </select>
            </div>
            <div class="form-row">
                <label for="node-config-input-birthPayload"><i class="fa fa-envelope"></i> <span data-i18n="common.label.payload"></span></label>
                <input type="text" id="node-config-input-birthPayload" data-i18n="[placeholder]common.label.payload">
            </div>
        </div>
        <div id="mqtt-broker-tab-will" style="display:none">
            <div class="form-row">
                <label for="node-config-input-willTopic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
                <input type="text" id="node-config-input-willTopic" data-i18n="[placeholder]mqtt.placeholder.will-topic">
            </div>
            <div class="form-row">
                <label for="node-config-input-willQos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
                <select id="node-config-input-willQos" style="width:125px !important">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>
                &nbsp;&nbsp;<i class="fa fa-history"></i>&nbsp;<span data-i18n="mqtt.retain"></span> &nbsp;<select id="node-config-input-willRetain" style="width:125px !important">
                    <option value="false" data-i18n="mqtt.false"></option>
                    <option value="true" data-i18n="mqtt.true"></option>
                </select>
            </div>
            <div class="form-row">
                <label for="node-config-input-willPayload"><i class="fa fa-envelope"></i> <span data-i18n="common.label.payload"></span></label>
                <input type="text" id="node-config-input-willPayload" data-i18n="[placeholder]common.label.payload">
            </div>
        </div>
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('mqtt-broker',{
        category: 'config',
        defaults: {
            broker: {value:"",required:true},
            port: {value:1883,required:true,validate:RED.validators.number()},
            tls: {type:"tls-config",required: false},
            clientid: {value:"", validate: function(v) {
                    if ($("#node-config-input-clientid").length) {
                        // Currently editing the node
                        return $("#node-config-input-cleansession").is(":checked") || v.length > 0;
                    } else {
                        return this.cleansession || v.length > 0;
                    }
                }},
            usetls: {value: false},
            verifyservercert: { value: false},
            compatmode: { value: true},
            keepalive: {value:60,validate:RED.validators.number()},
            cleansession: {value: true},
            willTopic: {value:""},
            willQos: {value:"0"},
            willRetain: {value:false},
            willPayload: {value:""},
            birthTopic: {value:""},
            birthQos: {value:"0"},
            birthRetain: {value:false},
            birthPayload: {value:""}
        },
        credentials: {
            user: {type:"text"},
            password: {type: "password"}
        },
        label: function() {
            if (this.broker === "") { this.broker = "localhost"; }
            return (this.clientid?this.clientid+"@":"")+this.broker+":"+this.port;
        },
        oneditprepare: function () {
            var tabs = RED.tabs.create({
                id: "node-config-mqtt-broker-tabs",
                onchange: function(tab) {
                    $("#node-config-mqtt-broker-tabs-content").children().hide();
                    $("#" + tab.id).show();
                }
            });
            tabs.addTab({
                id: "mqtt-broker-tab-connection",
                label: this._("mqtt.tabs-label.connection")
            });
            tabs.addTab({
                id: "mqtt-broker-tab-security",
                label: this._("mqtt.tabs-label.security")
            });
            tabs.addTab({
                id: "mqtt-broker-tab-birth",
                label: this._("mqtt.tabs-label.birth")
            });
            tabs.addTab({
                id: "mqtt-broker-tab-will",
                label: this._("mqtt.tabs-label.will")
            });
            setTimeout(function() { tabs.resize()},0);
            if (typeof this.cleansession === 'undefined') {
                this.cleansession = true;
                $("#node-config-input-cleansession").prop("checked",true);
            }
            if (typeof this.usetls === 'undefined') {
                this.usetls = false;
                $("#node-config-input-usetls").prop("checked",false);
            }
            if (typeof this.compatmode === 'undefined') {
                this.compatmode = true;
                $("#node-config-input-compatmode").prop('checked', true);
            }
            if (typeof this.keepalive === 'undefined') {
                this.keepalive = 15;
                $("#node-config-input-keepalive").val(this.keepalive);
            }
            if (typeof this.willQos === 'undefined') {
                this.willQos = "0";
                $("#node-config-input-willQos").val("0");
            }
            if (typeof this.birthQos === 'undefined') {
                this.birthQos = "0";
                $("#node-config-input-birthQos").val("0");
            }

            function updateTLSOptions() {
                if ($("#node-config-input-usetls").is(':checked')) {
                    $("#node-config-row-tls").show();
                } else {
                    $("#node-config-row-tls").hide();
                }
            }
            updateTLSOptions();
            $("#node-config-input-usetls").on("click",function() {
                updateTLSOptions();
            });
            var node = this;
            function updateClientId() {
                if ($("#node-config-input-cleansession").is(":checked")) {
                    $("#node-config-input-clientid").attr("placeholder",node._("mqtt.placeholder.clientid"));
                } else {
                    $("#node-config-input-clientid").attr("placeholder",node._("mqtt.placeholder.clientid-nonclean"));
                }
                $("#node-config-input-clientid").change();
            }
            setTimeout(updateClientId,0);
            $("#node-config-input-cleansession").on("click",function() {
                updateClientId();
            });
        },
        oneditsave: function() {
            if (!$("#node-config-input-usetls").is(':checked')) {
                $("#node-config-input-tls").val("");
            }
        }
    });
</script>
<script type="text/x-red" data-help-name="mqtt in">
    <p>Connects to a broker and subscribes to the specified topic.</p>
    <p>Outputs a message with the properties:</p>
    <ul>
       <li><code>msg.topic</code></li>
       <li><code>msg.payload</code></li>
       <li><code>msg.qos</code></li>
       <li><code>msg.retain</code></li>
    </ul>
    <p><code>msg.payload</code> will be a String, unless it is detected as a binary buffer.</p>
</script><script type="text/x-red" data-help-name="mqtt out">
    <p>Connects to a MQTT broker and publishes messages.</p>
    <p><code>msg.payload</code> is used as the payload of the published message.
    If it contains an Object it will be converted to JSON before being sent.
    </p>
    <p>The topic used can be configured in the node or, if left blank, can be set
       by <code>msg.topic</code>.</p>
    <p>Likewise the QoS and retain values can be configured in the node or, if left
       blank, set by <code>msg.qos</code> and <code>msg.retain</code> respectively.
       By default, messages are published at QoS 0 with the retain flag set to false.</p>
</script><script type="text/x-red" data-help-name="mqtt-broker">
    <p>A minimum MQTT broker connecton requires only a broker server address to be added to the default configuration.</p>
    <p>To secure the connection with SSL/TLS, a TLS Configuration must also be configured and selected.</p>
    <p>If you create a Client ID it must be unique to the broker you are connecting to.</p>
    <p>For more information about MQTT see the <a href="http://www.eclipse.org/paho/" target="_new">Eclipse Paho</a> site.</p>
</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="http in">
    <div class="form-row">
        <label for="node-input-method"><i class="fa fa-tasks"></i> <span data-i18n="httpin.label.method"></span></label>
        <select type="text" id="node-input-method" style="width:70%;">
        <option value="get">GET</option>
        <option value="post">POST</option>
        <option value="put">PUT</option>
        <option value="delete">DELETE</option>
        <option value="patch">PATCH</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-globe"></i> <span data-i18n="httpin.label.url"></span></label>
        <input type="text" id="node-input-url" placeholder="/url">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row row-swagger-doc">
        <label for="node-input-swaggerDoc"><i class="fa fa-file-text-o"></i> <span data-i18n="httpin.label.doc"></span></label>
        <input type="text" id="node-input-swaggerDoc">
    </div>
    <div id="node-input-tip" class="form-tips"><span data-i18n="httpin.tip.in"></span><code><span id="node-input-path"></span></code>.</div>
</script>



<script type="text/x-red" data-template-name="http response">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="[html]httpin.tip.res"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('http in',{
        category: 'input',
        color:"rgb(231, 231, 174)",
        defaults: {
            name: {value:""},
            url: {value:"",required:true},
            method: {value:"get",required:true},
            swaggerDoc: {type:"swagger-doc", required:false}
        },
        inputs:0,
        outputs:1,
        icon: "white-globe.png",
        label: function() {
            if (this.name) {
                return this.name;
            } else if (this.url) {
                var root = RED.settings.httpNodeRoot;
                if (root.slice(-1) != "/") {
                    root = root+"/";
                }
                if (this.url.charAt(0) == "/") {
                    root += this.url.slice(1);
                } else {
                    root += this.url;
                }
                return "["+this.method+"] "+root;
            } else {
                return "http";
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var root = RED.settings.httpNodeRoot;
            if (root.slice(-1) == "/") {
                root = root.slice(0,-1);
            }
            if (root == "") {
                $("#node-input-tip").hide();
            } else {
                $("#node-input-path").html(root);
                $("#node-input-tip").show();
            }
            if(!RED.nodes.getType("swagger-doc")){
                $('.row-swagger-doc').hide();
            }
        }

    });

    RED.nodes.registerType('http response',{
        category: 'output',
        color:"rgb(231, 231, 174)",
        defaults: {
            name: {value:""}
        },
        inputs:1,
        outputs:0,
        align: "right",
        icon: "white-globe.png",
        label: function() {
            return this.name||"http";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="http in">
    <p>Provides an input node for http requests, allowing the creation of simple web services.</p>
    <p>The resulting message has the following properties:
        <ul>
            <li>msg.req : <a href="http://expressjs.com/api.html#req">http request</a></li>
            <li>msg.res : <a href="http://expressjs.com/api.html#res">http response</a></li>
        </ul>
    </p>
    <p>For POST/PUT requests, the body is available under <code>msg.req.body</code>. This
       uses the <a href="http://expressjs.com/api.html#bodyParser">Express bodyParser middleware</a> to parse the content to a JSON object.
    </p>
    <p>
       By default, this expects the body of the request to be url encoded:
       <pre>foo=bar&amp;this=that</pre>
    </p>
    <p>
       To send JSON encoded data to the node, the content-type header of the request must be set to
       <code>application/json</code>.
    </p>
    <p>
       <b>Note: </b>This node does not send any response to the http request.
       This should be done with a subsequent HTTP Response node.
    </p>

</script><script type="text/x-red" data-help-name="http response">
    <p>Sends responses back to http requests received from an HTTP Input node.</p>
    <p>The response can be customised using the following message properties:</p>
    <ul>
        <li><code>payload</code> is sent as the body of the response</li>
        <li><code>statusCode</code>, if set, is used as the response status code (default: 200)</li>
        <li><code>headers</code>, if set, should be an object containing field/value
        pairs to be added as response headers.</li>
        <li><code>cookies</code>, if set, can be used to set or delete cookies.
    </ul>
    <h3>Cookie handling</h3>
    <p>The <code>cookies</code> property must be an object of name/value pairs.
    The value can be either a string to set the value of the cookie with default
    options, or it can be an object of options.<p>
    <p>The following example sets two cookies - one called <code>name</code> with
    a value of <code>nick</code>, the other called <code>session</code> with a
    value of <code>1234</code> and an expiry set to 15 minutes.</p>
    <pre>
msg.cookies = {
    name: 'nick',
    session: {
        value: '1234',
        maxAge: 900000
    }
}</pre>
    <p>The valid options include:</p>
    <ul>
    <li><code>domain</code> - (String) domain name for the cookie</li>
    <li><code>expires</code> - (Date) expiry date in GMT. If not specified or set to 0, creates a session cookie</li>
    <li><code>maxAge</code> - (String) expiry date as relative to the current time in milliseconds</li>
    <li><code>path</code> - (String) path for the cookie. Defaults to /</li>
    <li><code>value</code> - (String) the value to use for the cookie</li>
    </ul>
    <p>To delete a cookie, set its <code>value</code> to <code>null</code>.</p>

</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="http request">
    <div class="form-row">
        <label for="node-input-method"><i class="fa fa-tasks"></i> <span data-i18n="httpin.label.method"></span></label>
        <select type="text" id="node-input-method" style="width:70%;">
        <option value="GET">GET</option>
        <option value="POST">POST</option>
        <option value="PUT">PUT</option>
        <option value="DELETE">DELETE</option>
        <option value="use" data-i18n="httpin.setby"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-globe"></i> <span data-i18n="httpin.label.url"></span></label>
        <input type="text" id="node-input-url" placeholder="http://">
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-usetls" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-usetls" style="width: auto" data-i18n="httpin.use-tls"></label>
        <div id="node-row-tls" class="hide">
            <label style="width: auto; margin-left: 20px; margin-right: 10px;" for="node-input-tls"><span data-i18n="httpin.tls-config"></span></label><input type="text" style="width: 300px" id="node-input-tls">
        </div>
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-useAuth" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-useAuth" style="width: 70%;"><span data-i18n="httpin.basicauth"></span></label>
        <div style="margin-left: 20px" class="node-input-useAuth-row hide">
            <div class="form-row">
                <label for="node-input-user"><i class="fa fa-user"></i> <span data-i18n="common.label.username"></span></label>
                <input type="text" id="node-input-user">
            </div>
            <div class="form-row">
                <label for="node-input-password"><i class="fa fa-lock"></i> <span data-i18n="common.label.password"></span></label>
                <input type="password" id="node-input-password">
            </div>
        </div>
    </div>


    <div class="form-row">
        <label for="node-input-ret"><i class="fa fa-arrow-left"></i> <span data-i18n="httpin.label.return"></span></label>
        <select type="text" id="node-input-ret" style="width:70%;">
        <option value="txt" data-i18n="httpin.utf8"></option>
        <option value="bin" data-i18n="httpin.binary"></option>
        <option value="obj" data-i18n="httpin.json"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips" id="tip-json" hidden><span data-i18n="httpin.tip.req"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('http request',{
        category: 'function',
        color:"rgb(231, 231, 174)",
        defaults: {
            name: {value:""},
            method:{value:"GET"},
            ret: {value:"txt"},
            url:{value:""},
            tls: {type:"tls-config",required: false}
        },
        credentials: {
            user: {type:"text"},
            password: {type: "password"}
        },
        inputs:1,
        outputs:1,
        icon: "white-globe.png",
        label: function() {
            return this.name||this._("httpin.httpreq");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            $("#node-input-useAuth").change(function() {
                if ($(this).is(":checked")) {
                    $(".node-input-useAuth-row").show();
                } else {
                    $(".node-input-useAuth-row").hide();
                    $('#node-input-user').val('');
                    $('#node-input-password').val('');
                }
            });
            if (this.credentials.user || this.credentials.has_password) {
                $('#node-input-useAuth').prop('checked', true);
            } else {
                $('#node-input-useAuth').prop('checked', false);
            }
            $("#node-input-useAuth").change();

            function updateTLSOptions() {
                if ($("#node-input-usetls").is(':checked')) {
                    $("#node-row-tls").show();
                } else {
                    $("#node-row-tls").hide();
                }
            }
            if (this.tls) {
                $('#node-input-usetls').prop('checked', true);
            } else {
                $('#node-input-usetls').prop('checked', false);
            }
            updateTLSOptions();
            $("#node-input-usetls").on("click",function() {
                updateTLSOptions();
            });
            $("#node-input-ret").change(function() {
                if ($("#node-input-ret").val() === "obj") {
                    $("#tip-json").show();
                } else {
                    $("#tip-json").hide();
                }
            });
        },
        oneditsave: function() {
            if (!$("#node-input-usetls").is(':checked')) {
                $("#node-input-tls").val("_ADD_");
            }
        }
    });
</script>
<script type="text/x-red" data-help-name="http request">
    <p>Provides a node for making http requests.</p>
    <p>The URL and HTTP method can be configured in the node, if they are left blank they should be set in an incoming message on <code>msg.url</code> and <code>msg.method</code>:</p>
    <ul>
        <li><code>url</code>, if set, is used as the url of the request. Must start with http: or https:</li>
        <li><code>method</code>, if set, is used as the HTTP method of the request.
        Must be one of <code>GET</code>, <code>PUT</code>, <code>POST</code>, <code>PATCH</code> or <code>DELETE</code> (default: GET)</li>
        <li><code>headers</code>, if set, should be an object containing field/value
        pairs to be added as request headers</li>
        <li><code>payload</code> is sent as the body of the request</li>
    </ul>
    <p>When configured within the node, the URL property can contain <a href="http://mustache.github.io/mustache.5.html" target="_new">mustache-style</a> tags. These allow the
    url to be constructed using values of the incoming message. For example, if the url is set to
    <code>example.com/{{{topic}}}</code>, it will have the value of <code>msg.topic</code> automatically inserted.
    Using {{{...}}} prevents mustache from escaping characters like / & etc.</p>
    <p>
    The output message contains the following properties:
    <ul>
        <li><code>payload</code> is the body of the response</li>
        <li><code>statusCode</code> is the status code of the response, or the error code if the request could not be completed</li>
        <li><code>headers</code> is an object containing the response headers</li>
    </ul>
    <p><b>Note</b>: If you need to configure a proxy please add <b>http_proxy=...</b> to your environment variables and restart Node-RED.</p>
</script><!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!-- WebSocket Input Node -->
<script type="text/x-red" data-template-name="websocket in">
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-dot-circle-o"></i> <span data-i18n="websocket.label.type"></span></label>
        <select id="node-input-mode">
            <option value="server" data-i18n="websocket.listenon"></option>
            <option value="client" data-i18n="websocket.connectto"></option>
        </select>
    </div>
    <div class="form-row" id="websocket-server-row">
        <label for="node-input-server"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.path"></span></label>
        <input type="text" id="node-input-server">
    </div>
    <div class="form-row" id="websocket-client-row">
        <label for="node-input-client"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.url"></span></label>
        <input type="text" id="node-input-client">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">

(function() {

    function ws_oneditprepare() {
        $("#websocket-client-row").hide();
        $("#node-input-mode").change(function() {
            if ( $("#node-input-mode").val() === 'client') {
                $("#websocket-server-row").hide();
                $("#websocket-client-row").show();
            }
            else {
                $("#websocket-server-row").show();
                $("#websocket-client-row").hide();
            }
        });

        if (this.client) {
            $("#node-input-mode").val('client').change();
        }
        else {
            $("#node-input-mode").val('server').change();
        }
    }

    function ws_oneditsave() {
        if ($("#node-input-mode").val() === 'client') {
            $("#node-input-server").append('<option value="">Dummy</option>');
            $("#node-input-server").val('');
        }
        else {
            $("#node-input-client").append('<option value="">Dummy</option>');
            $("#node-input-client").val('');
        }
    }

    function ws_label() {
        var nodeid = (this.client)?this.client:this.server;
        var wsNode = RED.nodes.node(nodeid);
        return this.name||(wsNode?"[ws] "+wsNode.label():"websocket");
    }

    function ws_validateserver() {
        if ($("#node-input-mode").val() === 'client' || (this.client && !this.server)) {
            return true;
        }
        else {
            return RED.nodes.node(this.server) != null;
        }
    }

    function ws_validateclient() {
        if ($("#node-input-mode").val() === 'client' || (this.client && !this.server)) {
            return RED.nodes.node(this.client) != null;
        }
        else {
            return true;
        }
    }

    RED.nodes.registerType('websocket in',{
        category: 'input',
        defaults: {
            name: {value:""},
            server: {type:"websocket-listener", validate: ws_validateserver},
            client: {type:"websocket-client", validate: ws_validateclient}
        },
        color:"rgb(215, 215, 160)",
        inputs:0,
        outputs:1,
        icon: "white-globe.png",
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        label: ws_label,
        oneditsave: ws_oneditsave,
        oneditprepare: ws_oneditprepare
    });

    RED.nodes.registerType('websocket out',{
        category: 'output',
        defaults: {
            name: {value:""},
            server: {type:"websocket-listener", validate: ws_validateserver},
            client: {type:"websocket-client", validate: ws_validateclient}
        },
        color:"rgb(215, 215, 160)",
        inputs:1,
        outputs:0,
        icon: "white-globe.png",
        align: "right",
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        label: ws_label,
        oneditsave: ws_oneditsave,
        oneditprepare: ws_oneditprepare
    });

    RED.nodes.registerType('websocket-listener',{
        category: 'config',
        defaults: {
            path: {value:"",required:true,validate:RED.validators.regex(/^((?!\/debug\/ws).)*$/) },
            wholemsg: {value:"false"}
        },
        inputs:0,
        outputs:0,
        label: function() {
            var root = RED.settings.httpNodeRoot;
            if (root.slice(-1) != "/") {
                root = root+"/";
            }
            if (this.path.charAt(0) == "/") {
                root += this.path.slice(1);
            } else {
                root += this.path;
            }
            return root;
        },
        oneditprepare: function() {
            var root = RED.settings.httpNodeRoot;
            if (root.slice(-1) == "/") {
                root = root.slice(0,-1);
            }
            if (root === "") {
                $("#node-config-ws-tip").hide();
            } else {
                $("#node-config-ws-path").html(root);
                $("#node-config-ws-tip").show();
            }
        }
    });

    RED.nodes.registerType('websocket-client',{
        category: 'config',
        defaults: {
            path: {value:"",required:true,validate:RED.validators.regex(/^((?!\/debug\/ws).)*$/) },
            wholemsg: {value:"false"}
        },
        inputs:0,
        outputs:0,
        label: function() {
            return this.path;
        }
    });

})();
</script>

<!-- WebSocket out Node -->
<script type="text/x-red" data-template-name="websocket out">
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-dot-circle-o"></i> <span data-i18n="websocket.label.type"></span></label>
        <select id="node-input-mode">
            <option value="server" data-i18n="websocket.listenon"></option>
            <option value="client" data-i18n="websocket.connectto"></option>
        </select>
    </div>
    <div class="form-row" id="websocket-server-row">
        <label for="node-input-server"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.path"></span></label>
        <input type="text" id="node-input-server">
    </div>
    <div class="form-row" id="websocket-client-row">
        <label for="node-input-client"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.url"></span></label>
        <input type="text" id="node-input-client">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<!-- WebSocket Server configuration node -->
<script type="text/x-red" data-template-name="websocket-listener">
    <div class="form-row">
        <label for="node-config-input-path"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.path"></span></label>
        <input type="text" id="node-config-input-path" placeholder="/ws/example">
    </div>
    <div class="form-row">
        <label for="node-config-input-wholemsg">&nbsp;</label>
        <select type="text" id="node-config-input-wholemsg" style="width: 70%;">
            <option value="false" data-i18n="websocket.payload"></option>
            <option value="true" data-i18n="websocket.message"></option>
        </select>
    </div>
    <div class="form-tips">
        <span data-i18n="[html]websocket.tip.path1"></span>
        <p id="node-config-ws-tip"><span data-i18n="[html]websocket.tip.path2"></span><code><span id="node-config-ws-path"></span></code>.</p>
    </div>
</script>



<!-- WebSocket Client configuration node -->
<script type="text/x-red" data-template-name="websocket-client">
    <div class="form-row">
        <label for="node-config-input-path"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.url"></span></label>
        <input type="text" id="node-config-input-path" placeholder="ws://example.com/ws">
    </div>
    <div class="form-row">
        <label for="node-config-input-wholemsg">&nbsp;</label>
        <select type="text" id="node-config-input-wholemsg" style="width: 70%;">
            <option value="false" data-i18n="websocket.payload"></option>
            <option value="true" data-i18n="websocket.message"></option>
        </select>
    </div>
    <div class="form-tips">
        <p><span data-i18n="[html]websocket.tip.url1"></span></p>
        <span data-i18n="[html]websocket.tip.url2"></span>
    </div>
</script>


<script type="text/x-red" data-help-name="websocket in">
    <p>WebSocket input node.</p>
    <p>By default, the data received from the WebSocket will be in <code>msg.payload</code>.
    The socket can be configured to expect a properly formed JSON string, in which
    case it will parse the JSON and send on the resulting object as the entire message.</p>
</script><script type="text/x-red" data-help-name="websocket out">
    <p>WebSocket out node.</p>
    <p>By default, <code>msg.payload</code> will be sent over the WebSocket. The socket
    can be configured to encode the entire <code>msg</code> object as a JSON string and send that
    over the WebSocket.</p>

    <p>If the message arriving at this node started at a WebSocket In node, the message
    will be sent back to the client that triggered the flow. Otherwise, the message
    will be broadcast to all connected clients.</p>
    <p>If you want to broadcast a message that started at a WebSocket In node, you
    should delete the <code>msg._session</code> property within the flow.</p>
</script><script type="text/x-red" data-help-name="websocket-listener">
   <p>This configuration node creates a WebSocket Server endpoint using the specified path.</p>
</script><script type="text/x-red" data-help-name="websocket-client">
   <p>This configuration node connects a WebSocket client to the specified URL.</p>
</script><!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watch">
    <div class="form-row node-input-filename">
         <label for="node-input-files"><i class="fa fa-file"></i> <span data-i18n="watch.label.files"></span></label>
         <input type="text" id="node-input-files" data-i18n="[placeholder]watch.placeholder.files">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
     <div id="node-input-tip" class="form-tips"><span data-i18n="watch.tip"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('watch',{
        category: 'advanced-input',
        defaults: {
            name: {value:""},
            files: {value:"",required:true}
        },
        color:"BurlyWood",
        inputs:0,
        outputs:1,
        icon: "watch.png",
        label: function() {
            return this.name||this.files;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="watch">
    <p>Watches a directory or file for changes.</p>
    <p>You can enter a list of comma separated directories and/or files. You will
    need to put quotes "..." around any that have spaces in.</p>
    <p>On Windows you must use double back-slashes \\ in any directory names.</p>
    <p>The full filename of the file that actually changed is put into <code>msg.payload</code>,
    while a stringified version of the watch list is returned in <code>msg.topic</code>.</p>
    <p><code>msg.file</code> contains just the short filename of the file that changed.
    <code>msg.type</code> has the type of thing changed, usually <i>file</i> or <i>directory</i>,
    while <code>msg.size</code> holds the file size in bytes.</p>
    <p>Of course in Linux, <i>everything</i> is a file and thus can be watched...</p>
    <p><b>Note: </b>The directory or file must exist in order to be watched. If the file
    or directory gets deleted it may no longer be monitored even if it gets re-created.</p>
</script><!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="tcp in">
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-dot-circle-o"></i> <span data-i18n="tcpin.label.type"></span></label>
        <select id="node-input-server" style="width:120px; margin-right:5px;">
            <option value="server" data-i18n="tcpin.type.listen"></option>
            <option value="client" data-i18n="tcpin.type.connect"></option>
        </select>
        <span data-i18n="tcpin.label.port"></span> <input type="text" id="node-input-port" style="width: 65px">
    </div>
    <div class="form-row hidden" id="node-input-host-row" style="padding-left: 110px;">
        <span data-i18n="tcpin.label.host"></span> <input type="text" id="node-input-host" placeholder="localhost" style="width: 60%;">
    </div>

    <div class="form-row">
        <label><i class="fa fa-sign-out"></i> <span data-i18n="tcpin.label.output"></span></label>
        <select id="node-input-datamode" style="width:110px;">
            <option value="stream" data-i18n="tcpin.output.stream"></option>
            <option value="single" data-i18n="tcpin.output.single"></option>
        </select>
        <select id="node-input-datatype" style="width:140px;">
            <option value="buffer" data-i18n="tcpin.output.buffer"></option>
            <option value="utf8" data-i18n="tcpin.output.string"></option>
            <option value="base64" data-i18n="tcpin.output.base64"></option>
        </select>
        <span data-i18n="tcpin.label.payload"></span>
    </div>

    <div id="node-row-newline" class="form-row hidden" style="padding-left: 110px;">
        <span data-i18n="tcpin.label.delimited"></span> <input type="text" id="node-input-newline" style="width: 110px;">
    </div>

    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]common.label.topic">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('tcp in',{
        category: 'input',
        color:"Silver",
        defaults: {
            name: {value:""},
            server: {value:"server",required:true},
            host: {value:"",validate:function(v) { return (this.server == "server")||v.length > 0;} },
            port: {value:"",required:true,validate:RED.validators.number()},
            datamode:{value:"stream"},
            datatype:{value:"buffer"},
            newline:{value:""},
            topic: {value:""},
            base64: {/*deprecated*/ value:false,required:true}
        },
        inputs:0,
        outputs:1,
        icon: "bridge-dash.png",
        label: function() {
            return this.name || "tcp:"+(this.host?this.host+":":"")+this.port;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var updateOptions = function() {
                var sockettype = $("#node-input-server").val();
                if (sockettype == "client") {
                    $("#node-input-host-row").show();
                } else {
                    $("#node-input-host-row").hide();
                }
                var datamode = $("#node-input-datamode").val();
                var datatype = $("#node-input-datatype").val();
                if (datamode == "stream") {
                    if (datatype == "utf8") {
                        $("#node-row-newline").show();
                    } else {
                        $("#node-row-newline").hide();
                    }
                } else {
                    $("#node-row-newline").hide();
                }
            };
            updateOptions();
            $("#node-input-server").change(updateOptions);
            $("#node-input-datatype").change(updateOptions);
            $("#node-input-datamode").change(updateOptions);
        }
    });
</script>


<script type="text/x-red" data-template-name="tcp out">
    <div class="form-row">
        <label for="node-input-beserver"><i class="fa fa-dot-circle-o"></i> <span data-i18n="tcpin.label.type"></span></label>
        <select id="node-input-beserver" style="width:150px; margin-right:5px;">
            <option value="server" data-i18n="tcpin.type.listen"></option>
            <option value="client" data-i18n="tcpin.type.connect"></option>
            <option value="reply" data-i18n="tcpin.type.reply"></option>
        </select>
        <span id="node-input-port-row"><span data-i18n="tcpin.label.port"></span> <input type="text" id="node-input-port" style="width: 65px"></span>
    </div>

    <div class="form-row hidden" id="node-input-host-row" style="padding-left: 110px;">
        <span data-i18n="tcpin.label.host"></span> <input type="text" id="node-input-host" style="width: 60%;">
    </div>

    <div class="form-row hidden" id="node-input-end-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-end" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-end" style="width: 70%;"><span data-i18n="tcpin.label.close-connection"></span></label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-base64" placeholder="base64" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-base64" style="width: 70%;"><span data-i18n="tcpin.label.decode-base64"></span></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('tcp out',{
        category: 'output',
        color:"Silver",
        defaults: {
            host: {value:"",validate:function(v) { return (this.beserver != "client")||v.length > 0;} },
            port: {value:"",validate:function(v) { return (this.beserver == "reply")||RED.validators.number()(v) } },
            beserver: {value:"client",required:true},
            base64: {value:false,required:true},
            end: {value:false,required:true},
            name: {value:""}
        },
        inputs:1,
        outputs:0,
        icon: "bridge-dash.png",
        align: "right",
        label: function() {
            return this.name || "tcp:"+(this.host?this.host+":":"")+this.port;
        },
        labelStyle: function() {
            return (this.name)?"node_label_italic":"";
        },
        oneditprepare: function() {
            var updateOptions = function() {
                var sockettype = $("#node-input-beserver").val();
                if (sockettype == "reply") {
                    $("#node-input-port-row").hide();
                    $("#node-input-host-row").hide();
                    $("#node-input-end-row").hide();
                } else {
                    $("#node-input-port-row").show();
                    $("#node-input-end-row").show();
                }

                if (sockettype == "client") {
                    $("#node-input-host-row").show();
                } else {
                    $("#node-input-host-row").hide();
                }
            };
            updateOptions();
            $("#node-input-beserver").change(updateOptions);
        }
    });
</script>


<script type="text/x-red" data-template-name="tcp request">
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-globe"></i> <span data-i18n="tcpin.label.server"></span></label>
        <input type="text" id="node-input-server" placeholder="ip.address" style="width:45%">
        &nbsp;port <input type="text" id="node-input-port" style="width:60px">
    </div>
    <div class="form-row">
        <label for="node-input-out"><i class="fa fa-sign-out"></i> <span data-i18n="tcpin.label.return"></span></label>
        <select type="text" id="node-input-out" style="width:56%;">
            <option value="time" data-i18n="tcpin.return.timeout"></option>
            <option value="char" data-i18n="tcpin.return.character"></option>
            <option value="count" data-i18n="tcpin.return.number"></option>
            <option value="sit" data-i18n="tcpin.return.never"></option>
        </select>
        <input type="text" id="node-input-splitc"  style="width:50px;">
        <span id="node-units"></span>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <script>
        var previous = null;
        $("#node-input-out").on('focus', function () { previous = this.value; }).change(function() {
            if (previous == null) { previous = $("#node-input-out").val(); }
            if ($("#node-input-out").val() == "char") {
                if (previous != "char") $("#node-input-splitc").val("\\n");
                $("#node-units").text("");
            }
            else if ($("#node-input-out").val() == "time") {
                if (previous != "time") $("#node-input-splitc").val("0");
                $("#node-units").text("ms");
            }
            else if ($("#node-input-out").val() == "count") {
                if (previous != "count") $("#node-input-splitc").val("12");
                $("#node-units").text("chars");
            }
            else {
                if (previous != "sit") $("#node-input-splitc").val("0");
                $("#node-units").text("");
            }
        });
</script>



<script type="text/javascript">
    RED.nodes.registerType('tcp request',{
        category: 'function',
        color:"Silver",
        defaults: {
            server: {value:""},
            port: {value:"",validate:RED.validators.regex(/^(\d*|)$/)},
            out: {value:"time",required:true},
            splitc: {value:"0",required:true},
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "bridge-dash.png",
        label: function() {
            return this.name || "tcp:"+(this.server?this.server+":":"")+this.port;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="tcp in">
    <p>Provides a choice of TCP inputs. Can either connect to a remote TCP port,
       or accept incoming connections.</p>
</script><script type="text/x-red" data-help-name="tcp out">
    <p>Provides a choice of TCP outputs. Can either connect to a remote TCP port,
    accept incoming connections, or reply to messages received from a TCP In node.</p>
    <p>Only <code>msg.payload</code> is sent.</p>
    <p>If <code>msg.payload</code> is a string containing a Base64 encoding of binary
    data, the Base64 decoding option will cause it to be converted back to binary
    before being sent.</p>
    <p>If <code>msg._session</code> is not present the payload is
    sent to <b>all</b> connected clients.</p>
</script><script type="text/x-red" data-help-name="tcp request">
    <p>A simple TCP request node - sends the <code>msg.payload</code> to a server tcp port and expects a response.</p>
    <p>Connects, sends the "request", and reads the "response". It can either count a number of
    returned characters into a fixed buffer, match a specified character before returning,
    wait a fixed timeout from first reply and then return, or just sit and wait for data.</p>
    <p>The response will be output in <code>msg.payload</code> as a buffer, so you may want to .toString() it.</p>
    <p>If you leave tcp host or port blank they must be set by using the <code>msg.host</code> and <code>msg.port</code> properties.</p>
</script><!--
  Copyright 2013,2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!--  The Input Node  -->
<script type="text/x-red" data-template-name="udp in">
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-sign-in"></i> <span data-i18n="udp.label.listen"></span></label>
        <select id="node-input-multicast" style='width:70%'>
          <option value="false" data-i18n="udp.udpmsgs"></option>
          <option value="true" data-i18n="udp.mcmsgs"></option>
        </select>
    </div>
    <div class="form-row node-input-group">
        <label for="node-input-group"><i class="fa fa-list"></i> <span data-i18n="udp.label.group"></span></label>
        <input type="text" id="node-input-group" placeholder="225.0.18.83">
    </div>
    <div class="form-row node-input-iface">
        <label for="node-input-iface"><i class="fa fa-random"></i> <span data-i18n="udp.label.interface"></span></label>
        <input type="text" id="node-input-iface" data-i18n="[placeholder]udp.label.interfaceprompt">
    </div>
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-sign-in"></i> <span data-i18n="udp.label.onport"></span></label>
        <input type="text" id="node-input-port" style="width: 80px">
        &nbsp;&nbsp;<span data-i18n="udp.label.using"></span> <select id="node-input-ipv" style="width:80px">
          <option value="udp4">ipv4</option>
          <option value="udp6">ipv6</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-datatype"><i class="fa fa-sign-out"></i> <span data-i18n="udp.label.output"></span></label>
        <select id="node-input-datatype" style="width: 70%;">
            <option value="buffer" data-i18n="udp.output.buffer"></option>
            <option value="utf8" data-i18n="udp.output.string"></option>
            <option value="base64" data-i18n="udp.output.base64"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="udp.tip.in"></span></div>
    <div class="form-tips" id="udpporttip"><span data-i18n="[html]udp.tip.port"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('udp in',{
        category: 'input',
        color:"Silver",
        defaults: {
            name: {value:""},
            iface: {value:""},
            port: {value:"",required:true,validate:RED.validators.number()},
            ipv: {value:"udp4"},
            multicast: {value:"false"},
            group: {value:"",validate:function(v) { return (this.multicast !== "true")||v.length > 0;} },
            datatype: {value:"buffer",required:true}
        },
        inputs:0,
        outputs:1,
        icon: "bridge-dash.png",
        label: function() {
            if (this.multicast=="false") {
                return this.name||"udp "+this.port;
            }
            else return this.name||"udp "+(this.group+":"+this.port);
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            $("#node-input-multicast").change(function() {
                var id = $("#node-input-multicast").val();
                if (id == "false") {
                    $(".node-input-group").hide();
                    $(".node-input-iface").hide();
                }
                else {
                    $(".node-input-group").show();
                    $(".node-input-iface").show();
                }
            });
            $("#node-input-multicast").change();

            var porttip = this._("udp.tip.port");
            var alreadyused = this._("udp.errors.alreadyused");
            var portsInUse = {};
            $.getJSON('udp-ports/'+this.id,function(data) {
                portsInUse = data || {};
                $('#udpporttip').html(porttip + Object.keys(data||{}));
            });
            $("#node-input-port").change(function() {
                var portnew = $("#node-input-port").val();
                if (portsInUse.hasOwnProperty($("#node-input-port").val())) {
                    RED.notify(alreadyused+" "+$("#node-input-port").val(),"warn");
                }
            });
        }
    });
</script>


<!--  The Output Node  -->
<script type="text/x-red" data-template-name="udp out">
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-envelope"></i> <span data-i18n="udp.label.send"></span></label>
        <select id="node-input-multicast" style="width:40%">
          <option value="false" data-i18n="udp.udpmsg"></option>
          <option value="broad" data-i18n="udp.bcmsg"></option>
          <option value="multi" data-i18n="udp.mcmsg"></option>
        </select>
        <span data-i18n="udp.label.toport"></span> <input type="text" id="node-input-port" style="width: 70px">
    </div>
    <div class="form-row node-input-addr">
        <label for="node-input-addr" id="node-input-addr-label"><i class="fa fa-list"></i> <span data-i18n="udp.label.address"></span></label>
        <input type="text" id="node-input-addr" data-i18n="[placeholder]udp.placeholder.address" style="width: 50%;">
        <select id="node-input-ipv" style="width:70px">
          <option value="udp4">ipv4</option>
          <option value="udp6">ipv6</option>
        </select>
    </div>
    <div class="form-row node-input-iface">
        <label for="node-input-iface"><i class="fa fa-random"></i> <span data-i18n="udp.label.interface"></span></label>
        <input type="text" id="node-input-iface" data-i18n="[placeholder]udp.placeholder.interface">
    </div>
    <div class="form-row">
        <label for="node-input-outport-type">&nbsp;</label>
        <select id="node-input-outport-type">
          <option id="node-input-outport-type-random" value="random" data-i18n="udp.bind.random"></option>
          <option value="fixed" data-i18n="udp.bind.local"></option>
        </select>
        <input type="text" id="node-input-outport"  style="width: 70px;">
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-base64" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-base64" style="width: 70%;"><span data-i18n="udp.label.decode-base64"></span></label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="[html]udp.tip.out"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('udp out',{
        category: 'output',
        color:"Silver",
        defaults: {
            name: {value:""},
            addr: {value:""},
            iface: {value:""},
            port: {value:""},
            ipv: {value:"udp4"},
            outport: {value:""},
            base64: {value:false,required:true},
            multicast: {value:"false"}
        },
        inputs:1,
        outputs:0,
        icon: "bridge-dash.png",
        align: "right",
        label: function() {
            return this.name||"udp "+(this.addr+":"+this.port);
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var addresslabel = this._("udp.label.address");
            var addressph = this._("udp.placeholder.address");
            var grouplabel = this._("udp.label.group");
            var bindrandom = this._("udp.bind.random");
            var bindtarget = this._("udp.bind.target");

            var type = this.outport==""?"random":"fixed";
            $("#node-input-outport-type").val(type);

            $("#node-input-outport-type").change(function() {
                var type = $(this).val();
                if (type == "random") {
                    $("#node-input-outport").val("").hide();
                } else {
                    $("#node-input-outport").show();
                }
            });
            $("#node-input-outport-type").change();

            $("#node-input-multicast").change(function() {
                var id = $("#node-input-multicast").val();
                if (id === "multi") {
                    $(".node-input-iface").show();
                    $("#node-input-addr-label").html('<i class="fa fa-list"></i> ' + grouplabel);
                    $("#node-input-addr")[0].placeholder = '225.0.18.83';
                }
                else if (id === "broad") {
                    $(".node-input-iface").hide();
                    $("#node-input-addr-label").html('<i class="fa fa-list"></i> ' + addresslabel);
                    $("#node-input-addr")[0].placeholder = '255.255.255.255';
                }
                else {
                    $(".node-input-iface").hide();
                    $("#node-input-addr-label").html('<i class="fa fa-list"></i> ' + addresslabel);
                    $("#node-input-addr")[0].placeholder = addressph;
                }
                var type = $(this).val();
                if (type == "false") {
                    $("#node-input-outport-type-random").html(bindrandom);
                } else {
                    $("#node-input-outport-type-random").html(bindtarget);
                }
            });
            $("#node-input-multicast").change();
        }
    });
</script>
<script type="text/x-red" data-help-name="udp in">
    <p>A UDP input node, that produces a <code>msg.payload</code> containing a
    Buffer, string, or base64 encoded string. Supports multicast.</p>
    <p>It also provides <code>msg.ip</code> and <code>msg.port</code> set to the
    ip address and port from which the message was received.</p>
    <p><b>Note</b>: On some systems you may need to be root to use ports below 1024 and/or broadcast.</p>
</script><script type="text/x-red" data-help-name="udp out">
    <p>This node sends <code>msg.payload</code> to the designated UDP host and port. Supports multicast.</p>
    <p>You may also use <code>msg.ip</code> and <code>msg.port</code> to set the destination values, but the statically configured values have precedence.</p>
    <p>If you select broadcast either set the address to the local broadcast ip address, or maybe try 255.255.255.255, which is the global broadcast address.</p>
    <p><b>Note</b>: On some systems you may need to be root to use ports below 1024 and/or broadcast.</p>
</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="switch">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row">
        <label data-i18n="switch.label.property"></label>
        <input type="text" id="node-input-property" style="width: 70%"/>
    </div>
    <div class="form-row node-input-rule-container-row">
        <ol id="node-input-rule-container"></ol>
    </div>
    <div class="form-row">
        <select id="node-input-checkall" style="width:100%; margin-right:5px;">
            <option value="true" data-i18n="switch.checkall"></option>
            <option value="false" data-i18n="switch.stopfirst"></option>
        </select>
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('switch', {
        color: "#E2D96E",
        category: 'function',
        defaults: {
            name: {value:""},
            property: {value:"payload", required:true},
            propertyType: { value:"msg" },
            rules: {value:[{t:"eq", v:""}]},
            checkall: {value:"true", required:true},
            outputs: {value:1}
        },
        inputs: 1,
        outputs: 1,
        icon: "switch.png",
        label: function() {
            return this.name||"switch";
        },
        oneditprepare: function() {
            var node = this;
            var previousValueType = {value:"prev",label:this._("inject.previous"),hasValue:false};

            $("#node-input-property").typedInput({default:this.propertyType||'msg',types:['msg','flow','global']});
            var operators = [
                {v:"eq",t:"=="},
                {v:"neq",t:"!="},
                {v:"lt",t:"<"},
                {v:"lte",t:"<="},
                {v:"gt",t:">"},
                {v:"gte",t:">="},
                {v:"btwn",t:this._("switch.rules.btwn")},
                {v:"cont",t:this._("switch.rules.cont")},
                {v:"regex",t:this._("switch.rules.regex")},
                {v:"true",t:this._("switch.rules.true")},
                {v:"false",t:this._("switch.rules.false")},
                {v:"null",t:this._("switch.rules.null")},
                {v:"nnull",t:this._("switch.rules.nnull")},
                {v:"else",t:this._("switch.rules.else")}
            ];

            var andLabel = this._("switch.and");
            var caseLabel = this._("switch.ignorecase");

            function resizeRule(rule) {
                var newWidth = rule.width();
                var selectField = rule.find("select");
                var type = selectField.val()||"";
                var valueField = rule.find(".node-input-rule-value");
                var btwnField1 = rule.find(".node-input-rule-btwn-value");
                var btwnField2 = rule.find(".node-input-rule-btwn-value2");
                var selectWidth;
                if (type.length < 4) {
                    selectWidth = 60;
                } else if (type === "regex") {
                    selectWidth = 147;
                } else {
                    selectWidth = 120;
                }
                selectField.width(selectWidth);
                if (type === "btwn") {
                    btwnField1.typedInput("width",(newWidth-selectWidth-70));
                    btwnField2.typedInput("width",(newWidth-selectWidth-70));
                } else {
                    if (type === "true" || type === "false" || type === "null" || type === "nnull" || type === "else") {
                        // valueField.hide();
                    } else {
                        valueField.typedInput("width",(newWidth-selectWidth-70));
                    }
                }
            }

            $("#node-input-rule-container").css('min-height','250px').css('min-width','450px').editableList({
                addItem: function(container,i,opt) {
                    var rule = opt;
                    if (!rule.hasOwnProperty('t')) {
                        rule.t = 'eq';
                    }
                    var row = $('<div></div>').appendTo(container);
                    var row2 = $('<div></div>',{style:"padding-top: 5px; padding-left: 175px;"}).appendTo(container);
                    var row3 = $('<div></div>',{style:"padding-top: 5px; padding-left: 102px;"}).appendTo(container);
                    var selectField = $('<select></select>',{style:"width:120px; margin-left: 5px; text-align: center;"}).appendTo(row);
                    for (var d in operators) {
                        selectField.append($("<option></option>").val(operators[d].v).text(operators[d].t));
                    }
                    var valueField = $('<input/>',{class:"node-input-rule-value",type:"text",style:"margin-left: 5px; width: 145px;"}).appendTo(row).typedInput({default:'str',types:['msg','flow','global','str','num',previousValueType]});
                    var btwnValueField = $('<input/>',{class:"node-input-rule-btwn-value",type:"text",style:"margin-left: 5px;"}).appendTo(row).typedInput({default:'num',types:['msg','flow','global','str','num',previousValueType]});
                    var btwnAndLabel = $('<span></span>',{class:"node-input-rule-btwn-label"}).text(" "+andLabel+" ").appendTo(row3);
                    var btwnValue2Field = $('<input/>',{class:"node-input-rule-btwn-value2",type:"text",style:"margin-left:2px;"}).appendTo(row3).typedInput({default:'num',types:['msg','flow','global','str','num',previousValueType]});
                    var finalspan = $('<span></span>',{style:"float: right;margin-top: 6px;"}).appendTo(row);
                    finalspan.append(' &#8594; <span class="node-input-rule-index">'+(i+1)+'</span> ');
                    var caseSensitive = $('<input/>',{id:"node-input-rule-case-"+i,class:"node-input-rule-case",type:"checkbox",style:"width:auto;vertical-align:top"}).appendTo(row2);
                    $('<label></label>',{for:"node-input-rule-case-"+i,style:"margin-left: 3px;"}).text(caseLabel).appendTo(row2);
                    selectField.change(function() {
                        resizeRule(container);
                        var type = selectField.val();
                        if (type === "btwn") {
                            valueField.typedInput('hide');
                            btwnValueField.typedInput('show');
                        } else {
                            btwnValueField.typedInput('hide');
                            if (type === "true" || type === "false" || type === "null" || type === "nnull" || type === "else") {
                                valueField.typedInput('hide');
                            } else {
                                valueField.typedInput('show');
                            }
                        }
                        if (type === "regex") {
                            row2.show();
                            row3.hide();
                        } else if (type === "btwn"){
                            row2.hide();
                            row3.show();
                        } else {
                            row2.hide();
                            row3.hide();
                        }
                    });
                    selectField.val(rule.t);
                    if (rule.t == "btwn") {
                        btwnValueField.typedInput('value',rule.v);
                        btwnValueField.typedInput('type',rule.vt||'num');
                        btwnValue2Field.typedInput('value',rule.v2);
                        btwnValue2Field.typedInput('type',rule.v2t||'num');
                    } else if (typeof rule.v != "undefined") {
                        valueField.typedInput('value',rule.v);
                        valueField.typedInput('type',rule.vt||'str');
                    }
                    if (rule.case) {
                        caseSensitive.prop('checked',true);
                    } else {
                        caseSensitive.prop('checked',false);
                    }
                    selectField.change();
                },
                removeItem: function(opt) {
                    var rules = $("#node-input-rule-container").editableList('items');
                    rules.each(function(i) { $(this).find(".node-input-rule-index").html(i+1); });
                },
                resizeItem: resizeRule,
                sortItems: function(rules) {
                    var rules = $("#node-input-rule-container").editableList('items');
                    rules.each(function(i) { $(this).find(".node-input-rule-index").html(i+1); });
                },
                sortable: true,
                removable: true
            });

            for (var i=0;i<this.rules.length;i++) {
                var rule = this.rules[i];
                $("#node-input-rule-container").editableList('addItem',rule);
            }
        },
        oneditsave: function() {
            var rules = $("#node-input-rule-container").editableList('items');
            var ruleset;
            var node = this;
            node.rules= [];
            rules.each(function(i) {
                var rule = $(this);
                var type = rule.find("select").val();
                var r = {t:type};
                if (!(type === "true" || type === "false" || type === "null" || type === "nnull" || type === "else")) {
                    if (type === "btwn") {
                        r.v = rule.find(".node-input-rule-btwn-value").typedInput('value');
                        r.vt = rule.find(".node-input-rule-btwn-value").typedInput('type');
                        r.v2 = rule.find(".node-input-rule-btwn-value2").typedInput('value');
                        r.v2t = rule.find(".node-input-rule-btwn-value2").typedInput('type');
                    } else {
                        r.v = rule.find(".node-input-rule-value").typedInput('value');
                        r.vt = rule.find(".node-input-rule-value").typedInput('type');
                    }
                    if (type === "regex") {
                        r.case = rule.find(".node-input-rule-case").prop("checked");
                    }
                }
                node.rules.push(r);
            });
            this.outputs = node.rules.length;
            this.propertyType = $("#node-input-property").typedInput('type');
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-input-rule-container-row)");
            var height = size.height;
            for (var i=0;i<rows.size();i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-input-rule-container-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $("#node-input-rule-container").editableList('height',height);
        }
    });
</script>
<script type="text/x-red" data-help-name="switch">
    <p>A node to route messages based on property values.</p>
    <p>When a message arrives, the selected property is evaluated against each
    of the defined rules. The message is then sent to the output of <i>all</i>
    rules that pass.</p>
    <p><b>Note</b>: the <i>otherwise</i> rule applies as a "not any of" the rules preceding it.</p>
</script><!--
  Copyright 2013, 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="change">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row" style="margin-bottom:0;">
        <label><i class="fa fa-list"></i> <span data-i18n="change.label.rules"></span></label>
    </div>
    <div class="form-row node-input-rule-container-row">
        <ol id="node-input-rule-container"></ol>
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('change', {
        color: "#E2D96E",
        category: 'function',
        defaults: {
            name: {value:""},
            rules:{value:[{t:"set",p:"payload",pt:"msg",to:"",tot:"str"}]},
            // legacy
            action: {value:""},
            property: {value:""},
            from: {value:""},
            to: {value:""},
            reg: {value:false}
        },
        inputs: 1,
        outputs: 1,
        icon: "swap.png",
        label: function() {
            if (this.name) {
                return this.name;
            }
            if (!this.rules) {
                if (this.action === "replace") {
                    return this._("change.label.set",{property:"msg."+this.property});
                } else if (this.action === "change") {
                    return this._("change.label.change",{property:"msg."+this.property});
                } else if (this.action === "move") {
                    return this._("change.label.move",{property:"msg."+this.property});
                } else {
                    return this._("change.label.delete",{property:"msg."+this.property});
                }
            } else {
                if (this.rules.length == 1) {
                    if (this.rules[0].t === "set") {
                        return this._("change.label.set",{property:(this.rules[0].pt||"msg")+"."+this.rules[0].p});
                    } else if (this.rules[0].t === "change") {
                        return this._("change.label.change",{property:(this.rules[0].pt||"msg")+"."+this.rules[0].p});
                    } else if (this.rules[0].t === "move") {
                        return this._("change.label.move",{property:(this.rules[0].pt||"msg")+"."+this.rules[0].p});
                    } else {
                        return this._("change.label.delete",{property:(this.rules[0].pt||"msg")+"."+this.rules[0].p});
                    }
                } else {
                    return this._("change.label.changeCount",{count:this.rules.length});
                }
            }
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function() {
            var set = this._("change.action.set");
            var change = this._("change.action.change");
            var del = this._("change.action.delete");
            var move = this._("change.action.move");
            var to = this._("change.action.to");
            var search = this._("change.action.search");
            var replace = this._("change.action.replace");
            var regex = this._("change.label.regex");

            function resizeRule(rule) {
                var newWidth = rule.width();
                rule.find('.red-ui-typedInput').typedInput("width",newWidth-150);

            }
            $('#node-input-rule-container').css('min-height','300px').css('min-width','450px').editableList({
                addItem: function(container,i,opt) {
                    var rule = opt;
                    if (!rule.hasOwnProperty('t')) {
                        rule = {t:"set",p:"payload",to:"",tot:"str"};
                    }
                    if (rule.t === "change" && rule.re) {
                        rule.fromt = 're';
                        delete rule.re;
                    }
                    if (rule.t === "set" && !rule.tot) {
                        if (rule.to.indexOf("msg.") === 0 && !rule.tot) {
                            rule.to = rule.to.substring(4);
                            rule.tot = "msg";
                        } else {
                            rule.tot = "str";
                        }
                    }
                    if (rule.t === "move" && !rule.tot) {
                        rule.tot = "msg";
                    }

                    var row1 = $('<div></div>').appendTo(container);
                    var row2 = $('<div></div>',{style:"margin-top:8px;"}).appendTo(container);
                    var row3 = $('<div></div>',{style:"margin-top:8px;"}).appendTo(container);
                    var row4 = $('<div></div>',{style:"margin-top:8px;"}).appendTo(container);

                    var selectField = $('<select></select>',{class:"node-input-rule-type",style:"width:110px; margin-right:10px;"}).appendTo(row1);
                    var selectOptions = [{v:"set",l:set},{v:"change",l:change},{v:"delete",l:del},{v:"move",l:move}];
                    for (var i=0;i<4;i++) {
                        selectField.append($("<option></option>").val(selectOptions[i].v).text(selectOptions[i].l));
                    }

                    var propertyName = $('<input/>',{style:"width:250px",class:"node-input-rule-property-name",type:"text"})
                        .appendTo(row1)
                        .typedInput({types:['msg','flow','global']});

                    $('<div></div>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(to)
                        .appendTo(row2);
                    var propertyValue = $('<input/>',{style:"width:250px",class:"node-input-rule-property-value",type:"text"})
                        .appendTo(row2)
                        .typedInput({default:'str',types:['msg','flow','global','str','num','bool','json','date']});

                    var row3_1 = $('<div></div>').appendTo(row3);
                    $('<div></div>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(search)
                        .appendTo(row3_1);
                    var fromValue = $('<input/>',{style:"width:250px",class:"node-input-rule-property-search-value",type:"text"})
                        .appendTo(row3_1)
                        .typedInput({default:'str',types:['msg','flow','global','str','re','num','bool']});

                    var row3_2 = $('<div></div>',{style:"margin-top:8px;"}).appendTo(row3);
                    $('<div></div>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(replace)
                        .appendTo(row3_2);
                    var toValue = $('<input/>',{style:"width:250px",class:"node-input-rule-property-replace-value",type:"text"})
                        .appendTo(row3_2)
                        .typedInput({default:'str',types:['msg','flow','global','str','num','bool','json']});

                    $('<div></div>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(to)
                        .appendTo(row4);
                    var moveValue = $('<input/>',{style:"width:250px",class:"node-input-rule-property-move-value",type:"text"})
                        .appendTo(row4)
                        .typedInput({default:'msg',types:['msg','flow','global']});

                    selectField.change(function() {
                        var width = $("#node-input-rule-container").width();
                        var type = $(this).val();
                        if (type == "set") {
                            row2.show();
                            row3.hide();
                            row4.hide();
                        } else if (type == "change") {
                            row2.hide();
                            row3.show();
                            row4.hide();
                        } else if (type == "delete") {
                            row2.hide();
                            row3.hide();
                            row4.hide();
                        } else if (type == "move") {
                            row2.hide();
                            row3.hide();
                            row4.show();
                        }
                        resizeRule(container);
                    });

                    selectField.val(rule.t);
                    propertyName.typedInput('value',rule.p);
                    propertyName.typedInput('type',rule.pt);
                    propertyValue.typedInput('value',rule.to);
                    propertyValue.typedInput('type',rule.tot);
                    moveValue.typedInput('value',rule.to);
                    moveValue.typedInput('type',rule.tot);
                    fromValue.typedInput('value',rule.from);
                    fromValue.typedInput('type',rule.fromt);
                    toValue.typedInput('value',rule.to);
                    toValue.typedInput('type',rule.tot);
                    selectField.change();

                    var newWidth = $("#node-input-rule-container").width();
                    resizeRule(container);
                },
                resizeItem: resizeRule,
                removable: true,
                sortable: true
            });

            if (!this.rules) {
                var rule = {
                    t:(this.action=="replace"?"set":this.action),
                    p:this.property,
                    pt:"msg"
                }

                if ((rule.t === "set")||(rule.t === "move")) {
                    rule.to = this.to;
                } else if (rule.t === "change") {
                    rule.from = this.from;
                    rule.to = this.to;
                    rule.re = this.reg;
                }

                delete this.to;
                delete this.from;
                delete this.reg;
                delete this.action;
                delete this.property;

                this.rules = [rule];
            }

            for (var i=0;i<this.rules.length;i++) {
                var rule = this.rules[i];
                $("#node-input-rule-container").editableList('addItem',rule);
            }
        },
        oneditsave: function() {
            var rules = $("#node-input-rule-container").editableList('items');
            var ruleset;
            var node = this;
            node.rules= [];
            rules.each(function(i) {
                var rule = $(this);
                var type = rule.find(".node-input-rule-type").val();
                var r = {
                    t:type,
                    p:rule.find(".node-input-rule-property-name").typedInput('value'),
                    pt:rule.find(".node-input-rule-property-name").typedInput('type')
                };
                if (type === "set") {
                    r.to = rule.find(".node-input-rule-property-value").typedInput('value');
                    r.tot = rule.find(".node-input-rule-property-value").typedInput('type');
                } else if (type === "move") {
                    r.to = rule.find(".node-input-rule-property-move-value").typedInput('value');
                    r.tot = rule.find(".node-input-rule-property-move-value").typedInput('type');
                } else if (type === "change") {
                    r.from = rule.find(".node-input-rule-property-search-value").typedInput('value');
                    r.fromt = rule.find(".node-input-rule-property-search-value").typedInput('type');
                    r.to = rule.find(".node-input-rule-property-replace-value").typedInput('value');
                    r.tot = rule.find(".node-input-rule-property-replace-value").typedInput('type');
                }
                node.rules.push(r);
            });
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-input-rule-container-row)");
            var height = size.height;
            for (var i=0;i<rows.size();i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-input-rule-container-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));

            $("#node-input-rule-container").editableList('height',height);
        }
    });
</script>
<script type="text/x-red" data-help-name="change">
    <p>Set, change, delete or move properties of a message, flow context or global context.</p>
    <p>The node can specify multiple rules that will be applied in turn.</p>
    <p>The available operations are:</p>
    <ul>
        <li><b>Set</b> - set a property. The value can be a variety of different types, or
            can be taken from an existing message or context property.</li>
        <li><b>Change</b> - search &amp; replace parts of the property. If regular expressions
            are enabled, the <b>replace with</b> property can include capture groups, for example <code>$1</code></li>
        <li><b>Delete</b> - delete a property.</li>
        <li><b>Move</b> - move or rename a property. Equivalent to set and delete in one operation.
    </ul>
</script><!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="range">
    <div class="form-row">
        <label for="node-input-action"><i class="fa fa-dot-circle-o"></i> <span data-i18n="range.label.action"></span></label>
        <select id="node-input-action" style="width:70%;">
            <option value="scale" data-i18n="range.scale.payload"></option>
            <option value="clamp" data-i18n="range.scale.limit"></option>
            <option value="roll" data-i18n="range.scale.wrap"></option>
        </select>
    </div>
    <br/>
    <div class="form-row"><i class="fa fa-sign-in"></i> <span data-i18n="range.label.inputrange"></span>:</div>
    <div class="form-row"><label></label>
        <span data-i18n="range.label.from"></span>: <input type="text" id="node-input-minin" data-i18n="[placeholder]range.placeholder.min" style="width:100px;"/>
        &nbsp;&nbsp;<span data-i18n="range.label.to"></span>: <input type="text" id="node-input-maxin" data-i18n="[placeholder]range.placeholder.maxin" style="width:100px;"/>
    </div>
    <div class="form-row"><i class="fa fa-sign-out"></i> <span data-i18n="range.label.resultrange"></span>:</div>
    <div class="form-row"><label></label>
        <span data-i18n="range.label.from"></span>: <input type="text" id="node-input-minout" data-i18n="[placeholder]range.placeholder.min" style="width:100px;"/>
        &nbsp;&nbsp;<span data-i18n="range.label.to"></span>: <input type="text" id="node-input-maxout" data-i18n="[placeholder]range.placeholder.maxout" style="width:100px;"/>
    </div>
    <br/>
    <div class="form-row"><label></label>
        <input type="checkbox" id="node-input-round" style="display: inline-block; width: auto; vertical-align: top;">
        <label style="width: auto;" for="node-input-round"><span data-i18n="range.label.roundresult"></span></label></input>
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips" id="node-tip"><span data-i18n="range.tip"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('range', {
        color: "#E2D96E",
        category: 'function',
        defaults: {
            minin: {value:"",required:true,validate:RED.validators.number()},
            maxin: {value:"",required:true,validate:RED.validators.number()},
            minout: {value:"",required:true,validate:RED.validators.number()},
            maxout: {value:"",required:true,validate:RED.validators.number()},
            action: {value:"scale"},
            round: {value:false},
            name: {value:""}
        },
        inputs: 1,
        outputs: 1,
        icon: "range.png",
        label: function() {
            return this.name || "range";
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        }
    });
</script>
<script type="text/x-red" data-help-name="range">
    <p>A simple function node to remap numeric input values to another scale.</p>
    <p>Currently only does a linear scaling.</p>
    <p><b>Note:</b> This only operates on <b>numbers</b>. Anything else will try to be made into a number and rejected if that fails.</p>
    <p><i>Scale and limit to target range</i> means that the result will never be outside the range specified within the result range.</p>
    <p><i>Scale and wrap within the target range</i> means that the result will essentially be a "modulo-style" wrap-around within the result range.</p>
</script>
<!--
  Copyright 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="split">
    <div class="form-row">
        <label for="node-input-splt"><i class="fa fa-scissors"></i> Split</label>
        <input type="text" id="node-input-splt" placeholder="character to split strings on : e.g. \n">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('split',{
        category: 'function',
        color:"#E2D96E",
        defaults: {
            name: {value:""},
            splt: {value:"\\n"}
        },
        inputs:1,
        outputs:1,
        icon: "split.png",
        label: function() {
            return this.name||"split";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="join">
    <div class="form-row">
        <label>Mode</label>
        <select id="node-input-mode" style="width:200px;">
            <option value="auto">automatic</option>
            <option value="custom">manual</option>
        </select>
    </div>
    <div class="node-row-custom">
        <div class="form-row node-row-property">
            <label>Combine each </label>
            <input type="text" id="node-input-property" style="width:70%;">
            <input type="hidden" id="node-input-propertyType">
        </div>
        <div class="form-row">
            <label>to create </label>
            <select id="node-input-build" style="width:200px;">
                <option id="node-input-build-string" value="string">a String</option>
                <option value="array">an Array</option>
                <option value="object">a key/value Object</option>
                <option value="merged">a merged Object</option>
            </select>
        </div>
        <div class="form-row node-row-key">
            <label style="vertical-align: top; margin-top: 7px;">using</label>
            <div style="display:inline-block">
                <input type="text" id="node-input-key"  style="width:300px;">
                <div style="margin-top: 7px;">as the property key</div>
            </div>
        </div>
        <div class="form-row node-row-joiner">
            <label for="node-input-joiner">joined using</label>
            <input type="text" id="node-input-joiner" style="width: 40px">
        </div>

        <div class="form-row node-row-trigger">
            <label style="width: auto;">Send the message:</label>
            <ul>
                <li style="height: 40px;">
                    <label style="width: 280px;" for="node-input-count">After a fixed number of messages:</label> <input id="node-input-count" placeholder="count" type="text" style="width: 75px;">
                </li>
                <li style="height: 40px;">
                    <label style="width: 280px;" for="node-input-timeout">After a timeout following the first message:</label> <input id="node-input-timeout" placeholder="seconds" type="text" style="width: 75px;">
                </li>
                <li style="height: 40px;">
                    <label style="width: auto; padding-top: 6px;">After a message with the <code>msg.complete</code> property set</label>
                </li>
            </ul>
        </div>
    </div>
    <div class="form-tips form-tips-auto hide">This mode assumes this node is either
    paired with a <i>split</i> node or the received messages will have a properly
    configured <code>msg.parts</code> property.</div>

</script>



<script type="text/javascript">
    RED.nodes.registerType('join',{
        category: 'function',
        color:"#E2D96E",
        defaults: {
            name: {value:""},
            mode: {value:"auto"},
            build: { value:"string"},
            property: { value: "payload"},
            propertyType: { value:"msg"},
            key: {value:"topic"},
            joiner: { value:"\\n"},
            timeout: {value:""},
            count: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "join.png",
        label: function() {
            return this.name||"join";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            $("#node-input-mode").change(function(e) {
                var val = $(this).val();
                $(".node-row-custom").toggle(val==='custom');
                $(".form-tips-auto").toggle(val==='auto');
            });

            $("#node-input-build").change(function(e) {
                var val = $(this).val();
                $(".node-row-key").toggle(val==='object');
                $(".node-row-joiner").toggle(val==='string');
                $(".node-row-trigger").toggle(val!=='auto');
                if (val === 'string') {
                    $("#node-input-property").typedInput('types',['msg']);
                } else {
                    $("#node-input-property").typedInput('types',['msg', {value:"full",label:"complete message",hasValue:false}]);
                }
            })

            $("#node-input-property").typedInput({
                typeField: $("#node-input-propertyType"),
                types:['msg', {value:"full",label:"complete message",hasValue:false}]
            })
            $("#node-input-key").typedInput({
                types:['msg', {value:"merge",label:"",hasValue: false}]
            })

            $("#node-input-build").change();
            $("#node-input-mode").change();
        }
    });
</script>
<script type="text/x-red" data-help-name="split">
    <p>A function that splits <code>msg.payload</code> into multiple messages.</p>
    <p>The behaviour is determined by the type of <code>msg.payload</code>:</p>
    <ul>
        <li><b>string</b> - a message is sent for each part of the string after it is split using the specified character, by default a newline (<code>\n</code>).
        <li><b>array</b> - a message is sent for each element of the array</li>
        <li><b>object</b> - a message is sent for each key/value pair of the object. <code>msg.parts.key</code> is set to the key of the property.</li>
    </ul>
    <p>Each message is sent with the <code>msg.parts</code> property set. This is
    an object that provides any subsequent <i>join</i> node the necessary information
    for it to reassemble the messages back into a single one. The object has the following
    properties:</p>
    <ul>
        <li><b>id</b> - an identifier for the group of messages</li>
        <li><b>index</b> - the position within the group</li>
        <li><b>count</b> - the total number of messages in the group</li>
        <li><b>type</b> - the type of message - string/array/object</li>
        <li><b>ch</b> - for a string, the character used to split</li>
        <li><b>key</b> - for an object, the key of the property this message was created from</li>
    </ul>
</script><script type="text/x-red" data-help-name="join">
    <p>A function that joins the a sequence of messages into a single message.</p>
    <p>When paired with the <b>split</b> node, it will automatically join the messages
    to reverse the split that was performed.</p>
    <p>The node can join either a specific property of each received message or,
    if the output type is not string, the entire message.</p>
    <p>The type of the resulting message property can be:</p>
    <ul>
        <li>a <b>string</b> - created by joining the property of each message with the specified join character.</li>
        <li>an <b>array</b>.</li>
        <li>a <b>key/value object</b> - created by using a property of each message to determine the key under which
        the required value is stored.</li>
        <li>a <b>merged object</b> - created by merging the property of each message under a single object.</li>
    </ul>
    The other properties of the output message are taken from the last message received before the result is sent.</p>
    <p>A <i>count</i> can be set for how many messages should be received before generating the output message</p>
    <p>A <i>timeout</i> can be set to trigger sending the new message using whatever has been received so far.</p>
    <p>If a message is received with the <b>msg.complete</b> property set, the output message is sent.</p>
    <p>The automatic behaviour relies on the received messages to have <b>msg.parts</b> set. The split node generates
    this property, but can be manually created. It has the following properties:</p>
   <ul>
       <li><b>id</b> - an identifier for the group of messages</li>
       <li><b>index</b> - the position within the group</li>
       <li><b>count</b> - the total number of messages in the group</li>
       <li><b>type</b> - the type of message - string/array/object</li>
       <li><b>ch</b> - for a string, the character used to split</li>
       <li><b>key</b> - for an object, the key of the property this message was created from</li>
   </ul>
</script>
<!--
  Copyright 2014,2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="csv">
    <div class="form-row">
        <label for="node-input-temp"><i class="fa fa-list"></i> <span data-i18n="csv.label.columns"></span></label>
        <input type="text" id="node-input-temp" data-i18n="[placeholder]csv.placeholder.columns">
    </div>
    <div class="form-row">
        <label for="node-input-select-sep"><i class="fa fa-text-width"></i> <span data-i18n="csv.label.separator"></span></label>
            <select style="width: 150px" id="node-input-select-sep">
                <option value="," data-i18n="csv.separator.comma"></option>
                <option value="\t" data-i18n="csv.separator.tab"></option>
                <option value=" " data-i18n="csv.separator.space"></option>
                <option value=";" data-i18n="csv.separator.semicolon"></option>
                <option value=":" data-i18n="csv.separator.colon"></option>
                <option value="#" data-i18n="csv.separator.hashtag"></option>
                <option value="" data-i18n="csv.separator.other"></option>
           </select>
           <input style="width: 40px;" type="text" id="node-input-sep" pattern=".">
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <hr align="middle"/>
    <div class="form-row">
        <label style="width: 100%;"><i class="fa fa-gears"></i> <span data-i18n="csv.label.c2o"></span></label>
        <label style="margin-left: 10px; margin-right: -10px;"><i class="fa fa-sign-in"></i> <span data-i18n="csv.label.input"></span></label>
        <input style="width: 30px" type="checkbox" id="node-input-hdrin"><label style="width: auto;" for="node-input-hdrin"><span data-i18n="csv.label.firstrow"></span></span>
    </div>
    <div class="form-row">
        <label style="margin-left: 10px; margin-right: -10px;"><i class="fa fa-sign-out"></i> <span data-i18n="csv.label.output"></span></label>
        <select type="text" id="node-input-multi" style="width: 250px;">
            <option value="one" data-i18n="csv.output.row"></option>
            <option value="mult" data-i18n="csv.output.array"></option>
        </select>
    </div>
    <hr align="middle"/>
    <div class="form-row">
        <label style="width: 100%;"><i class="fa fa-gears"></i> <span data-i18n="csv.label.o2c"></span></label>
        <label style="margin-left: 10px; margin-right: -10px;"><i class="fa fa-sign-in"></i> <span data-i18n="csv.label.output"></span></label>
        <input style="width: 30px" type="checkbox" id="node-input-hdrout"><label style="width: auto;" for="node-input-hdrout"><span data-i18n="csv.label.includerow"></span></span>
    </div>
    <div class="form-row">
        <label style="margin-left: 10px; margin-right: -10px;"><i class="fa fa-align-left"></i> <span data-i18n="csv.label.newline"></span></label>
        <select style="width: 150px" id="node-input-ret">
            <option value='\n' data-i18n="csv.newline.linux"></option>
            <option value='\r' data-i18n="csv.newline.mac"></option>
            <option value='\r\n' data-i18n="csv.newline.windows"></option>
       </select>
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('csv',{
        category: 'function',
        color:"#DEBD5C",
        defaults: {
            name: {value:""},
            sep: {value:',',required:true,validate:RED.validators.regex(/^.{1,2}$/)},
            //quo: {value:'"',required:true},
            hdrin: {value:""},
            hdrout: {value:""},
            multi: {value:"one",required:true},
            ret: {value:'\\n'},
            temp: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "parser-csv.png",
        label: function() {
            return this.name||"csv";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.sep == "," || this.sep == "\\t" || this.sep == ";" || this.sep == ":" || this.sep == " " || this.sep == "#") {
                $("#node-input-select-sep").val(this.sep);
                $("#node-input-sep").hide();
            } else {
                $("#node-input-select-sep").val("");
                $("#node-input-sep").val(this.sep);
                $("#node-input-sep").show();
            }
            $("#node-input-select-sep").change(function() {
                var v = $("#node-input-select-sep").val();
                $("#node-input-sep").val(v);
                if (v == "") {
                    $("#node-input-sep").val("");
                    $("#node-input-sep").show().focus();
                } else {
                    $("#node-input-sep").hide();
                }
            });
        }
    });
</script>
<script type="text/x-red" data-help-name="csv">
    <p>A function that parses the <code>msg.payload</code> to convert CSV to/from a javascript object.
    Places the result in the payload.</p>
    <p>If the input is a string it tries to parse it as CSV and creates a javascript object.</p>
    <p>If the input is a javascript object it tries to build a CSV string.</p>
    <p>If the input is a simple array the output is just a CSV generated from that array.</p>
    <p>If the input is an array of arrays, or an array of objects, a multiple-line CSV is created.</p>
    <p>The columns template should contain an ordered list of column headers. For CSV input these become the property names.
    For CSV output these specify the properties to extract from the object and the order for the CSV.</p>
    <p>If the input is an array then the columns template does not matter, but can be used to generate a row of column titles.</p>
    <p><b>Note:</b> the columns should always be specified comma separated - even if another separator is chosen for the data.</p>
    </script><!--
  Copyright 2014 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="html">
    <div class="form-row">
        <label for="node-input-tag"><i class="fa fa-filter"></i> <span data-i18n="html.label.select"></span></label>
        <input type="text" id="node-input-tag" placeholder="h1">
    </div>
    <div class="form-row">
        <label for="node-input-ret"><i class="fa fa-sign-out"></i> <span data-i18n="html.label.output"></span></label>
        <select id="node-input-ret" style="width:70%">
            <option value="html" data-i18n="html.output.html"></option>
            <option value="text" data-i18n="html.output.text"></option>
            <option value="attr" data-i18n="html.output.attr"></option>
            <!-- <option value="val">return the value from a form element</option> -->
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-as">&nbsp;</label>
        <select id="node-input-as" style="width:70%">
            <option value="single" data-i18n="html.format.single"></option>
            <option value="multi" data-i18n="html.format.multi"></option>
        </select>
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" style="width:70%" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="[html]html.tip"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('html',{
        category: 'function',
        color:"#DEBD5C",
        defaults: {
            name: {value:""},
            tag: {value:""},
            ret: {value:"html"},
            as: {value:"single"}
        },
        inputs:1,
        outputs:1,
        icon: "parser-html.png",
        label: function() {
            return this.name||this.tag||"html";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="html">
    <p>Extracts elements from an html document held in <code>msg.payload</code> using a selector.</p>
    <p>The selector uses <a href=="https://github.com/cheeriojs/cheerio/blob/master/Readme.md" target="_new">Cheerio</a>
     which uses the <a href="https://github.com/fb55/CSSselect#user-content-supported-selectors" target="_new">CSS selector</a> syntax.</p>
    <p>The result can be either a single message with a payload containing an array of the matched elements, or multiple
       messages that each contain a matched element.</p>
</script><!--
  Copyright 2014 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="json">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('json',{
        category: 'function',
        color:"#DEBD5C",
        defaults: {
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "parser-json.png",
        label: function() {
            return this.name||"json";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="json">
    <p>A function that parses the <code>msg.payload</code> to convert a JSON string to/from a javascript object. Places the result back into the payload.</p>
    <p>If the input is a JSON string it tries to parse it to a javascript object.</p>
    <p>If the input is a javascript object it creates a JSON string.</p>
</script><!--
  Copyright 2014 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="xml">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row" id="advanced">
    </div>
    <div id="advanced-options">
        <div class="form-row">
            <i class="fa fa-key"></i> <span data-i18n="xml.label.represent"></span> <input type="text" id="node-input-attr" style="text-align:center; width:40px" placeholder="$">
        </div>
        <div class="form-row">
            <i class="fa fa-key"></i> <span data-i18n="xml.label.prefix"></span> <input type="text" id="node-input-chr" style="text-align:center; width:40px" placeholder="_">
        </div>
        <div class="form-tips"><span data-i18n="xml.tip"></span></div>
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('xml',{
        category: 'function',
        color:"#DEBD5C",
        defaults: {
            name: {value:""},
            attr: {value:""},
            chr: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "parser-xml.png",
        label: function() {
            return this.name||"xml";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var showadvanced = showadvanced || true;
            var advanced = this._("xml.label.advanced");
            var showall = function() {
                showadvanced = !showadvanced;
                if (showadvanced) {
                    $("#advanced-options").show();
                    $("#advanced").html('<label for="node-advanced" style="width:200px !important"><i class="fa fa-minus-square"></i> '+advanced+'</label>');
                }
                else {
                    $("#advanced-options").hide();
                    $("#advanced").html('<label for="node-advanced" style="width:200px !important"><i class="fa fa-plus-square"></i> '+advanced+' ...</label>');
                }
            };
            showall();
            $("#advanced").click( function() { showall(); });
        }
    });
</script>
<script type="text/x-red" data-help-name="xml">
    <p>A function that parses the <code>msg.payload</code> to convert xml to/from a javascript object. Places the result in the payload.</p>
    <p>If the input is a string it tries to parse it as XML and creates a javascript object.</p>
    <p>If the input is a javascript object it tries to build an XML string.</p>
    <p>You can also pass in a <code>msg.options</code> object to overide all the multitude of parameters. See
    <a href="https://github.com/Leonidas-from-XIV/node-xml2js/blob/master/README.md#options" target="_new">the xml2js docs</a>
     for more information.</p>
     <p>If set, options in the edit dialogue override those passed in on the msg.options object.</p>
</script><!--
  Copyright 2013,2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="tail">
    <div class="form-row">
         <label for="node-input-filename"><i class="fa fa-file"></i> <span data-i18n="tail.label.filename"></span></label>
         <input type="text" id="node-input-filename">
    </div>
    <div class="form-row">
        <label for="node-input-filetype"><i class="fa fa-file-text-o"></i> <span data-i18n="tail.label.type"></span></label>
        <select type="text" id="node-input-filetype">
            <option value="text" data-i18n="tail.action.text"></option>
            <option value="binary" data-i18n="tail.action.binary"></option>
        </select>
    </div>
    <div class="form-row" id="node-tail-split">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-split" placeholder="Name" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-split" style="width: 70%;"><span data-i18n="tail.label.splitlines"></span></label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('tail',{
        category: 'storage-input',
        defaults: {
            name: {value:""},
            filetype: {value:"text"},
            split: {value:false},
            filename: {value:"",required:true}
        },
        color:"BurlyWood",
        inputs:0,
        outputs:1,
        icon: "file.png",
        label: function() {
            return this.name||this.filename;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
          $("#node-input-filetype").on("change",function() {
            if (this.value === "text") { $("#node-tail-split").show(); }
            else { $("#node-tail-split").hide(); }
          });
        }
    });
</script>
<script type="text/x-red" data-help-name="tail">
    <p>Tails (watches for things to be added) to the configured file. (Linux/Mac ONLY)</p>
    <p>This will not work on Windows filesystems, as it relies on the <b>tail -F</b> command.</p>
    <p>Text (UTF-8) files will be returned as strings. Binary files will be returned as a Buffer object.</p>
</script><!--
  Copyright 2013, 2014 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="file">
    <div class="form-row node-input-filename">
         <label for="node-input-filename"><i class="fa fa-file"></i> <span data-i18n="file.label.filename"></span></label>
         <input type="text" id="node-input-filename">
    </div>
    <div class="form-row">
        <label for="node-input-overwriteFile"><i class="fa fa-random"></i> <span data-i18n="file.label.action"></span></label>
        <select type="text" id="node-input-overwriteFile" style="display: inline-block; width: 250px; vertical-align: top;">
            <option value="false" data-i18n="file.action.append"></option>
            <option value="true" data-i18n="file.action.overwrite"></option>
            <option value="delete" data-i18n="file.action.delete"></option>
        </select>
    </div>
    <div class="form-row" id="node-appline">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-appendNewline" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-appendNewline" style="width: 70%;"><span data-i18n="file.label.addnewline"></span></label>
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-createDir" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-createDir" style="width: 70%;"><span data-i18n="file.label.createdir"></span></label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/x-red" data-template-name="file in">
    <div class="form-row">
         <label for="node-input-filename"><i class="fa fa-file"></i> <span data-i18n="file.label.filename"></span></label>
         <input type="text" id="node-input-filename" data-i18n="[placeholder]file.label.filename">
    </div>
    <div class="form-row">
        <label for="node-input-format"><i class="fa fa-sign-out"></i> <span data-i18n="file.label.outputas"></span></label>
        <select id="node-input-format">
            <option value="utf8" data-i18n="file.output.utf8"></option>
            <option value="" data-i18n="file.output.buffer"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('file',{
        category: 'storage-output',
        defaults: {
            name: {value:""},
            filename: {value:""},
            appendNewline: {value:true},
            createDir: {value:false},
            overwriteFile: {value:"false"}
        },
        color:"BurlyWood",
        inputs:1,
        outputs:0,
        icon: "file.png",
        align: "right",
        label: function() {
            if (this.overwriteFile === "delete") {
                return this.name||this._("file.label.deletelabel",{file:this.filename})
            } else {
                return this.name||this.filename||this._("file.label.filelabel");
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
          $("#node-input-overwriteFile").on("change",function() {
            if (this.value === "delete") { $("#node-appline").hide(); }
            else { $("#node-appline").show(); }
          });
        }
    });

    RED.nodes.registerType('file in',{
        category: 'storage-input',
        defaults: {
            name: {value:""},
            filename: {value:""},
            format: {value:"utf8"},
        },
        color:"BurlyWood",
        inputs:1,
        outputs:1,
        icon: "file.png",
        label: function() {
            return this.name||this.filename||this._("file.label.filelabel");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });

</script>
<script type="text/x-red" data-help-name="file">
    <p>Writes <code>msg.payload</code> to the file specified, for example to create a log.</p>
    <p>The filename can be configured in the node. If left blank it should be
    set by <code>msg.filename</code> on the incoming message.</p>
    <p>A newline is added to every message. But this can be turned off if required, for example, to allow binary files to be written.</p>
    <p>The default behaviour is to append to the file. This can be changed to overwrite the file each time, for example if you want to output a "static" web page or report.</p>
    <p>This node can also be configured to delete a file if required.</p>
</script><script type="text/x-red" data-help-name="file in">
    <p>Reads the specified file and sends the content as <code>msg.payload</code>,
    and the filename as <code>msg.filename</code>.</p>
    <p>The filename can be configured in the node. If left blank it should be
    set by <code>msg.filename</code> on the incoming message.</p>
</script><!--
  Copyright 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="wiotp-credentials">
    <div class="form-row">
        <label for="node-config-input-org"></i> Organization</label>
        <input type="text" id="node-config-input-org" placeholder="organization" >
    </div>
    <div class="form-row">
        <label for="node-config-input-devType"></i> Device Type</label>
        <input type="text" id="node-config-input-devType" placeholder="e.g. sensor" >
    </div>
    <div class="form-row">
        <label for="node-config-input-devId"></i> Device ID</label>
        <input type="text" id="node-config-input-devId" placeholder="e.g. ab12cd231a21">
    </div>
    <div class="form-row">
        <label for="node-config-input-authToken">Auth Token</label>
        <input type="password" id="node-config-input-authToken">
    </div>
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-config-input-name" placeholder="Name">
    </div>
</script>

<script type="text/javascript">
(function() {

    var hasTypedInputs = (typeof jQuery.nodered !== "undefined") && (typeof jQuery.nodered.typedInput !== "undefined");


    RED.nodes.registerType('wiotp-credentials',{
        category: 'config',
        defaults: {
            name: { value:"" },
            org: {value: "", required: true },
            devType: { value: "", required: true },
            devId: { value: "", required: true }
        },
        label: function() {
            return this.name||this.devType+"/"+this.devId||"Device";
        },
        credentials: {
            authToken: {type:"password"}
        }
    });

    RED.nodes.registerType('wiotp in',{
        category: 'input',
        color:"#6C9FC3",
        defaults: {
            authType: {value:"d"},
            deviceKey: {type:"wiotp-credentials"},
            deviceType: {value:"", validate: function(v) {
                var ct = $("#node-form-row-commandType input[type='radio']:checked").val()|| this.commandType;
                return ct === 'g' || (v != '');
            }},
            deviceId: {value:"", validate: function(v) {
                var ct = $("#node-form-row-commandType input[type='radio']:checked").val()|| this.commandType;
                return ct === 'g' || (v != '');
            }},
            command: {value:""},
            commandType: {value: "g"},
            name: { value:"" }
        },
        inputs:0,
        outputs:1,
        icon: "wiotp.png",
        label: function() {
            return this.name || ((this.command === '' ||this.command === '+')?'all commands':this.command);
        },
        labelStyle: function() {
                return this.name ? "node_label_italic" : "";
        },
        paletteLabel: "Watson IoT",
        oneditprepare: function() {
            if (hasTypedInputs) {
                var command = $("#node-input-command").typedInput({
                    default: 'all',
                    types:[{value:"str",label:"specify command",icon:"red/images/typedInput/az.png"},{value:"all",label:"all commands",hasValue:false}]
                });

                if (this.command === '' || this.command === '+') {
                    command.typedInput('value','');
                    command.typedInput('type','all');
                } else {
                    command.typedInput('value',this.command);
                    command.typedInput('type','str');
                }
            } else {
                $('#node-input-command').width(250);
                $('<label style="width:auto;" for="node-input-command-all"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-command-all" name="node-input-command" value="all"> all </label>').insertBefore("#node-input-command");
                $('<label style="width:auto; margin-left: 10px;" for="node-input-command-input"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-command-input" name="node-input-command" value="input"> </label>').insertBefore("#node-input-command");

                function updateCommandOptions() {
                    var commandType = $("#node-form-row-command input[type='radio']:checked").val();
                    if (commandType === 'all') {
                        $('#node-input-command').val("");
                    }
                }
                $("#node-form-row-command input[type='radio']").change(updateCommandOptions);
                if (this.command === '' || this.command === '+') {
                    $("#node-form-row-command input[type='radio'][value='all']").prop('checked',true).change();
                } else {
                    $("#node-form-row-command input[type='radio'][value='input']").prop('checked',true).change();
                }
                $('#node-input-command').on('click',function() {
                    $("#node-form-row-command input[type='radio'][value='input']").prop('checked',true);
                })
            }

            $("#node-form-row-commandType input[type='radio'][value='"+(this.commandType||'g')+"']").prop('checked',true).change();


            function updateOptions() {
                var authType = $("#node-input-authType").val();
                var commandType = $("#node-form-row-commandType input[type='radio']:checked").val();
                if (authType === 'd' || commandType === 'g') {
                    $('#node-form-row-deviceId').hide();
                    $('#node-form-row-deviceType').hide();
                    if (authType === 'd') {
                        $("#node-form-row-commandType").hide();
                    } else {
                        $("#node-form-row-commandType").show();
                    }
                } else {
                    $('#node-form-row-deviceId').show();
                    $('#node-form-row-deviceType').show();
                    $("#node-form-row-commandType").show();
                }
            }
            $("#node-input-authType").change(updateOptions);
            $("#node-form-row-commandType input[type='radio']").change(updateOptions);
            updateOptions();
        },
        oneditsave: function() {
            if (hasTypedInputs) {
                if ($("#node-input-command").typedInput('type') === 'all') {
                    $("#node-input-command").typedInput('value','+');
                }
            } else {
                var commandType = $("#node-form-row-command input[type='radio']:checked").val();
                if (commandType === 'all') {
                    $("#node-input-command").val('+');
                }
            }
            this.commandType = $("#node-form-row-commandType input[type='radio']:checked").val();
            if (this.commandType === 'g') {
                $('#node-input-deviceId').val('');
                $('#node-input-deviceType').val('');
            }

        }
    });

    RED.nodes.registerType('wiotp out',{
        category: 'output',
        color:"#6C9FC3",
        defaults: {
            authType: {value:"d"},
            qs: {value: "true"},
            qsDeviceId: { value: "",validate: function(v) {
                var qs = $("#node-form-row-qs input[type='radio']:checked").val()|| this.qs;
                return qs === 'false' || /^[a-z0-9\-_\.]*$/i.test(v);
            }},
            deviceKey: {
                type:"wiotp-credentials",
                required: false,
                validate: function(v) {
                    var qs = $("#node-form-row-qs input[type='radio']:checked").val()|| this.qs;
                    return qs === 'true' || (v != '' && v!='_ADD_');
                }
            },
            deviceType: {value:""},
            deviceId: {value:""},
            event: {value:""},
            format: {value:"json"},
            name: { value:"" }
        },
        inputs:1,
        outputs:0,
        icon: "wiotp.png",
        align: "right",
        label: function() {
            return this.name || this.event || "IBM IoT "+(this.authType === 'd'?"Device":"Gateway");
        },
        labelStyle: function() {
                return this.name ? "node_label_italic" : "";
        },
        paletteLabel: "Watson IoT",
        oneditprepare: function() {
            var node = this;
            $("#node-form-row-qs input[type='radio']").change(function() {
                var value = $("#node-form-row-qs input[type='radio']:checked").val();
                if (value === 'true') {
                    $("#node-form-row-deviceKey").hide();
                    if ($("#node-input-qsDeviceId").val() === '') {
                        $("#node-input-qsDeviceId").val(node.id)
                    }
                    if ($("#node-input-event").val() === '') {
                        $("#node-input-event").val("event");
                    }
                    $("#node-form-row-qsDeviceId").show();
                } else {
                    $("#node-form-row-deviceKey").show();
                    $("#node-form-row-qsDeviceId").hide();
                }
            });
            $("#node-form-row-qs input[type='radio'][value='"+this.qs+"']").attr('checked',true).change();
            function updateOptions() {
                var type = $("#node-input-authType").val();
                if (type === 'd') {
                    $("#node-form-row-deviceId").hide();
                    $("#node-form-row-deviceType").hide();
                } else {
                    $("#node-form-row-deviceId").show();
                    $("#node-form-row-deviceType").show();
                }
            }
            $("#node-input-authType").change(updateOptions);
            updateOptions();

            if (hasTypedInputs) {
                var format = $("#node-input-format").typedInput({
                    default: 'json',
                    types:[{value:"json",label:"json",hasValue:false},{value:"str",label:"other",icon:"red/images/typedInput/az.png"}]
                });
                if (this.format === 'json') {
                    format.typedInput('value','');
                    format.typedInput('type','json');
                } else {
                    format.typedInput('value',this.format);
                    format.typedInput('type','str');
                }
            } else {
                $('#node-input-format').width(230);
                $('<label style="width:auto;" for="node-input-format-json"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-format-json" name="node-input-format" value="json"> json </label>').insertBefore("#node-input-format");
                $('<label style="width:auto; margin-left: 10px;" for="node-input-format-input"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-format-input" name="node-input-format" value="input"> </label>').insertBefore("#node-input-format");

                function updateFormatOptions() {
                    var formatType = $("#node-form-row-format input[type='radio']:checked").val();
                    if (formatType === 'json') {
                        $('#node-input-format').val("");
                    }
                }
                $("#node-form-row-format input[type='radio']").change(updateFormatOptions);
                if (this.format === 'json' || this.format === '') {
                    $("#node-form-row-format input[type='radio'][value='json']").prop('checked',true).change();
                } else {
                    $("#node-form-row-format input[type='radio'][value='input']").prop('checked',true).change();
                }
                $('#node-input-format').on('click',function() {
                    $("#node-form-row-format input[type='radio'][value='input']").prop('checked',true);
                })
            }
            $("#node-input-qsDeviceId").change(function() {
                if ($(this).val() === '') {
                    $("#node-input-qsDeviceId-link").addClass('disabled');
                } else {
                    $("#node-input-qsDeviceId-link").removeClass('disabled');
                    $("#node-input-qsDeviceId-link").attr('href','https://quickstart.internetofthings.ibmcloud.com/#/device/'+$(this).val()+'/sensor/');
                }
            });

            $("#node-input-qsDeviceId-link").click(function(e) {
                if ($("#node-input-qsDeviceId").val() === '') {
                    e.preventDefault();
                }
            })

        },
        oneditsave: function() {
            this.qs = $("#node-form-row-qs input[type='radio']:checked").val();
            if (this.qs === 'true') {
                $("#node-input-deviceKey").val('_ADD_');
            } else {
                $("#node-input-qsDeviceId").val('');
            }
            if (hasTypedInputs) {
                if ($("#node-input-format").typedInput('type') === 'json') {
                    $("#node-input-format").typedInput('value','json');
                }
            } else {
                var formatType = $("#node-form-row-format input[type='radio']:checked").val();
                if (formatType === 'json') {
                    $("#node-input-format").val('json');
                }
            }

        }
    });
})();
</script>

<script type="text/x-red" data-template-name="wiotp in">
    <div class="form-row">
        <label for="node-input-authType">Connect as</label>
        <select id="node-input-authType" style="width: 300px;">
            <option value="d">Device</option>
            <option value="g">Gateway</option>
        </select>
    </div>
    <div class="form-row" id="node-form-row-deviceKey">
        <label for="node-input-deviceKey">Credentials</label>
        <input type="text" id="node-input-deviceKey" style="width: 300px;">
    </div>

    <div class="form-row" id="node-form-row-commandType">
        <label>Subscribe to</label>
        <label style="width:auto; margin: 0 15px 0 5px;" for="node-input-commandType-g"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-commandType-g" name="node-input-commandType" value="g"> Gateway commands</label>
        <label style="width:auto;" for="node-input-commandType-d"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-commandType-d" name="node-input-commandType" value="d"> Device commands</label>
    </div>


    <div class="form-row" id="node-form-row-deviceType">
        <label for="node-input-deviceType">Device Type</label>
        <input type="text" id="node-input-deviceType" placeholder="e.g. sensor" style="width: 300px;">
    </div>

    <div class="form-row" id="node-form-row-deviceId">
        <label for="node-input-deviceId">Device Id</label>
        <input type="text" id="node-input-deviceId" placeholder="e.g. ab12cd231a21" style="width: 300px;">
    </div>

    <div class="form-row" id="node-form-row-command">
        <label for="node-input-command">Command</label>
        <input type="text" id="node-input-command" placeholder="e.g. blink" style="width: 300px;">
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
</script>

<script type="text/x-red" data-template-name="wiotp out">
    <div class="form-row">
        <label for="node-input-authType">Connect as</label>
        <select id="node-input-authType" style="width: 300px;">
            <option value="d">Device</option>
            <option value="g">Gateway</option>
        </select>
    </div>
    <div class="form-row" id="node-form-row-qs">
        <label></label>
        <label style="width:auto; margin: 0 30px 0 5px;" for="node-input-qs-true"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-qs-true" name="node-input-qs" value="true"> Quickstart</label>
        <label style="width:auto;" for="node-input-qs-false"><input style="width: auto; margin-right: 5px; vertical-align: top;" type="radio" id="node-input-qs-false" name="node-input-qs" value="false"> Registered</label>
    </div>

    <div class="form-row" id="node-form-row-qsDeviceId">
        <label for="node-input-qsDeviceId">Quickstart Id</label>
        <input type="text" id="node-input-qsDeviceId" placeholder="e.g. ab12cd231a21" style="width: 260px;">
        <a class="editor-button" id="node-input-qsDeviceId-link" href="#" target="_new"><i class="fa fa-external-link" ></i></a>
    </div>

    <div class="form-row" id="node-form-row-deviceKey">
        <label for="node-input-deviceKey">Credentials</label>
        <input type="text" id="node-input-deviceKey" style="width: 300px;">
    </div>

    <div class="form-row" id="node-form-row-deviceType">
        <label for="node-input-deviceType">Device Type</label>
        <input type="text" id="node-input-deviceType" placeholder="e.g. sensor" style="width: 300px;">
    </div>

    <div class="form-row" id="node-form-row-deviceId">
        <label for="node-input-deviceId">Device Id</label>
        <input type="text" id="node-input-deviceId" placeholder="e.g. ab12cd231a21" style="width: 300px;">
    </div>

    <div class="form-row" id="node-form-row-event">
        <label for="node-input-event">Event type</label>
        <input type="text" id="node-input-event" placeholder="e.g. temperature" style="width: 300px;">
    </div>

    <div class="form-row" id="node-form-row-format">
        <label for="node-input-format">Format</label>
        <input type="text" id="node-input-format" placeholder="e.g. text, xml" style="width: 300px;">
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
</script>




<script type="text/x-red" data-help-name="wiotp in">
    <p>Receive device commands from the IBM Watson Internet of Things Platform.</p>
    <p>The node can connect as either a Device or Gateway:</p>
    <ul>
      <li><b>Device</b>: the node can be configured to either receive all commands for
          the Device, or just select a specific command type.</li>
      <li><b>Gateway</b>: the node can be configured to receive commands for all devices
          connected through the gateway, or to select a subset of them.</li>
    </ul>
    <p>The message sent by this node will include the following properties:</p>
    <ul>
       <li><code>payload</code> - the body of the command. If the command was
        identified as json, this property will be a JavaScript object, otherwise
        it will be a string.</li>
       <li><code>topic</code> - the topic the command was received on</li>
       <li><code>command</code> - the command name</li>
       <li><code>format</code> - the format of the command</li>
       <li><code>deviceType</code> - (<i>gateway only</i>) the type of device
        the command is for</li>
       <li><code>deviceId</code> - (<i>gateway only</i>) the id of the device
        the command is for</li>
    </ul>
</script><script type="text/x-red" data-help-name="wiotp out">
    <p>Send device events to the IBM Watson Internet of Things Platform.</p>
    <p>The node can connect as either a Device or Gateway, in registered mode or
     using the Quickstart service.</p>
    <p>When connecting using the Quickstart service, the connection will use a
     device type of <code>node-red-wiotp</code> and a randomly generated
     device id, which can be configured in the node. The events from the node can
     then be viewed on the <a href="https://quickstart.internetofthings.ibmcloud.com/" target="_new">Quickstart dashboard</a>.</p>
    <p>The type of the event sent can be configured in the node or, if left blank,
     can be set by the <code>msg.event</code> property. If using the Quickstart service,
     the event type must be set to <code>event</code> for the data to be seen on the
     Quickstart dashboard.</p>
    <p>The format of the event defaults to <code>json</code>, but can be set to
     another value or, if left blank, can be set by the <code>msg.format</code>
      property.</p>
    <p>The data for the event is taken from <code>msg.payload</code>. If
     <code>format</code> is set to <code>json</code>, this node will attempt to
      encode the data appropriately:</p>
    <ul>
        <li>If the data is an Object of the form: <code>{ d: { ... }}</code>
            it will be used as-is. Similarly if it is a string representation
            of such an object no further encoding will be done.</li>
        <li>For any other type of object, for example a Number, it will be sent
            as <code>{"d":{"value":123}}</code></li>
    </ul>
    <p>If <code>format</code> is set to anything else, the data will be passed on
       as-is.</p>
    <p>When connected as a Gateway, the type and id of the Device the event is being
       sent on behalf of can be configured in the node or, if left blank, can be
       set by the <code>msg.deviceType</code> and <code>msg.deviceId</code> properties.
       If these properties are not provided, either in the node or the message,
       it will use the type and id of the Gateway itself.
    </p>
</script><!--
  Copyright 2013, 2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="e-mail">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-envelope"></i> <span data-i18n="email.label.to"></span></label>
        <input type="text" id="node-input-name" placeholder="email@address.com">
    </div>
    <!-- <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-asterisk"></i> Service</label>
        <select type="text" id="node-input-pin" style="width: 150px;">
            <option value="-" disabled> </option>
            <option value="DynectEmail">DynectEmail</option>
            <option value="Gmail">Gmail</option>
            <option value="hot.ee">hot.ee</option>
            <option value="Hotmail">Hotmail</option>
            <option value="iCloud">iCloud</option>
            <option value="mail.ee">mail.ee</option>
            <option value="Mail.Ru">Mail.Ru</option>
            <option value="Mailgun">Mailgun</option>
            <option value="Mailjet">Mailjet</option>
            <option value="Mandrill">Mandrill</option>
            <option value="Postmark">Postmark</option>
            <option value="QQ">QQ</option>
            <option value="QQex">QQex</option>
            <option value="SendGrid">SendGrid</option>
            <option value="SendCloud">SendCloud</option>
            <option value="SES">SES</option>
            <option value="Yahoo">Yahoo</option>
            <option value="yandex">yandex</option>
            <option value="Zoho">Zoho</option>
         </select>
    </div> -->
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-globe"></i> <span data-i18n="email.label.server"></span></label>
        <input type="text" id="node-input-server" placeholder="smtp.gmail.com">
    </div>
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-random"></i> <span data-i18n="email.label.port"></span></label>
        <input type="text" id="node-input-port" placeholder="465">
    </div>
    <div class="form-row">
        <label for="node-input-userid"><i class="fa fa-user"></i> <span data-i18n="email.label.userid"></span></label>
        <input type="text" id="node-input-userid">
    </div>
    <div class="form-row">
        <label for="node-input-password"><i class="fa fa-lock"></i> <span data-i18n="email.label.password"></span></label>
        <input type="password" id="node-input-password">
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-dname"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-dname" data-i18n="[placeholder]node-red:common.label.name">
    </div>
    <div class="form-tips" id="node-tip"><span data-i18n="[html]email.tip.cred"></span></div>
</script>



<script type="text/javascript">
(function() {
    RED.nodes.registerType('e-mail',{
        category: 'social-output',
        color:"#c7e9c0",
        defaults: {
            server: {value:"smtp.gmail.com",required:true},
            port: {value:"465",required:true},
            name: {value:""},
            dname: {value:""}
        },
        credentials: {
            userid: {type:"text"},
            password: {type: "password"},
            global: { type:"boolean"}
        },
        inputs:1,
        outputs:0,
        icon: "envelope.png",
        align: "right",
        label: function() {
            return this.dname||this.name||"email";
        },
        labelStyle: function() {
            return (this.dname||!this.topic)?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.credentials.global) {
                $('#node-tip').show();
            } else {
                $('#node-tip').hide();
            }
        }
    });
})();
</script>


<script type="text/x-red" data-template-name="e-mail in">
    <div class="form-row node-input-repeat">
        <label for="node-input-repeat"><i class="fa fa-repeat"></i> <span data-i18n="email.label.repeat"></span></label>
        <input type="text" id="node-input-repeat" style="width: 80px"> <span data-i18n="email.label.seconds">seconds</span>
    </div>
    <div class="form-row">
        <label for="node-input-protocol"><i class="fa fa-envelope"></i> <span data-i18n="email.label.protocol"></span></label>
        <select type="text" id="node-input-protocol">
            <option value="IMAP">IMAP</option>
            <option value="POP3">POP3</option>
        </select>
    </div>
    <div class="form-row">
		<label for="node-input-useSSL"><i class="fa fa-lock"></i> <span data-i18n="email.label.useSSL"></span></label>
		<input type="checkbox" id="node-input-useSSL" style="width: auto;">
    </div>
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-globe"></i> <span data-i18n="email.label.server"></span></label>
        <input type="text" id="node-input-server" placeholder="imap.gmail.com">
    </div>
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-random"></i> <span data-i18n="email.label.port"></span></label>
        <input type="text" id="node-input-port" placeholder="993">
    </div>
    <div class="form-row">
        <label for="node-input-userid"><i class="fa fa-user"></i> <span data-i18n="email.label.userid"></span></label>
        <input type="text" id="node-input-userid">
    </div>
    <div class="form-row">
        <label for="node-input-password"><i class="fa fa-lock"></i> <span data-i18n="email.label.password"></span></label>
        <input type="password" id="node-input-password">
    </div>
    <div class="form-row node-input-box">
        <label for="node-input-box"><i class="fa fa-inbox"></i> <span data-i18n="email.label.folder"></span></label>
        <input type="text" id="node-input-box">
    </div>
    <div class="form-row node-input-disposition">
		    <label for="node-input-disposition"><i class="fa fa-trash"></i> <span data-i18n="email.label.disposition"></span></label>
        <select type="text" id="node-input-disposition">
            <option value="None" selected="selected">None</option>
            <option value="Read">Mark Read/Answered</option>
            <option value="Delete">Delete</option>
        </select>
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
    <script>
        var checkPorts = function() {
            var currentPort = $("#node-input-port").val();
            if (currentPort === "143" || currentPort === "993" || currentPort === "110" || currentPort == "995") {
                if ($("#node-input-useSSL").prop("checked") === true) {
                    $("#node-input-port").val($("#node-input-protocol").val() === "IMAP"?"993":"995");
                } else {
                    $("#node-input-port").val($("#node-input-protocol").val() === "IMAP"?"143":"110");
                }
            }
        };

        $("#node-input-useSSL").change(function(x, y) {
          console.log("useSSL: x="+ JSON.stringify(x) + ", y=" + y);
          console.log("Value: " + $("#node-input-useSSL").prop("checked"));
          checkPorts();
        });

        $("#node-input-protocol").change(function() {
            var protocol = $("#node-input-protocol").val();
            if (protocol === "IMAP") {
                $(".node-input-box").show();
                $(".node-input-disposition").show();
            } else {
                $(".node-input-box").hide();
                $(".node-input-disposition").hide();
            }
            checkPorts();
        });
    </script>




<script type="text/javascript">
(function() {
    RED.nodes.registerType('e-mail in',{
        category: 'social-input',
        color:"#c7e9c0",
        defaults: {
            name: {value:""},
            protocol: {value: "IMAP", required:true}, // Which protocol to use to connect to the mail server ("IMAP" or "POP3")
            server: {value:"imap.gmail.com",required:true},
            useSSL: {value: true},
            port: {value:"993",required:true},
            box: {value:"INBOX"}, // For IMAP, The mailbox to process
            disposition: { value: "None" }, // For IMAP, the disposition of the read email
            repeat: {value:"300",required:true}
        },
        credentials: {
            userid: {type:"text"},
            password: {type: "password"},
            global: { type:"boolean"}
        },
        inputs:0,
        outputs:1,
        icon: "envelope.png",
        label: function() {
            return this.name||"email";
        },
        labelStyle: function() {
            return (this.name||!this.topic)?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.credentials.global) {
                $('#node-tip').show();
            } else {
                $('#node-tip').hide();
            }
            if (typeof this.box === 'undefined') {
                $("#node-input-box").val("INBOX");
                this.box = "INBOX";
            }
        }
    });
})();
</script>
<script type="text/x-red" data-help-name="e-mail">
    <p>Sends the <code>msg.payload</code> as an email, with a subject of <code>msg.topic</code>.</p>
    <p>The default message recipient can be configured in the node, if it is left
    blank it should be set using the <code>msg.to</code> property of the incoming message. If left blank
    you can also specify <code>msg.cc</code> and/or <code>msg.bcc</code> properties.</p>
    <p>The payload can be html format.</p>
    <p>If the payload is a binary buffer then it will be converted to an attachment.
    The filename should be set using <code>msg.filename</code>. Optionally <code>msg.description</code> can be added for the body text.</p>
    <p>Alternatively you may provide <code>msg.attachments</code> which should contain an array of one or
    more attachments in <a href="https://www.npmjs.com/package/nodemailer#attachments" target="_new">nodemailer</a> format.</p>
    <p>If required by your recipient you may also pass in a <code>msg.envelope</code> object, typically containing extra from and to properties.</p>
    <p>Note: uses SMTP with SSL to port 465.</p>
</script><script type="text/x-red" data-help-name="e-mail in">
    <p>Repeatedly gets a <b>single email</b> from an IMAP server and forwards on as a msg if not already seen.</p>
    <p>The subject is loaded into <code>msg.topic</code> and <code>msg.payload</code> is the plain text body.
       If there is text/html then that is returned in <code>msg.html</code>. <code>msg.from</code> and <code>msg.date</code> are also set if you need them.</p>
    <p>Additionally <code>msg.header</code> contains the complete header object including
    <i>to</i>, <i>cc</i> and other potentially useful properties.</p>
    <p>Uses the imap module.</p>
    <p><b>Note:</b> this node <i>only</i> gets the most recent single email from the inbox, so set the repeat (polling) time appropriately.</p>
    <p>Note: uses IMAP with SSL to port 993.</p>
    <p>Any attachments supplied in the incoming email can be found in the <code>msg.attachments</code> property.  This will be an array of objects where
    each object represents a specific attachments.  The format of the object is:</p>

<pre>
{
  contentType:        // The MIME content description
  fileName:           // A suggested file name associated with this attachment
  transferEncoding:   // How was the original email attachment encodded?
  contentDisposition: // Unknown
  generatedFileName:  // A suggested file name associated with this attachment
  contentId:          // A unique generated ID for this attachment
  checksum:           // A checksum against the data
  length:             // Size of data in bytes
  content:            // The actual content of the data contained in a Node.js Buffer object
                      // We can turn this into a base64 data string with content.toString('base64')
}
</pre>
<p>For POP3, the default port numbers are 110 for plain TCP and 995 for SSL.  For IMAP the port numbers are 143 for plain TCP and 993 for SSL.</p>

</script><!--
  Copyright 2013, 2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="feedparse">
    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-globe"></i> <span data-i18n="feedparse.label.feedurl"></span></label>
        <input type="text" id="node-input-url">
    </div>
    <div class="form-row">
        <label for="node-input-interval"><i class="fa fa-repeat"></i> <span data-i18n="feedparse.label.refresh"></span></label>
        <input type="text" id="node-input-interval" style="width: 50px"> <span data-i18n="feedparse.label.minutes"></span>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('feedparse',{
        category: 'advanced-input',
        color:"#C0DEED",
        defaults: {
            name: {value:""},
            url: {value:"", required:true},
            interval: { value:15, required: true,validate:RED.validators.number()}
        },
        inputs:0,
        outputs:1,
        icon: "feed.png",
        label: function() {
            return this.name||this.url;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<script type="text/x-red" data-help-name="feedparse">
    <p>Monitors an RSS/atom feed for new entries.</p>
    <p>The <code>msg.topic</code> contains the original article link. The <code>msg.payload</code>
    contains the description, and <code>msg.article</code> contains the complete article object,
    which has properties such as <code>.title</code>, <code>.summary</code>, <code>.date</code> and so on.</p>
</script><!--
  Copyright 2014, 2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="rbe">
    <div class="form-row">
        <label for="node-input-func"><i class="fa fa-wrench"></i> <span data-i18n="rbe.label.func"></span></label>
        <select type="text" id="node-input-func" style="width:74%;">
            <option value="rbe" data-i18n="rbe.opts.rbe"></option>
            <option value="deadband" data-i18n="rbe.opts.deadband"></option>
            <option value="narrowband" data-i18n="rbe.opts.narrowband"></option>
        </select>
    </div>
    <div class="form-row" id="node-bandgap">
        <label for="node-input-gap">&nbsp;</label>
        <input type="text" id="node-input-gap" data-i18n="[placeholder]rbe.placeholder.bandgap" style="width:70px;">
        <select type="text" id="node-input-inout" style="width:55%;">
            <option value="out" data-i18n="rbe.opts.out"></option>
            <option value="in" data-i18n="rbe.opts.in"></option>
        </select>
    </div>
    <div class="form-row" id="node-startvalue">
        <label for="node-input-start"><i class="fa fa-thumb-tack"></i> <span data-i18n="rbe.label.start"></span></label>
        <input type="text" id="node-input-start" data-i18n="[placeholder]rbe.placeholder.start" style="width:71%;">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="rbe.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]rbe.label.name" style="width:71%;">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType("rbe", {
        color:"#E2D96E",
        category: 'function',
        defaults: {
            name: {value:""},
            func: {value:"rbe"},
            gap: {value:"",validate:RED.validators.regex(/^(\d*[.]*\d*|)(%|)$/)},
            start: {value:""},
            inout: {value:"out"}
        },
        inputs:1,
        outputs:1,
        icon: "rbe.png",
        label: function() {
            return this.name||this.func||"rbe";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            //$( "#node-input-gap" ).spinner({min:0});
            if ($("#node-input-inout").val() === null) {
                $("#node-input-inout").val("out");
            }
            $("#node-input-func").on("change",function() {
                if ($("#node-input-func").val() === "rbe") {
                    $("#node-bandgap").hide();
                } else {
                    $("#node-bandgap").show();
                }
                if ($("#node-input-func").val() === "narrowband") {
                    $("#node-startvalue").show();
                } else {
                    $("#node-startvalue").hide();
                }
            });
        }
    });
</script>
<script type="text/x-red" data-help-name="rbe">
    <p>Report by Exception node - only passes on data if it has changed.</p>
    <p>The node can either block until the <code>msg.payload</code> is
    different to the previous one - <b>rbe</b> mode. This works on numbers, strings, and simple objects.</p>
    <p>Or it can block until the value changes by a specified amount - <b>deadband</b> mode.</p>
    <p>In deadband mode the incoming payload must contain a parseable <i>number</i> and is
    output only if greater than + or - the <i>band gap</i> away from a previous value.</p>
    <p>Deadband also supports % - only sends if the input differs by more than x% of the original value.</p>
    <p>It can also ignore outlier values - <b>narrowband</b> mode.</p>
    <p>In narrowband mode the incoming payload is blocked if it is more than + or - the band gap
    away from the previous value. Useful for ignoring outliers from a faulty sensor for example.</p>
    <p>Both Deadband and Narrowband allow comparison against either the <i>previous valid output value</i>, thus
    ignoring any values out of range; or the <i>previous input value</i>, which resets the set point, thus allowing
    gradual drift (deadband), or a step change (narrowband).</p>
    <p><b>Note:</b> This works on a per <code>msg.topic</code> basis. This means that a single rbe node can
    handle multiple topics at the same time.</p>
</script><!--
  Copyright 2013,2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="serial in">
    <div class="form-row node-input-serial">
        <label for="node-input-serial"><i class="fa fa-random"></i> <span data-i18n="serial.label.serialport"></span></label>
        <input type="text" id="node-input-serial">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('serial in',{
        category: 'input',
        defaults: {
            name: {name:""},
            serial: {type:"serial-port",required:true}
        },
        color:"BurlyWood",
        inputs:0,
        outputs:1,
        icon: "serial.png",
        label: function() {
            var serialNode = RED.nodes.node(this.serial);
            return this.name||(serialNode?serialNode.label().split(":")[0]:this._("serial.label.serial"));
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="serial out">
    <div class="form-row node-input-serial">
        <label for="node-input-serial"><i class="fa fa-random"></i> <span data-i18n="serial.label.serialport"></span></label>
        <input type="text" id="node-input-serial">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('serial out',{
        category: 'output',
        defaults: {
            name: {name:""},
            serial: {type:"serial-port",required:true}
        },
        color:"BurlyWood",
        inputs:1,
        outputs:0,
        icon: "serial.png",
        align: "right",
        label: function() {
            var serialNode = RED.nodes.node(this.serial);
            return this.name||(serialNode?serialNode.label().split(":")[0]:this._("serial.label.serial"));
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>


<script type="text/x-red" data-template-name="serial-port">
    <div class="form-row">
        <label for="node-config-input-serialport"><i class="fa fa-random"></i> <span data-i18n="serial.label.serialport"></span></label>
        <input type="text" id="node-config-input-serialport" style="width:60%;" data-i18n="[placeholder]serial.placeholder.serialport">
        <a id="node-config-lookup-serial" class="btn"><i id="node-config-lookup-serial-icon" class="fa fa-search"></i></a>
    </div>
    <div class="form-row">
        <table width="100%"><tr>
            <td width="100px"><i class="fa fa-wrench"></i> <span data-i18n="serial.label.settings"></span></td>
            <td width="110px" data-i18n="serial.label.baudrate"></td>
            <td width="70px" data-i18n="serial.label.databits"></td>
            <td width="80px" data-i18n="serial.label.parity"></td>
            <td width="70px" data-i18n="serial.label.stopbits"></td>
        </tr><tr><td>&nbsp;</td>
        <td>
            <input type="text" id="node-config-input-serialbaud" style="width:100px">
        </td><td>
        <select type="text" id="node-config-input-databits" style="width:70px;">
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
        </select>
        </td><td>
        <select type="text" id="node-config-input-parity" style="width:80px;">
            <option value="none" data-i18n="serial.parity.none"></option>
            <option value="even" data-i18n="serial.parity.even"></option>
            <option value="mark" data-i18n="serial.parity.mark"></option>
            <option value="odd" data-i18n="serial.parity.odd"></option>
            <option value="space" data-i18n="serial.parity.space"></option>
        </select>
        </td><td>
        <select type="text" id="node-config-input-stopbits" style="width:70px;">
            <option value="2">2</option>
            <option value="1">1</option>
        </select>
    </td>
    </tr></table></div>
    <br/>
    <div class="form-row">
        <label><i class="fa fa-sign-in"></i> <span data-i18n="serial.label.input"></span></label>
    </div>
    <div class="form-row" style="padding-left: 10px;">
        <span data-i18n="serial.label.split"></span>
        <select type="text" id="node-config-input-out" style="margin-left: 5px; width:200px;">
            <option value="char" data-i18n="serial.split.character"></option>
            <option value="time" data-i18n="serial.split.timeout"></option>
            <option value="count" data-i18n="serial.split.lengths"></option>
        </select>
        <input type="text" id="node-config-input-newline"  style="width:50px;">
        <span id="node-units"></span>
    </div>
    <div class="form-row" style="padding-left: 10px;">
        <span data-i18n="serial.label.deliver"></span>
        <select type="text" id="node-config-input-bin" style="margin-left: 5px; width: 150px;">
            <option value="false" data-i18n="serial.output.ascii"></option>
            <option value="bin" data-i18n="serial.output.binary"></option>
        </select>
    </div>
    <br/>
    <div id="node-config-addchar">
        <div class="form-row">
            <label><i class="fa fa-sign-out"></i> <span data-i18n="serial.label.output"></span></label>
        </div>
        <div class="form-row">
            <input style="width: 30px;margin-left: 10px; vertical-align: top;" type="checkbox" id="node-config-input-addchar"><label style="width: auto;" for="node-config-input-addchar"><span data-i18n="serial.addsplit"></span></label>
        </div>
    </div>
    <div class="form-tips" id="tip-split"><span data-i18n="serial.tip.split"></span></div>
    <div class="form-tips" id="tip-bin" hidden><span data-i18n="serial.tip.timeout"></span></div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('serial-port',{
        category: 'config',
        defaults: {
            //name: {value:""},
            serialport: {value:"",required:true},
            serialbaud: {value:"57600",required:true,validate:RED.validators.number()},
            databits: {value:8,required:true},
            parity: {value:"none",required:true},
            stopbits: {value:1,required:true},
            newline: {value:"\\n"},
            bin: {value:"false"},
            out: {value:"char"},
            addchar: {value:false}
        },
        label: function() {
            this.serialbaud = this.serialbaud || 57600;
            this.databits = this.databits || 8;
            this.parity = this.parity || this._("serial.label.none");
            this.stopbits = this.stopbits || 1;
            return this.serialport+":"+this.serialbaud+"-"+this.databits+this.parity.charAt(0).toUpperCase()+this.stopbits;
        },
        oneditprepare: function() {
            var previous = null;
            var blist = [
                {value:"115200",label:"115200",hasValue:false},
                {value:"57600",label:"57600",hasValue:false},
                {value:"38400",label:"38400",hasValue:false},
                {value:"19200",label:"19200",hasValue:false},
                {value:"9600",label:"9600",hasValue:false},
                {value:"4800",label:"4800",hasValue:false},
                {value:"2400",label:"2400",hasValue:false},
                {value:"1200",label:"1200",hasValue:false},
                {value:"600",label:"600",hasValue:false},
                {value:"300",label:"300",hasValue:false},
                {label:"other",value:"other",icon:"red/images/typedInput/09.png",validate:/^[0-9]*$/}
            ];

            var serialbaudType = "custom";
            for (var i in blist) {
                if (this.serialbaud == blist[i].value) {
                    serialbaudType = this.serialbaud;
                }
            }

            $("#node-config-input-serialbaud").typedInput({
                default: this.serialbaud,
                types:blist
            });

            $("#node-config-input-out").on('focus', function () { previous = this.value; }).change(function() {
                if (previous == null) { previous = $("#node-config-input-out").val(); }
                if ($("#node-config-input-out").val() == "char") {
                    if (previous != "char") { $("#node-config-input-newline").val("\\n"); }
                    $("#node-units").text("");
                    $("#node-config-addchar").show();
                    $("#tip-split").show();
                    $("#tip-bin").hide();
                }
                else if ($("#node-config-input-out").val() == "time") {
                    if (previous != "time") { $("#node-config-input-newline").val("0"); }
                    $("#node-units").text("ms");
                    $("#node-config-addchar").hide();
                    $("#node-config-input-addchar").val("false");
                    $("#tip-split").hide();
                    $("#tip-bin").show();
                }
                else {
                    if (previous != "count") { $("#node-config-input-newline").val(""); }
                    $("#node-units").text("chars");
                    $("#node-config-addchar").hide();
                    $("#node-config-input-addchar").val("false");
                    $("#tip-split").hide();
                    $("#tip-bin").hide();
                }
            });

            try {
                $("#node-config-input-serialport").autocomplete( "destroy" );
            } catch(err) {
            }
            $("#node-config-lookup-serial").click(function() {
                $("#node-config-lookup-serial").addClass('disabled');
                $.getJSON('serialports',function(data) {
                    $("#node-config-lookup-serial").removeClass('disabled');
                    var ports = [];
                    $.each(data, function(i, port) {
                        ports.push(port.comName);
                    });
                    $("#node-config-input-serialport").autocomplete({
                        source:ports,
                        minLength:0,
                        close: function( event, ui ) {
                            $("#node-config-input-serialport").autocomplete( "destroy" );
                        }
                    }).autocomplete("search","");
                });
            });
        },
        oneditsave: function() {
            var mytype = $("#node-config-input-serialbaud").typedInput('type');
            if (mytype !== "other") {
                $("#node-config-input-serialbaud").typedInput('value',mytype);
            }
            this.serialbaud = $("#node-config-input-serialbaud").typedInput('value');
        }
    });
</script>
<script type="text/x-red" data-help-name="serial in">
    <p>Reads data from a local serial port.</p>
    <p>Can either <ul><li>wait for a "split" character (default \n). Also accepts hex notation (0x0a).</li>
    <li>Wait for a timeout in milliseconds for the first character received</li>
    <li>Wait to fill a fixed sized buffer</li></ul></p>
    <p>It then outputs <code>msg.payload</code> as either a UTF8 ascii string or a binary Buffer object.</p>
    <p>If no split character is specified, or a timeout or buffer size of 0, then a stream of single characters
    is sent - again either as ascii chars or size 1 binary buffers.</p>
</script><script type="text/x-red" data-help-name="serial out">
    <p>Provides a connection to an outbound serial port.</p>
    <p>Only the <code>msg.payload</code> is sent.</p>
    <p>Optionally the new line character used to split the input can be appended to every message sent out to the serial port.</p>
    <p>Binary payloads can be sent by using a Buffer object.</p>
</script><!--
  Copyright 2013, 2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="twitter-credentials">
    <div class="form-row" id="node-config-twitter-row"></div>
    <input type="hidden" id="node-config-input-screen_name">
</script>

<script type="text/javascript">
(function() {
    var twitterConfigNodeId = null;
    var twitterConfigNodeIntervalId = null;

    RED.nodes.registerType('twitter-credentials',{
        category: 'config',
        defaults: {
            screen_name: {value:""}
        },
        credentials: {
            screen_name: {type:"text"},
            access_token: {type: "password"},
            access_token_secret: {type:"password"}
        },
        label: function() {
            return this.screen_name;
        },
        exportable: false,
        oneditprepare: function() {
            var twitterConfigNodeId = this.id;
            var clickhere = this._("twitter.label.clickhere");
            var twitterID = this._("twitter.label.twitter-id");
            function showTwitterAuthStart() {
                var pathname = document.location.pathname;
                if (pathname.slice(-1) != "/") {
                    pathname += "/";
                }
                var callback = encodeURIComponent(location.protocol+"//"+location.hostname+":"+location.port+pathname+"twitter-credentials/"+twitterConfigNodeId+"/auth/callback");
                $("#node-config-dialog-ok").button("disable");
                $("#node-config-twitter-row").html('<div style="text-align: center; margin-top: 20px; "><a class="btn" id="node-config-twitter-start" href="twitter-credentials/'+twitterConfigNodeId+'/auth?callback='+callback+'" target="_blank">'+clickhere+'</a></div>');
                $("#node-config-twitter-start").click(function() {
                    twitterConfigNodeIntervalId = window.setTimeout(pollTwitterCredentials,2000);
                });
            }
            function updateTwitterScreenName(sn) {
                $("#node-config-input-screen_name").val(sn);
                $("#node-config-twitter-row").html('<label><i class="fa fa-user"></i> '+twitterID+'</label><span class="input-xlarge uneditable-input">'+sn+'</span>');
            }
            function pollTwitterCredentials(e) {
                $.getJSON('credentials/twitter-credentials/'+twitterConfigNodeId,function(data) {
                    if (data.screen_name) {
                        updateTwitterScreenName(data.screen_name);
                        twitterConfigNodeIntervalId = null;
                        $("#node-config-dialog-ok").button("enable");
                    } else {
                        twitterConfigNodeIntervalId = window.setTimeout(pollTwitterCredentials,2000);
                    }
                })
            }
            if (!this.screen_name || this.screen_name === "") {
                showTwitterAuthStart();
            } else {
                if (this.credentials.screen_name) {
                    updateTwitterScreenName(this.credentials.screen_name);
                } else {
                    showTwitterAuthStart();
                }
            }
        },
        oneditsave: function() {
            if (twitterConfigNodeIntervalId) {
                window.clearTimeout(twitterConfigNodeIntervalId);
            }
        },
        oneditcancel: function(adding) {
            if (twitterConfigNodeIntervalId) {
                window.clearTimeout(twitterConfigNodeIntervalId);
            }
        }
    });
})();
</script>

<script type="text/x-red" data-template-name="twitter in">
    <div class="form-row">
        <label for="node-input-twitter"><i class="fa fa-user"></i> <span data-i18n="twitter.label.twitter-id"></span></label>
        <input type="text" id="node-input-twitter">
    </div>
    <div class="form-row">
        <label for="node-input-user"><i class="fa fa-search"></i> <span data-i18n="twitter.label.search"></span></label>
        <select type="text" id="node-input-user" style="display: inline-block; vertical-align: middle; width:60%;">
            <option value="false" data-i18n="twitter.search.public"></option>
            <option value="true" data-i18n="twitter.search.follow"></option>
            <option value="user" data-i18n="twitter.search.user"></option>
            <option value="dm" data-i18n="twitter.search.direct"></option>
        </select>
    </div>
    <div class="form-row" id="node-input-tags-row">
        <label for="node-input-tags"><i class="fa fa-tags"></i> <span id="node-input-tags-label" data-i18n="twitter.label.for"></span></label>
        <input type="text" id="node-input-tags" data-i18n="[placeholder]twitter.placeholder.for">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="[html]twitter.tip"></span></div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('twitter in',{
        category: 'social-input',
        color:"#C0DEED",
        defaults: {
            twitter: {type:"twitter-credentials",required:true},
            tags: {value:"",validate:function(v) { return this.user == "dm" || v.length > 0;}},
            user: {value:"false",required:true},
            name: {value:""},
            topic: {value:"tweets"}
        },
        inputs:0,
        outputs:1,
        icon: "twitter.png",
        label: function() {
            if (this.name) {
                return this.name;
            }
            if (this.user == "dm") {
                var user = RED.nodes.node(this.twitter);
                return (user?user.label()+" ":"")+this._("twitter.label.dmslabel");
            } else if (this.user == "user") {
                return this.tags+" "+this._("twitter.label.tweetslabel");
            }
            return this.tags;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var userlabel = this._("twitter.label.user");
            var userph = this._("twitter.placeholder.user");
            var forlabel = this._("twitter.label.for");
            var forph = this._("twitter.placeholder.for");
            $("#node-input-user").change(function() {
                var type = $("#node-input-user option:selected").val();
                if (type == "user") {
                    $("#node-input-tags-row").show();
                    $("#node-input-tags-label").html(userlabel);
                    $("#node-input-tags").attr("placeholder",userph);
                } else if (type == "dm") {
                    $("#node-input-tags-row").hide();
                } else {
                    $("#node-input-tags-row").show();
                    $("#node-input-tags-label").html(forlabel);
                    $("#node-input-tags").attr("placeholder",forph);
                }

            });
            $("#node-input-user").change();
        }
    });
</script>


<script type="text/x-red" data-template-name="twitter out">
    <div class="form-row">
        <label for="node-input-twitter"><i class="fa fa-user"></i> <span data-i18n="twitter.label.twitter-id"></span></label>
        <input type="text" id="node-input-twitter">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
</script>



<script type="text/javascript">
    RED.nodes.registerType('twitter out',{
        category: 'social-output',
        color:"#C0DEED",
        defaults: {
            twitter: {type:"twitter-credentials",required:true},
            name: {value:"Tweet"}
        },
        inputs:1,
        outputs:0,
        icon: "twitter.png",
        align: "right",
        label: function() {
            return this.name;
        }
    });
</script>
<script type="text/x-red" data-help-name="twitter in">
    <p>Twitter input node. Can be used to search either:
    <ul><li>the public or a user's stream for tweets containing the configured search term</li>
        <li>all tweets by specific users</li>
        <li>direct messages received by the authenticated user</li>
    </ul></p>
    <p>Use space for <i>and</i> and comma , for <i>or</i> when searching for multiple terms.</p>
    <p>Sets the <code>msg.topic</code> to <i>tweets/</i> and then appends the senders screen name.</p>
    <p>Sets <code>msg.location</code> to the tweeters location if known.</p>
    <p>Sets <code>msg.tweet</code> to the full tweet object as documented by <a href="https://dev.twitter.com/overview/api/tweets">Twitter</a>.
    <p><b>Note:</b> when set to a specific user's tweets, or your direct messages, the node is subject to
      Twitter's API rate limiting. If you deploy the flows multiple times within a 15 minute window, you may
      exceed the limit and will see errors from the node. These errors will clear when the current 15 minute window
      passes.</p>
</script><script type="text/x-red" data-help-name="twitter out">
    <p>Twitter out node. Tweets the <code>msg.payload</code>.</p>
    <p>To send a Direct Message (DM) - use a payload like "D {username} {message}"</p>
    <p>If <code>msg.media</code> exists and is a Buffer object, this node will treat it
       as an image and attach it to the tweet.</p>
    <p>If <code>msg.params</code> exists and is an object of name:value pairs,
    this node will treat it as parameters for the update request.</p>
</script><script type="text/x-red" data-template-name="UPM-Grove-Button">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="3" selected="selected">GPIO_38</option>
            <option value="4">GPIO_39</option>
            <option value="5">GPIO_34</option>
            <option value="6">GPIO_35</option>
            <option value="7">GPIO_66</option>
            <option value="8">GPIO_67</option>
            <option value="9">GPIO_69</option>
            <option value="10">GPIO_68</option>
            <option value="11">GPIO_45</option>
            <option value="12">GPIO_44</option>
            <option value="13">GPIO_23</option>
            <option value="14">GPIO_26</option>
            <option value="15">GPIO_37</option>
            <option value="16">GPIO_46</option>
            <option value="17">GPIO_27</option>
            <option value="18">GPIO_65</option>
            <option value="19">GPIO_22</option>
            <option value="20">GPIO_63</option>
            <option value="21">GPIO_62</option>
            <option value="22">GPIO_37</option>
            <option value="23">GPIO_36</option>
            <option value="24">GPIO_33</option>
            <option value="25">GPIO_32</option>
            <option value="26">GPIO_61</option>
            <option value="27">GPIO_86</option>
            <option value="28">GPIO_88</option>
            <option value="29">GPIO_87</option>
            <option value="30">GPIO_89</option>
            <option value="31">GPIO_10</option>
            <option value="32">GPIO_11</option>
            <option value="33">GPIO_9</option>
            <option value="34">GPIO_81</option>
            <option value="35">GPIO_8</option>     
            <option value="36">GPIO_80</option>
            <option value="37">GPIO_78</option>
            <option value="38">GPIO_79</option>
            <option value="39">GPIO_76</option>
            <option value="40">GPIO_77</option>
            <option value="41">GPIO_74</option>  
            <option value="42">GPIO_75</option>
            <option value="43">GPIO_72</option>
            <option value="44">GPIO_73</option>
            <option value="45">GPIO_77</option>
            <option value="46">GPIO_71</option>
            <option value="57">GPIO_30</option>
            <option value="58">GPIO_60</option>  
            <option value="59">GPIO_31</option>
            <option value="60">GPIO_50</option>
            <option value="61">GPIO_48</option>
            <option value="62">GPIO_51</option> 
            <option value="63">GPIO_5</option>
            <option value="64">GPIO_4</option>
            <option value="67">GPIO_3</option>
            <option value="68">GPIO_2</option>
            <option value="69">GPIO_49</option>
            <option value="70">GPIO_15</option>
            <option value="71">GPIO_117</option>             
            <option value="72">GPIO_14</option>
            <option value="73">GPIO_115</option>
            <option value="74">GPIO_113</option>
            <option value="75">GPIO_111</option>  
            <option value="76">GPIO_112</option>
            <option value="77">GPIO_110</option>
            <option value="86">GPIO_20</option>
            <option value="87">GPIO_7</option>            
        </select>
    </div>    
    <div id="interval-row" class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">

    RED.nodes.registerType('UPM-Grove-Button', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
                value: '0'
	    },
            pin:  {
                value: '512',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Button',
        inputs: 0,
        outputs: 1,
        icon: 'seeed.png',
        align: 'left',
        label: function(){
            return this.name || 'Grove Button';
        },
    });
</script>
<script type="text/x-red" data-help-name="UPM-Grove-Button">
    <h2>Grove Button</h2>
    <br>
    <p>This node will sample the Grove Button (Touch Button or PushButton) and change msg.payload based on user input (button pressed = 1, button unpressed = 0).</p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/grove-button" target="_blank">Grove Button</a>
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/ttp223-touch-sensor" target="_blank">TTP223 Touch Sensor</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/grovebutton.jpg" />
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/ttp223.jpg" />
</script><script type="text/x-red" data-template-name="UPM-Grove-Buzzer">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="3" selected="selected">GPIO_38</option>
            <option value="4">GPIO_39</option>
            <option value="5">GPIO_34</option>
            <option value="6">GPIO_35</option>
            <option value="7">GPIO_66</option>
            <option value="8">GPIO_67</option>
            <option value="9">GPIO_69</option>
            <option value="10">GPIO_68</option>
            <option value="11">GPIO_45</option>
            <option value="12">GPIO_44</option>
            <option value="13">GPIO_23</option>
            <option value="14">GPIO_26</option>
            <option value="15">GPIO_37</option>
            <option value="16">GPIO_46</option>
            <option value="17">GPIO_27</option>
            <option value="18">GPIO_65</option>
            <option value="19">GPIO_22</option>
            <option value="20">GPIO_63</option>
            <option value="21">GPIO_62</option>
            <option value="22">GPIO_37</option>
            <option value="23">GPIO_36</option>
            <option value="24">GPIO_33</option>
            <option value="25">GPIO_32</option>
            <option value="26">GPIO_61</option>
            <option value="27">GPIO_86</option>
            <option value="28">GPIO_88</option>
            <option value="29">GPIO_87</option>
            <option value="30">GPIO_89</option>
            <option value="31">GPIO_10</option>
            <option value="32">GPIO_11</option>
            <option value="33">GPIO_9</option>
            <option value="34">GPIO_81</option>
            <option value="35">GPIO_8</option>     
            <option value="36">GPIO_80</option>
            <option value="37">GPIO_78</option>
            <option value="38">GPIO_79</option>
            <option value="39">GPIO_76</option>
            <option value="40">GPIO_77</option>
            <option value="41">GPIO_74</option>  
            <option value="42">GPIO_75</option>
            <option value="43">GPIO_72</option>
            <option value="44">GPIO_73</option>
            <option value="45">GPIO_77</option>
            <option value="46">GPIO_71</option>
            <option value="57">GPIO_30</option>
            <option value="58">GPIO_60</option>  
            <option value="59">GPIO_31</option>
            <option value="60">GPIO_50</option>
            <option value="61">GPIO_48</option>
            <option value="62">GPIO_51</option> 
            <option value="63">GPIO_5</option>
            <option value="64">GPIO_4</option>
            <option value="67">GPIO_3</option>
            <option value="68">GPIO_2</option>
            <option value="69">GPIO_49</option>
            <option value="70">GPIO_15</option>
            <option value="71">GPIO_117</option>             
            <option value="72">GPIO_14</option>
            <option value="73">GPIO_115</option>
            <option value="74">GPIO_113</option>
            <option value="75">GPIO_111</option>  
            <option value="76">GPIO_112</option>
            <option value="77">GPIO_110</option>
            <option value="87">GPIO_20</option>
            <option value="88">GPIO_7</option>              
        </select>
    </div>  
    <div id="note-row" class="form-row">
        <label for="node-input-note"><i class="fa fa-refresh"></i> Musical Note</label>
        <select type="text" id="node-input-note">
            <option value="3800" selected="selected">DO</option>
            <option value="3400">RE</option>
            <option value="3000">MI</option>
            <option value="2900">FA</option>
            <option value="2550">SOL</option>
            <option value="2270">LA</option>
            <option value="2000">SI</option>
        </select>
    </div>        
</script>




<script type="text/javascript">
    RED.nodes.registerType('UPM-Grove-Buzzer', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
                value: '0'
	    },
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            note: {
                value: 3800,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Buzzer',
        inputs: 1,
        outputs: 0,
        icon: 'debug.png',
        align: 'right',
        label: function(){
            return this.name || 'Grove Buzzer';
        },
    });
</script>
<script type="text/x-red" data-help-name="UPM-Grove-Buzzer">
    <h2>Grove Buzzer</h2>
    <br>
    <p>This node will show the Grove Buzzer play musical note and change msg.payload based on the input (DO=3800,RE=3400,MI=3000,FA=2900,SOL=2550,LA=2270,SI=2000).</p>
    <br>
    <p>Learn More:
        <a href="http://www.seeedstudio.com/wiki/Grove_-_Buzzer" target="_blank">Grove Buzzer</a>
    </p>
    <br>
    <img src="http://www.seeedstudio.com/wiki/images/thumb/e/ed/Buzzer1.jpg/400px-Buzzer1.jpg" />
</script><script type="text/x-red" data-template-name="upm-grove-led">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div> 
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="3" selected="selected">GPIO_38</option>
            <option value="4">GPIO_39</option>
            <option value="5">GPIO_34</option>
            <option value="6">GPIO_35</option>
            <option value="7">GPIO_66</option>
            <option value="8">GPIO_67</option>
            <option value="9">GPIO_69</option>
            <option value="10">GPIO_68</option>
            <option value="11">GPIO_45</option>
            <option value="12">GPIO_44</option>
            <option value="13">GPIO_23</option>
            <option value="14">GPIO_26</option>
            <option value="15">GPIO_37</option>
            <option value="16">GPIO_46</option>
            <option value="17">GPIO_27</option>
            <option value="18">GPIO_65</option>
            <option value="19">GPIO_22</option>
            <option value="20">GPIO_63</option>
            <option value="21">GPIO_62</option>
            <option value="22">GPIO_37</option>
            <option value="23">GPIO_36</option>
            <option value="24">GPIO_33</option>
            <option value="25">GPIO_32</option>
            <option value="26">GPIO_61</option>
            <option value="27">GPIO_86</option>
            <option value="28">GPIO_88</option>
            <option value="29">GPIO_87</option>
            <option value="30">GPIO_89</option>
            <option value="31">GPIO_10</option>
            <option value="32">GPIO_11</option>
            <option value="33">GPIO_9</option>
            <option value="34">GPIO_81</option>
            <option value="35">GPIO_8</option>     
            <option value="36">GPIO_80</option>
            <option value="37">GPIO_78</option>
            <option value="38">GPIO_79</option>
            <option value="39">GPIO_76</option>
            <option value="40">GPIO_77</option>
            <option value="41">GPIO_74</option>  
            <option value="42">GPIO_75</option>
            <option value="43">GPIO_72</option>
            <option value="44">GPIO_73</option>
            <option value="45">GPIO_77</option>
            <option value="46">GPIO_71</option>
            <option value="57">GPIO_30</option>
            <option value="58">GPIO_60</option>  
            <option value="59">GPIO_31</option>
            <option value="60">GPIO_50</option>
            <option value="61">GPIO_48</option>
            <option value="62">GPIO_51</option> 
            <option value="63">GPIO_5</option>
            <option value="64">GPIO_4</option>
            <option value="67">GPIO_3</option>
            <option value="68">GPIO_2</option>
            <option value="69">GPIO_49</option>
            <option value="70">GPIO_15</option>
            <option value="71">GPIO_117</option>             
            <option value="72">GPIO_14</option>
            <option value="73">GPIO_115</option>
            <option value="74">GPIO_113</option>
            <option value="75">GPIO_111</option>  
            <option value="76">GPIO_112</option>
            <option value="77">GPIO_110</option>
            <option value="87">GPIO_20</option>
            <option value="88">GPIO_7</option>    
        </select>
    </div>    
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-exchange"></i> Mode</label>
        <select type="text" id="node-input-mode">
            <option value="blink" selected="selected">Blink</option>
            <option value="output">Output</option>
        </select>
    </div>
    <div id="interval-row" class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">
    
    function oneditprepare(){
        $('#node-input-mode').on('change', function(){
            if($(this).val() == 'output'){
                $('#interval-row').hide();
            }else{
                $('#interval-row').show();
            }
        });
    }

    RED.nodes.registerType('upm-grove-led', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
		value: '0'
	    },
            mode:  {
                value: 'blink'
            },
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove LED',
        inputs: 1,
        outputs: 0,
        icon: 'seeed.png',
        align: 'right',
        label: function(){
            return this.name || 'Grove LED';
        },
        oneditprepare:oneditprepare
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-led">
    <h2>Grove LED</h2>
    <br>
    <p>This node will toggle the Grove LED based on the input (1 or 0), or blink at the set interval</p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/grove-led" target="_blank">Grove LED Sensor</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/groveled.jpg" />
</script><script type="text/x-red" data-template-name="upm-grove-light">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="1" selected="selected">A0</option>
            <option value="2">A1</option>
            <option value="3">A2</option>
            <option value="4">A3</option>
            <option value="5">A4</option>
            <option value="6">A5</option>
            <option value="7">A6</option>
        </select>
    </div>    
    <div class="form-row">
        <label for="node-input-unit"><i class="fa fa-exchange"></i> Unit</label>
        <select type="text" id="node-input-unit">
            <option value="Lux" selected="selected">Lux</option>
            <option value="RAW">Raw Value</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">
    RED.nodes.registerType('upm-grove-light', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
		value: '0'
	    },
            unit:  {
                value: 'Lux',
            },
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Light',
        inputs: 0,
        outputs: 1,
        icon: 'light.png',
        label: function(){
            return this.name || 'Grove Light';
        }
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-light">
    <h2>Grove Light Sensor</h2>
    <br>
    <p>This node outputs the lux reading or the raw analog value from the Grove Light Sensor.</p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/grove-light-sensor" target="_blank">Grove Light Sensor</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/grovelight.jpg" />
</script><script type="text/x-red" data-template-name="UPM-Grove-Relay">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platfrom</label>
	<select type="text" id="node-input-platform">
	    <option value="0" selected="selected">Native</option>
	    <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="3" selected="selected">GPIO_38</option>
            <option value="4">GPIO_39</option>
            <option value="5">GPIO_34</option>
            <option value="6">GPIO_35</option>
            <option value="7">GPIO_66</option>
            <option value="8">GPIO_67</option>
            <option value="9">GPIO_69</option>
            <option value="10">GPIO_68</option>
            <option value="11">GPIO_45</option>
            <option value="12">GPIO_44</option>
            <option value="13">GPIO_23</option>
            <option value="14">GPIO_26</option>
            <option value="15">GPIO_37</option>
            <option value="16">GPIO_46</option>
            <option value="17">GPIO_27</option>
            <option value="18">GPIO_65</option>
            <option value="19">GPIO_22</option>
            <option value="20">GPIO_63</option>
            <option value="21">GPIO_62</option>
            <option value="22">GPIO_37</option>
            <option value="23">GPIO_36</option>
            <option value="24">GPIO_33</option>
            <option value="25">GPIO_32</option>
            <option value="26">GPIO_61</option>
            <option value="27">GPIO_86</option>
            <option value="28">GPIO_88</option>
            <option value="29">GPIO_87</option>
            <option value="30">GPIO_89</option>
            <option value="31">GPIO_10</option>
            <option value="32">GPIO_11</option>
            <option value="33">GPIO_9</option>
            <option value="34">GPIO_81</option>
            <option value="35">GPIO_8</option>     
            <option value="36">GPIO_80</option>
            <option value="37">GPIO_78</option>
            <option value="38">GPIO_79</option>
            <option value="39">GPIO_76</option>
            <option value="40">GPIO_77</option>
            <option value="41">GPIO_74</option>  
            <option value="42">GPIO_75</option>
            <option value="43">GPIO_72</option>
            <option value="44">GPIO_73</option>
            <option value="45">GPIO_77</option>
            <option value="46">GPIO_71</option>
            <option value="57">GPIO_30</option>
            <option value="58">GPIO_60</option>  
            <option value="59">GPIO_31</option>
            <option value="60">GPIO_50</option>
            <option value="61">GPIO_48</option>
            <option value="62">GPIO_51</option> 
            <option value="63">GPIO_5</option>
            <option value="64">GPIO_4</option>
            <option value="67">GPIO_3</option>
            <option value="68">GPIO_2</option>
            <option value="69">GPIO_49</option>
            <option value="70">GPIO_15</option>
            <option value="71">GPIO_117</option>             
            <option value="72">GPIO_14</option>
            <option value="73">GPIO_115</option>
            <option value="74">GPIO_113</option>
            <option value="75">GPIO_111</option>  
            <option value="76">GPIO_112</option>
            <option value="77">GPIO_110</option>
            <option value="87">GPIO_20</option>
            <option value="88">GPIO_7</option>    
        </select>
    </div>    
    
    <div id="interval-row" class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">

    RED.nodes.registerType('UPM-Grove-Relay', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
            platform: {
                value: '0'
	    },		    
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Relay',
        inputs: 1,
        outputs: 0,
        icon: 'debug.png',
        align: 'right',
        label: function(){
            return this.name || 'Grove Relay';
        },
    });
</script>
<script type="text/x-red" data-help-name="UPM-Grove-Relay">
    <h2>Grove Relay</h2>
    <br>
    <p>This node will toggle the Grove Relay based on the msg.payload input (1 or 0).</p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/grove-relay" target="_blank">Grove Relay</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/groverelay.jpg" />
</script><script type="text/x-red" data-template-name="upm-grove-rgb-lcd">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" >
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i>Interface</label>
        <select type="text" id="node-input-platform">
            <option value="1" selected="selected">I2C2</option>
            <option value="0">I2C1</option>
        </select>
    </div> 
    <div class="form-row">
        <label for="node-input-r"><i class="fa fa-paint-brush"></i> R</label>
        <input type="text" id="node-input-r" placeholder="0 - 255">
    </div>
    <div class="form-row">
        <label for="node-input-g"><i class="fa fa-paint-brush"></i> G</label>
        <input type="text" id="node-input-g" placeholder="0 - 255">
    </div>
    <div class="form-row">
        <label for="node-input-b"><i class="fa fa-paint-brush"></i> B</label>
        <input type="text" id="node-input-b" placeholder="0 - 255">
    </div>
    <div class="form-row">
        <label for="node-input-row"><i class="fa fa-i-cursor"></i>Cursor Row</label>
        <select type="text" id="node-input-row">
            <option value="0" selected="selected">0</option>
            <option value="1">1</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-column"><i class="fa fa-i-cursor"></i>Cursor Column</label>
        <select type="text" id="node-input-column">
            <option value="0" selected="selected">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
        </select>
    </div>
</script>




<script type="text/javascript">
    
    function oneditprepare(){}

    RED.nodes.registerType('upm-grove-rgb-lcd', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
		value: '0'
	    },
            r: {
                value: 0,
                validate:RED.validators.number()
            },
            g: {
                value: 0,
                validate:RED.validators.number()
            },
            b: {
                value: 255,
                validate:RED.validators.number()
            },
            row:  {
                value: 0,
                require: true,
                validate:RED.validators.number()
            },
            column:  {
                value: 0,
                required: true,
                validate:RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove RGB LCD',
        inputs: 1,
        outputs: 0,
        icon: 'debug.png',
        align: 'right',
        label: function(){
            return this.name || 'Grove RGB LCD';
        },
        oneditprepare:oneditprepare
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-rgb-lcd">
    <h2>Grove RGB LCD (JHD1313M1)</h2>
    <br>
    <p>This node will display the message payload and set the backlight on the Grove RGB LCD.</p>
    <br>
    <p>
        <ul>
            <li>msg.payload - message to display</li>
            <li>msg.lcdColor - { r : 255 , g : 255 , b : 255 }</li>
            <li>msg.lcdCursor - { row : 0 , column : 0 }</li>
        </ul>
    </p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/jhd1313m1-display" target="_blank">Grove RGB LCD (JHD1313M1)</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/grovergblcd.jpg" />
</script><script type="text/x-red" data-template-name="upm-grove-rotary">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="1" selected="selected">A0</option>
            <option value="2">A1</option>
            <option value="3">A2</option>
            <option value="4">A3</option>
            <option value="5">A4</option>
            <option value="6">A5</option>
            <option value="7">A6</option>
        </select>
    </div>    
    <div class="form-row">
        <label for="node-input-unit"><i class="fa fa-exchange"></i> Unit</label>
        <select type="text" id="node-input-unit">
            <option value="ABSRAW" selected="selected">Absolute Raw</option>
            <option value="ABSDEG">Absolute Degrees</option>
            <option value="ABSRAD">Absolute Radians</option>
            <option value="RELRAW">Relative Raw</option>
            <option value="RELDEG">Relative Degrees</option>
            <option value="RELRAD">Relative Radians</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">
    RED.nodes.registerType('upm-grove-rotary', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
		value: '0'
	    },
            unit:  {
                value: 'ABSRAW'
            },
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Rotary',
        inputs: 0,
        outputs: 1,
        icon: 'arrow-in.png',
        label: function(){
            return this.name || 'Grove Rotary';
        }
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-rotary">
    <h2>Grove Rotary Sensor</h2>
    <br>
    <p>This node outputs the rotary angle reading in degress or radians for the absolute or relative position of the Grove Rotary Sensor.</p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/grove-rotary-angle-sensor" target="_blank">Grove Rotary Sensor</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/groverotary.jpeg" />
</script><script type="text/x-red" data-template-name="upm-grove-sound">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="1" selected="selected">A0</option>
            <option value="2">A1</option>
            <option value="3">A2</option>
            <option value="4">A3</option>
            <option value="5">A4</option>
            <option value="6">A5</option>
            <option value="7">A6</option>
        </select>
    </div>    
    <div class="form-row">
        <label for="node-input-unit"><i class="fa fa-exchange"></i> Unit</label>
        <select type="text" id="node-input-unit">
            <option value="RAW" selected="selected">Raw Value</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">
    RED.nodes.registerType('upm-grove-sound', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
		value: '0'
	    },
            unit:  {
                value: 'RAW'
            },
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Sound',
        inputs: 0,
        outputs: 1,
        icon: 'bridge.png',
        label: function(){
            return this.name || 'Grove Sound';
        }
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-sound">
    <h2>Grove Sound Sensor</h2>
    <br>
    <p>This node outputs the raw analog value from the Grove Sound Sensor.</p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/analog-microphone-0" target="_blank">Grove Sound Sensor</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/mic.jpg" />
</script><script type="text/x-red" data-template-name="upm-grove-temperature">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="1" selected="selected">A0</option>
            <option value="2">A1</option>
            <option value="3">A2</option>
            <option value="4">A3</option>
            <option value="5">A4</option>
            <option value="6">A5</option>
            <option value="7">A6</option>
        </select>
    </div>    
    <div class="form-row">
        <label for="node-input-unit"><i class="fa fa-exchange"></i> Unit</label>
        <select type="text" id="node-input-unit">
            <option value="C" selected="selected">Celsius</option>
            <option value="F">Fahrenheit</option>
            <option value="RAW">Raw Value</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">
    RED.nodes.registerType('upm-grove-temperature', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
		value: '0'
	    },
            unit:  {
                value: 'C',
                required: true
            },
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Temperature',
        inputs: 0,
        outputs: 1,
        icon: 'arrow-in.png',
        label: function(){
            return this.name || 'Grove Temperature';
        }
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-temperature">
    <h2>Grove Temperature Sensor</h2>
    <br>
    <p>This node outputs the temperature reading in Celsius or Fahrenheit or the raw analog value from the Grove Temperature Sensor.</p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/grove-temperature-sensor" target="_blank">Grove Temperature Sensor</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/grovetemp.jpg" />
</script><script type="text/x-red" data-template-name="upm-grove-adxl345">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> I2C</label>
        <select type="text" id="node-input-pin">
            <option value="0" selected="selected">I2C1</option>
            <option value="1">I2C2</option>
        </select>
    </div>    
    <div class="form-row">
        <label for="node-input-unit"><i class="fa fa-exchange"></i> Unit</label>
        <select type="text" id="node-input-unit">
            <option value="XYZ" selected="selected">XYZ</option>
            <option value="RAW">Raw Value</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-interval"><i class="fa fa-refresh"></i> Interval (ms)</label>
        <input type="text" id="node-input-interval" placeholder="1000">
    </div>    
</script>




<script type="text/javascript">
    RED.nodes.registerType('upm-grove-adxl345', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
	    platform: {
		value: '0'
	    },
            unit:  {
                value: 'XYZ',
            },
            pin:  {
                value: '0',
                required: true,
                validate:RED.validators.number()
            },
            interval: {
                value: 1000,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove adxl345',
        inputs: 0,
        outputs: 1,
        icon: 'seeed.png',
        label: function(){
            return this.name || 'Grove adxl345';
        }
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-adxl345">
    <h2>Grove 3 Axis Digital Accelerometer(16g)</h2>
    <br>
    <p>This node outputs the 3 Axis Digital Accelerometer reading or the raw analog value from the Grove 3 Axis Digital Accelerometer(16g).</p>
    <br>
    <p>Learn More:
        <a href="http://www.seeedstudio.com/wiki/Grove_-_3-Axis_Digital_Accelerometer(%C2%B116g)" target="_blank">Grove 3 Axis Digital Accelerometer(16g)</a>
    </p>
    <br>
    <img src="http://www.seeedstudio.com/wiki/images/1/17/3-axis_Accelerometer_ADXL345.jpg" />
</script><script type="text/x-red" data-template-name="upm-grove-servo">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row" style="display: none;">
        <label for="node-input-platform"><i class="fa fa fa-wrench"></i> Platform</label>
        <select type="text" id="node-input-platform">
            <option value="0" selected="selected">Native</option>
            <option value="512">Firmata</option>
        </select>
    </div> 
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin</label>
        <select type="text" id="node-input-pin">
            <option value="68" selected="selected">EHRPWM0A</option>
            <option value="67">EHRPWM0B</option>
            <option value="70">EHRPWM1A</option>
            <option value="72">EHRPWM1B</option>
            <option value="45">EHRPWM2A</option>
            <option value="46">EHRPWM2B</option>
        </select>
    </div>    
    <div id="angle-row" class="form-row">
        <label for="node-input-angle"><i class="fa fa-refresh"></i> Servo Angle (0 - 180)</label>
        <input type="text" id="node-input-angle" placeholder="90">
    </div>    
</script>




<script type="text/javascript">
    
    function oneditprepare(){}

    RED.nodes.registerType('upm-grove-servo', {
        category: 'Grove Sensors',
        defaults: {
            name: {
                value: ''
            },
        platform: {
        value: '0'
        },
            pin:  {
                value: '3',
                required: true,
                validate:RED.validators.number()
            },
            angle: {
                value: 90,
                required: true,
                validate: RED.validators.number()
            }
        },
        color: '#a6bbcf',
        paletteLabel: 'Grove Servo',
        inputs: 1,
        outputs: 0,
        icon: 'light.png',
        align: 'right',
        label: function(){
            return this.name || 'Grove Servo';
        },
        oneditprepare:oneditprepare
    });
</script>
<script type="text/x-red" data-help-name="upm-grove-servo">
    <h2>Grove Servo</h2>
    <br>
    <p>This node will let you control the Grove Servo by setting the desired angle.</p>
    <p>Note: Remember to select a pin that supports PWM (~) and ensure the board has a sufficient power supply.</p>
    <br>
    <p>
        <ul>
            <li>msg.payload - 0 - 180</li>
        </ul>
    </p>
    <br>
    <p>Learn More:
        <a href="https://software.intel.com/en-us/iot/hardware/sensors/es08a-servo" target="_blank">Grove Servo</a>
    </p>
    <br>
    <img src="https://raw.githubusercontent.com/intel-iot-devkit/upm/master/docs/images/es08a.jpg" />
</script><!--
  Copyright 2014 Maxwell R Hadley

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!-- Edit dialog for bbb-analogue-in -->
<script type="text/x-red" data-template-name="bbb-analogue-in">
   <div class="form-row">
       <label for="node-input-pin"><i class="fa fa-asterisk"></i>Input pin</label>
       <select type="text" id="node-input-pin" style="width: 150px;">
           <option value="">select pin</option>
           <option value="P9_39">AIN0 (P9 pin 39)</option>
           <option value="P9_40">AIN1 (P9 pin 40)</option>
           <option value="P9_37">AIN2 (P9 pin 37)</option>
           <option value="P9_38">AIN3 (P9 pin 38)</option>
           <option value="P9_33">AIN4 (P9 pin 33)</option>
           <option value="P9_36">AIN5 (P9 pin 36)</option>
           <option value="P9_35">AIN6 (P9 pin 35)</option>
       </select>
   </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> Topic</label>
        <input type="text" id="node-input-topic" placeholder="Topic">
    </div>
    <div class="form-row">
    Input Scaling
    </div>
    <div class="form-row">
        <div id="node-input-breakpoint-container-div" style="border-radius: 5px; height: 132px; padding: 5px; border: 1px solid #ccc; overflow-y:scroll;">
            <ol id="node-input-breakpoint-container" style=" list-style-type:none; margin: 0;">
            </ol>
        </div>
    </div>
    <div class="form-row">
        <a href="#" class="btn btn-mini" id="node-input-add-breakpoint" style="margin-top: 4px;"><i class="fa fa-plus"></i> Add Breakpoint</a>
        <span style="float:right; margin-top:4px">
            <input type="checkbox" id="node-input-averaging" style="display:inline-block; width:auto; vertical-align:top;"> Averaging&nbsp;
        </span>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<!-- Help text for bbb-analogue-in -->


<!-- Register bbb-analogue-in node -->
<script type="text/javascript">
    RED.nodes.registerType('bbb-analogue-in', {
        category: 'Beaglebone', // the palette category
        color:"#de7224",
        defaults: {                 // defines the editable properties of the node
            pin: { value:"", required:true },
            topic: { value:"" },
            breakpoints: { value:[{input:0.0, output:0.0, mutable:false},  {input:1.0, output:1.0, mutable:false}] },
            averaging: { value:false, required:true },
            name: { value:"" }
        },
        inputs:1,                   // set the number of inputs - only 0 or 1
        outputs:1,                  // set the number of outputs - 0 to n
        icon: "BBB.png",            // set the icon (held in public/icons)
        label: function() {         // sets the default label contents
                return this.name || "bbb-analogue-in: " + this.pin;
            },
        labelStyle: function() {    // sets the class to apply to the label
                return this.name ? "node_label_italic" : "";
            },
        oneditprepare: function () {
                function generateBreakpoint(breakpoint, insert) {
                    var container = $('<li></li>', {style:"margin:0; padding:4px; padding-left 10px;"});
                    var row = $('<div></div>').appendTo(container);
                    var breakpointField = $('<span></span>').appendTo(row);
                    var inputValueField = $('<input/>',
                        {disabled:"", class:"node-input-breakpoint-input-value", type:"text", style:"margin-left:5px; margin-right:2px; width:36%;"}).appendTo(breakpointField);
                    if (breakpoint.mutable) {
                        inputValueField.removeAttr("disabled");
                    }
                    breakpointField.append(" => ");
                    var outputValueField = $('<input/>',
                        {class:"node-input-breakpoint-output-value", type:"text", style:"margin-left:0px; width:36%;"}).appendTo(breakpointField);
                    var finalSpan = $('<span></span>', {style:"float:right; margin-top:3px; margin-right:10px;"}).appendTo(row);
                    var mutableFlag = $('<span></span>', {class:"node-input-breakpoint-mutable", style:"display:hide;"}).appendTo(row);
                    if (breakpoint.mutable) {
                        mutableFlag.attr("mutable", "true");
                        var deleteButton = $('<a></a>', {href:"#", class:"btn btn-mini", style:"margin-left: 5px;"}).appendTo(finalSpan);
                        $('<i></i>', {class:"icon-remove"}).appendTo(deleteButton);

                        deleteButton.click(function() {
                                container.css({"background":"#fee"});
                                container.fadeOut(300, function() {
                                        $(this).remove();
                                    });
                            });
                    } else {
                        mutableFlag.attr("mutable", "false");
                    }
                    if (insert === true) {
                        var last = $("#node-input-breakpoint-container").children().last();
                        var prev = last.prev();
                        inputValueField.val((Number(last.find(".node-input-breakpoint-input-value").val()) +
                                                Number(prev.find(".node-input-breakpoint-input-value").val()))/2);
                        outputValueField.val((Number(last.find(".node-input-breakpoint-output-value").val()) +
                                                Number(prev.find(".node-input-breakpoint-output-value").val()))/2);
                        last.before(container);
                    } else {
                        inputValueField.val(breakpoint.input);
                        outputValueField.val(breakpoint.output);
                        $("#node-input-breakpoint-container").append(container);
                    }
                }

                $("#node-input-add-breakpoint").click(function () {
                        generateBreakpoint({input:0, output:0, mutable:true}, true);
                        $("#node-input-breakpoint-container-div").scrollTop($("#node-input-breakpoint-container-div").get(0).scrollHeight);
                    });

                for (var i = 0; i < this.breakpoints.length; i++) {
                    var breakpoint = this.breakpoints[i];
                    generateBreakpoint(breakpoint, false);
                }

                // Handle resizing the Input Scaling div when the dialog is resized - this isn't quite right!
                function switchDialogResize(ev, ui) {
                    $("#node-input-breakpoint-container-div").css("height", (ui.size.height - 299) + "px");
                }

                $("#dialog").on("dialogresize", switchDialogResize);
                $("#dialog").one("dialogopen", function (ev) {
                        var size = $("#dialog").dialog('option', 'sizeCache-switch');
                        if (size) {
                            switchDialogResize(null, { size:size });
                        }
                    });
                $("#dialog").one("dialogclose", function(ev, ui) {
                        $("#dialog").off("dialogresize", switchDialogResize);
                    });
            },
        oneditsave: function() {
                var breakpoints = $("#node-input-breakpoint-container").children();
                var node = this;
                node.breakpoints = [];
                breakpoints.each(function (i) {
                        var breakpoint = $(this);
                        var r = {};
                        r.input = Number(breakpoint.find(".node-input-breakpoint-input-value").val());
                        r.output = Number(breakpoint.find(".node-input-breakpoint-output-value").val());
                        r.mutable = breakpoint.find(".node-input-breakpoint-mutable").attr("mutable") == "true";
                        node.breakpoints.push(r);
                    });
                node.breakpoints = node.breakpoints.sort(function (a, b) { return a.input - b.input; });
            }
        });
</script>

<!-- Edit dialog for bbb-discrete-in -->
<script type="text/x-red" data-template-name="bbb-discrete-in">
   <div class="form-row">
       <label for="node-input-pin"><i class="fa fa-asterisk"></i>Input pin</label>
       <select type="text" id="node-input-pin" style="width: 200px;">
           <option value="">select pin</option>
           <option value="P8_7">GPIO2_2 (P8 pin 7)</option>
           <option value="P8_8">GPIO2_3 (P8 pin 8)</option>
           <option value="P8_9">GPIO2_5 (P8 pin 9)</option>
           <option value="P8_10">GPIO2_4 (P8 pin 10)</option>
           <option value="P8_11">GPIO1_13 (P8 pin 11)</option>
           <option value="P8_12">GPIO1_12 (P8 pin 12)</option>
           <option value="P8_13">GPIO0_23 (P8 pin 13)</option>
           <option value="P8_14">GPIO0_26 (P8 pin 14)</option>
           <option value="P8_15">GPIO1_15 (P8 pin 15)</option>
           <option value="P8_16">GPIO1_14 (P8 pin 16)</option>
           <option value="P8_17">GPIO0_27 (P8 pin 17)</option>
           <option value="P8_18">GPIO2_1 (P8 pin 18)</option>
           <option value="P8_19">GPIO0_22 (P8 pin 19)</option>
           <option value="P8_26">GPIO1_29 (P8 pin 26)</option>
           <option value="P9_11">GPIO0_30 (P9 pin 11)</option>
           <option value="P9_12">GPIO1_28 (P9 pin 12)</option>
           <option value="P9_13">GPIO0_31 (P9 pin 13)</option>
           <option value="P9_14">GPIO1_18 (P9 pin 14)</option>
           <option value="P9_15">GPIO1_16 (P9 pin 15)</option>
           <option value="P9_16">GPIO1_19 (P9 pin 16)</option>
           <option value="P9_17">GPIO0_5 (P9 pin 17)</option>
           <option value="P9_18">GPIO0_4 (P9 pin 18)</option>
           <option value="P9_21">GPIO0_3 (P9 pin 21)</option>
           <option value="P9_22">GPIO0_2 (P9 pin 22)</option>
           <option value="P9_23">GPIO1_17 (P9 pin 23)</option>
           <option value="P9_24">GPIO0_15 (P9 pin 24)</option>
           <option value="P9_26">GPIO0_14 (P9 pin 26)</option>
           <option value="P9_27">GPIO3_19 (P9 pin 27)</option>
           <option value="P9_30">GPIO3_16 (P9 pin 30)</option>
           <option value="P9_41">GPIO0_20 (P9 pin 41)</option>
           <option value="P9_42">GPIO0_7 (P9 pin 42)</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-activeLow">Active low</label>
        <input type="checkbox" id="node-input-activeLow" style="display:inline-block; width:auto; vertical-align:top;">
    </div>
    <div class="form-row">
        <label for="node-input-debounce">Debounce</label>
        <input type="text" id="node-input-debounce" placeholder="debounce time in mS" style="width: 160px"> mS
    </div>
    <div class="form-row">
        <label for="node-input-outputOn">Output on</label>
        <select type="text" id="node-input-outputOn" style="width: 200px;">
           <option value="both">both changes</option>
           <option value="rising">0 to 1 change only</option>
           <option value="falling">1 to 0 change only</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-updateInterval"><i class="fa fa-repeat"></i> Update at</label>
        <input id="node-input-updateInterval" type="text" style="width: 65px">
        <label>sec intervals</label>
    </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> Topic</label>
        <input type="text" id="node-input-topic" placeholder="Topic">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<!-- Help text for bbb-discrete-in -->


<!-- Register bbb-discrete-in node -->
<script type="text/javascript">
    RED.nodes.registerType('bbb-discrete-in', {
        category: 'Beaglebone', // the palette category
        color:"#de7224",
        defaults: {                 // defines the editable properties of the node
            pin: { value:"", required:true },
            activeLow: { value:false, required:true },
            debounce: { value:0, required:true },
            outputOn: { value:"both", required:true },
            updateInterval: { value:60, required:true, validate:RED.validators.number() },
            topic: { value:"" },
            name: { value:"" }
        },
        inputs:1,                   // set the number of inputs - only 0 or 1
        outputs:2,                  // set the number of outputs - 0 to n
        icon: "BBB.png",            // set the icon (held in public/icons)
        label: function() {         // sets the default label contents
            return this.name || "bbb-discrete-in: " + this.pin;
        },
        labelStyle: function() {    // sets the class to apply to the label
            return this.name ? "node_label_italic" : "";
        }
    });
</script>

<!-- Edit dialog for bbb-pulse-in -->
<script type="text/x-red" data-template-name="bbb-pulse-in">
   <div class="form-row">
       <label for="node-input-pin"><i class="fa fa-asterisk"></i>Input pin</label>
       <select type="text" id="node-input-pin" style="width: 200px;">
           <option value="">select pin</option>
           <option value="P8_7">GPIO2_2 (P8 pin 7)</option>
           <option value="P8_8">GPIO2_3 (P8 pin 8)</option>
           <option value="P8_9">GPIO2_5 (P8 pin 9)</option>
           <option value="P8_10">GPIO2_4 (P8 pin 10)</option>
           <option value="P8_11">GPIO1_13 (P8 pin 11)</option>
           <option value="P8_12">GPIO1_12 (P8 pin 12)</option>
           <option value="P8_13">GPIO0_23 (P8 pin 13)</option>
           <option value="P8_14">GPIO0_26 (P8 pin 14)</option>
           <option value="P8_15">GPIO1_15 (P8 pin 15)</option>
           <option value="P8_16">GPIO1_14 (P8 pin 16)</option>
           <option value="P8_17">GPIO0_27 (P8 pin 17)</option>
           <option value="P8_18">GPIO2_1 (P8 pin 18)</option>
           <option value="P8_19">GPIO0_22 (P8 pin 19)</option>
           <option value="P8_26">GPIO1_29 (P8 pin 26)</option>
           <option value="P9_11">GPIO0_30 (P9 pin 11)</option>
           <option value="P9_12">GPIO1_28 (P9 pin 12)</option>
           <option value="P9_13">GPIO0_31 (P9 pin 13)</option>
           <option value="P9_14">GPIO1_18 (P9 pin 14)</option>
           <option value="P9_15">GPIO1_16 (P9 pin 15)</option>
           <option value="P9_16">GPIO1_19 (P9 pin 16)</option>
           <option value="P9_17">GPIO0_5 (P9 pin 17)</option>
           <option value="P9_18">GPIO0_4 (P9 pin 18)</option>
           <option value="P9_21">GPIO0_3 (P9 pin 21)</option>
           <option value="P9_22">GPIO0_2 (P9 pin 22)</option>
           <option value="P9_23">GPIO1_17 (P9 pin 23)</option>
           <option value="P9_24">GPIO0_15 (P9 pin 24)</option>
           <option value="P9_26">GPIO0_14 (P9 pin 26)</option>
           <option value="P9_27">GPIO3_19 (P9 pin 27)</option>
           <option value="P9_30">GPIO3_16 (P9 pin 30)</option>
           <option value="P9_41">GPIO0_20 (P9 pin 41)</option>
           <option value="P9_42">GPIO0_7 (P9 pin 42)</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-countType">Count</label>
        <select type="text" id="node-input-countType" style="width: 100px;">
            <option value="pulse">pulses</option>
            <option value="edge">edges</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-countUnit">Scaling</label>
        <input id="node-input-countUnit" type="text" style="width: 65px">
        <label style="width: 60%"> units per count</label>
    </div>
    <div class="form-row">
        <label for="node-input-countRate">Rate</label>
        <input id="node-input-countRate" type="text" style="width: 65px">
        <label style="width: 60%"> units per count/second</label>
    </div>
    <div class="form-row">
        <label for="node-input-updateInterval"><i class="fa fa-repeat"></i> Update at</label>
        <input id="node-input-updateInterval" type="text" style="width: 65px">
        <label>sec intervals</label>
    </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> Topic</label>
        <input type="text" id="node-input-topic" placeholder="Topic">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<!-- Help text for bbb-pulse-in -->


<!-- Register bbb-pulse-in node -->
<script type="text/javascript">
    RED.nodes.registerType('bbb-pulse-in', {
        category: 'Beaglebone', // the palette category
        color:"#de7224",
        defaults: {                 // defines the editable properties of the node
            pin: { value:"", required:true },
            countType: { value:"pulse", required:true },
            countUnit: { value:1, required:true, validate:RED.validators.number() },
            countRate: { value:1, required:true, validate:RED.validators.number() },
            updateInterval: { value:2, required:true, validate:RED.validators.number() },
            topic: { value:"" },
            name: { value:"" }
        },
        inputs:1,                   // set the number of inputs - only 0 or 1
        outputs:2,                  // set the number of outputs - 0 to n
        icon: "BBB.png",            // set the icon (held in public/icons)
        label: function() {         // sets the default label contents
            return this.name || "bbb-pulse-in: " + this.pin;
        },
        labelStyle: function() {    // sets the class to apply to the label
            return this.name ? "node_label_italic" : "";
        }
    });
</script>

<!-- Edit dialog for bbb-discrete-out -->
<script type="text/x-red" data-template-name="bbb-discrete-out">
   <div class="form-row">
       <label for="node-input-pin"><i class="fa fa-asterisk"></i>Output pin</label>
       <select type="text" id="node-input-pin" style="width: 200px;">
           <option value="">select pin</option>
           <option value="P8_7">GPIO2_2 (P8 pin 7)</option>
           <option value="P8_8">GPIO2_3 (P8 pin 8)</option>
           <option value="P8_9">GPIO2_5 (P8 pin 9)</option>
           <option value="P8_10">GPIO2_4 (P8 pin 10)</option>
           <option value="P8_11">GPIO1_13 (P8 pin 11)</option>
           <option value="P8_12">GPIO1_12 (P8 pin 12)</option>
           <option value="P8_13">GPIO0_23 (P8 pin 13)</option>
           <option value="P8_14">GPIO0_26 (P8 pin 14)</option>
           <option value="P8_15">GPIO1_15 (P8 pin 15)</option>
           <option value="P8_16">GPIO1_14 (P8 pin 16)</option>
           <option value="P8_17">GPIO0_27 (P8 pin 17)</option>
           <option value="P8_18">GPIO2_1 (P8 pin 18)</option>
           <option value="P8_19">GPIO0_22 (P8 pin 19)</option>
           <option value="P8_26">GPIO1_29 (P8 pin 26)</option>
           <option value="P9_11">GPIO0_30 (P9 pin 11)</option>
           <option value="P9_12">GPIO1_28 (P9 pin 12)</option>
           <option value="P9_13">GPIO0_31 (P9 pin 13)</option>
           <option value="P9_14">GPIO1_18 (P9 pin 14)</option>
           <option value="P9_15">GPIO1_16 (P9 pin 15)</option>
           <option value="P9_16">GPIO1_19 (P9 pin 16)</option>
           <option value="P9_17">GPIO0_5 (P9 pin 17)</option>
           <option value="P9_18">GPIO0_4 (P9 pin 18)</option>
           <option value="P9_21">GPIO0_3 (P9 pin 21)</option>
           <option value="P9_22">GPIO0_2 (P9 pin 22)</option>
           <option value="P9_23">GPIO1_17 (P9 pin 23)</option>
           <option value="P9_24">GPIO0_15 (P9 pin 24)</option>
           <option value="P9_26">GPIO0_14 (P9 pin 26)</option>
           <option value="P9_27">GPIO3_19 (P9 pin 27)</option>
           <option value="P9_30">GPIO3_16 (P9 pin 30)</option>
           <option value="P9_41">GPIO0_20 (P9 pin 41)</option>
           <option value="P9_42">GPIO0_7 (P9 pin 42)</option>
           <option value="USR0">User LED 0</option>
           <option value="USR1">User LED 1</option>
           <option value="USR2">User LED 2</option>
           <option value="USR3">User LED 3</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-inverting">Inverting</label>
        <input type="checkbox" id="node-input-inverting" style="display:inline-block; width:auto; vertical-align:top;">
    </div>
    <div class="form-row">
        <label for="node-input-toggle">Toggle state</label>
        <input type="checkbox" id="node-input-toggle" style="display:inline-block; width:auto; vertical-align:top;">
    </div>
    <div class="form-row">
        <label for="node-input-defaultState">Startup as</label>
        <select type="text" id="node-input-defaultState" style="width: 80px;">
           <option value="0">0</option>
           <option value="1">1</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<!-- Help text for bbb-discrete-out -->


<!-- Register bbb-discrete-out node -->
<script type="text/javascript">
    RED.nodes.registerType('bbb-discrete-out', {
        category: 'Beaglebone', // the palette category
        color:"#de7224",
        defaults: {                 // defines the editable properties of the node
            pin: { value:"", required:true },
            inverting: { value:false, required:true },
            toggle: { value:false, required:true },
            defaultState: { value:"0", required:true },
            name: { value:"" }
        },
        inputs:1,                   // set the number of inputs - only 0 or 1
        outputs:1,                  // set the number of outputs - 0 to n
        icon: "BBB.png",            // set the icon (held in public/icons)
        align:"right",
        label: function() {         // sets the default label contents
            return this.name || "bbb-discrete-out: " + this.pin;
        },
        labelStyle: function() {    // sets the class to apply to the label
            return this.name ? "node_label_italic" : "";
        }
    });
</script>

<!-- Edit dialog for bbb-pulse-out -->
<script type="text/x-red" data-template-name="bbb-pulse-out">
   <div class="form-row">
       <label for="node-input-pin"><i class="fa fa-asterisk"></i>Output pin</label>
       <select type="text" id="node-input-pin" style="width: 200px;">
           <option value="">select pin</option>
           <option value="P8_7">GPIO2_2 (P8 pin 7)</option>
           <option value="P8_8">GPIO2_3 (P8 pin 8)</option>
           <option value="P8_9">GPIO2_5 (P8 pin 9)</option>
           <option value="P8_10">GPIO2_4 (P8 pin 10)</option>
           <option value="P8_11">GPIO1_13 (P8 pin 11)</option>
           <option value="P8_12">GPIO1_12 (P8 pin 12)</option>
           <option value="P8_13">GPIO0_23 (P8 pin 13)</option>
           <option value="P8_14">GPIO0_26 (P8 pin 14)</option>
           <option value="P8_15">GPIO1_15 (P8 pin 15)</option>
           <option value="P8_16">GPIO1_14 (P8 pin 16)</option>
           <option value="P8_17">GPIO0_27 (P8 pin 17)</option>
           <option value="P8_18">GPIO2_1 (P8 pin 18)</option>
           <option value="P8_19">GPIO0_22 (P8 pin 19)</option>
           <option value="P8_26">GPIO1_29 (P8 pin 26)</option>
           <option value="P9_11">GPIO0_30 (P9 pin 11)</option>
           <option value="P9_12">GPIO1_28 (P9 pin 12)</option>
           <option value="P9_13">GPIO0_31 (P9 pin 13)</option>
           <option value="P9_14">GPIO1_18 (P9 pin 14)</option>
           <option value="P9_15">GPIO1_16 (P9 pin 15)</option>
           <option value="P9_16">GPIO1_19 (P9 pin 16)</option>
           <option value="P9_17">GPIO0_5 (P9 pin 17)</option>
           <option value="P9_18">GPIO0_4 (P9 pin 18)</option>
           <option value="P9_21">GPIO0_3 (P9 pin 21)</option>
           <option value="P9_22">GPIO0_2 (P9 pin 22)</option>
           <option value="P9_23">GPIO1_17 (P9 pin 23)</option>
           <option value="P9_24">GPIO0_15 (P9 pin 24)</option>
           <option value="P9_26">GPIO0_14 (P9 pin 26)</option>
           <option value="P9_27">GPIO3_19 (P9 pin 27)</option>
           <option value="P9_30">GPIO3_16 (P9 pin 30)</option>
           <option value="P9_41">GPIO0_20 (P9 pin 41)</option>
           <option value="P9_42">GPIO0_7 (P9 pin 42)</option>
           <option value="USR0">User LED 0</option>
           <option value="USR1">User LED 1</option>
           <option value="USR2">User LED 2</option>
           <option value="USR3">User LED 3</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pulseTime"><i class="fa fa-repeat"></i> Pulse time</label>
        <input id="node-input-pulseTime" type="text" style="width: 65px">
        <label> seconds</label>
    </div>
    <div class="form-row">
        <label for="node-input-retriggerable">Retriggerable</label>
        <input type="checkbox" id="node-input-retriggerable" style="display:inline-block; width:auto; vertical-align:top;">
    </div>
    <div class="form-row">
        <label for="node-input-pulseState">Pulse state</label>
        <select type="text" id="node-input-pulseState" style="width: 80px;">
           <option value="0">0</option>
           <option value="1">1</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<!-- Help text for bbb-pulse-out -->


<!-- Register bbb-pulse-out node -->
<script type="text/javascript">
    RED.nodes.registerType('bbb-pulse-out', {
        category: 'Beaglebone', // the palette category
        color:"#de7224",
        defaults: {                 // defines the editable properties of the node
            pin: { value:"", required:true },
            pulseTime: { value:1, required:true, validate:RED.validators.number() },
            retriggerable: { value:false, required:true },
            pulseState: { value:"1", required:true },
            name: { value:"" }
        },
        inputs:1,                   // set the number of inputs - only 0 or 1
        outputs:1,                  // set the number of outputs - 0 to n
        icon: "BBB.png",            // set the icon (held in public/icons)
        align:"right",
        label: function() {         // sets the default label contents
            return this.name || "bbb-pulse-out: " + this.pin;
        },
        labelStyle: function() {    // sets the class to apply to the label
            return this.name ? "node_label_italic" : "";
        }
    });
</script>
<script type="text/x-red" data-help-name="bbb-analogue-in">
<p>
Analogue input for the Beaglebone Black. Reads an analogue pin when triggered by
a message.
</p>
<p>The output message topic is the node topic: the output message value is the
scaled analogue input or NaN if a read error occurs.
</p>
<p>
Simple linear scaling is defined by setting the output values required for input
values of 0 and 1. You can apply more complicated scaling, e.g. for sensor linearisation,
by defining breakpoints at intermediate input values, with the desired output for
each. Values between breakpoints are linearly interpolated.
</p>
<p>
To reduce the effect of noise, enable averaging. This will read the input pin
voltage ten times in rapid succession for each input message and output the mean value.
</p>
</script><script type="text/x-red" data-help-name="bbb-discrete-in">
<p>
Discrete input for the Beaglebone Black. Sends a message with payload 0 or 1 on the
first output when the pin changes state, and logs the total time in the active state.
</p>
<p>
Sends a message with a payload of the current total active time
(in seconds) on the second output at selectable intervals. An input message with topic 'load'
and a numeric payload will set the total active time to that value: any other input message
will reset it to zero.
</p>
<p>
The active state may be set to be high or low: this only affects the calculation
of the active time, not the pin state value sent on the first output.
</p>
<p>
The pin state messages may be generated for both directions of change, or for just 0 to 1
or just 1 to 0 changes. This is useful to generate a single message from a button
press. When using buttons or switches, enable debouncing to improve reliability.
</p>
</script><script type="text/x-red" data-help-name="bbb-pulse-in">
<p>
Pulse input for the Beaglebone Black. Counts input pulses or pulse edges: outputs
total counts and the rate of counts/sec, with scaling.
</p>
<p>
Sends the total count message on the first output, and the current count
rate message on the second output, at the chosen interval. An input message with topic 'load'
and a numeric payload will set the total count to that value (no scaling is applied):
any other input message will reset it to zero.
</p>
</script><script type="text/x-red" data-help-name="bbb-discrete-out">
<p>
Directly control an output pin on the Beaglebone Black.
</p>
<p>
Sets the output pin high or low depending on the payload of the input message. Numeric
payloads > 0.5 are 'high' (1), payloads <= 0.5 are 'low' (0). Other payloads which
evaluate to true are 'high', if not then 'low'. Selecting the Inverting checkbox will
switch the sense of the pin output.
</p>
<p>
If the Toggle state checkbox is checked, the message content is ignored: successive
messages cause the pin to toggle between 0 and 1.
</P>
<p>
The pin will be initially set to the given Startup state until the first message arrives:
the Inverting property is not applied to this value.
</p>
</script><script type="text/x-red" data-help-name="bbb-pulse-out">
<p>
Pulse an output pin on the Beaglebone Black.
</p>
<p>
Pulses the output pin for the set time after receiving an input message, unless the
message has a topic including the text 'time' and a numeric payload. In this case, the
the pulse time will be the value of the payload in seconds. If the time from either
source is < 0.001 seconds, no pulse is generated.
</p>
<p>
In retriggerable mode, a second message within the pulse period will extend the duration
of the pulse by the time value: in non-retriggerable mode, input messages arriving during
the duration of the pulse are ignored.
</p>
<p>
The pin state of the pulse may be set to either 0 or 1: the output pin will switch
back to the other state after the pulse time. An output message is generated each time
the pin changes state: its payload is the new state (0 or 1).
</p>
</script><!--
  Copyright 2013,2014 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="mongodb">
    <div class="form-row">
        <label for="node-config-input-hostname"><i class="fa fa-bookmark"></i> <span data-i18n="mongodb.label.host"></span></label>
        <input class="input-append-left" type="text" id="node-config-input-hostname" placeholder="localhost" style="width: 40%;" >
        <label for="node-config-input-port" style="margin-left: 10px; width: 35px; "> <span data-i18n="mongodb.label.port"></span></label>
        <input type="text" id="node-config-input-port" style="width:45px">
    </div>
    <div class="form-row">
        <label for="node-config-input-db"><i class="fa fa-database"></i> <span data-i18n="mongodb.label.database"></span></label>
        <input type="text" id="node-config-input-db">
    </div>
    <div class="form-row">
        <label for="node-config-input-user"><i class="fa fa-user"></i> <span data-i18n="mongodb.label.username"></span></label>
        <input type="text" id="node-config-input-user">
    </div>
    <div class="form-row">
        <label for="node-config-input-password"><i class="fa fa-lock"></i> <span data-i18n="mongodb.label.password"></span></label>
        <input type="password" id="node-config-input-password">
    </div>
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-config-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('mongodb', {
        category: 'config',
        color: "rgb(218, 196, 180)",
        defaults: {
            hostname: {value: "127.0.0.1", required: true},
            port: {value: 27017, required: true},
            db: {value: "", required: true},
            name: {value: ""}
        },
        credentials: {
            user: {type: "text"},
            password: {type: "password"}
        },
        label: function() {
            return this.name || this.hostname + ":" + this.port + "/" + this.db;
        }
    });
</script>


<script type="text/x-red" data-template-name="mongodb out">
    <div class="form-row">
        <label for="node-input-mongodb"><i class="fa fa-bookmark"></i> <span data-i18n="mongodb.label.server"></span></label>
        <input type="text" id="node-input-mongodb">
    </div>
    <div class="form-row">
        <label for="node-input-collection"><i class="fa fa-briefcase"></i> <span data-i18n="mongodb.label.collection"></span></label>
        <input type="text" id="node-input-collection">
    </div>
    <div class="form-row">
        <label for="node-input-operation"><i class="fa fa-wrench"></i> <span data-i18n="mongodb.label.operation"></span></label>
        <select type="text" id="node-input-operation" style="display: inline-block; vertical-align: top;">
            <option value="store" data-i18n="mongodb.operation.save"></option>
            <option value="insert" data-i18n="mongodb.operation.insert"></option>
            <option value="update" data-i18n="mongodb.operation.update"></option>
            <option value="delete" data-i18n="mongodb.operation.remove"></option>
        </select>
    </div>
    <div class="form-row node-input-payonly">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-payonly" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-payonly" style="width: 70%;"><span data-i18n="mongodb.label.onlystore"></span></label>
    </div>
    <div class="form-row node-input-upsert">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-upsert" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-upsert" style="width: 70%;"><span data-i18n="mongodb.label.createnew"></span></label>
    </div>
    <div class="form-row node-input-multi">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-multi" style="display: inline-block; width: auto; vertical-align: top;;">
        <label for="node-input-multi" style="width: 70%;"><span data-i18n="mongodb.label.updateall"></span></label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
    <div class="form-tips" id="node-warning" style="display: none"><span data-i18n="[html]mongodb.tip"></span></div>
</script>



<script type="text/javascript">

    function oneditprepare() {
        $("#node-input-operation").change(function () {
            var id = $("#node-input-operation option:selected").val();

            if (id === "update") {
                $(".node-input-payonly").hide();
                $(".node-input-upsert, .node-input-multi").show();
            } else if (id === "delete") {
                $(".node-input-payonly, .node-input-upsert, .node-input-multi").hide();
            } else {
                $(".node-input-payonly").show();
                $(".node-input-upsert, .node-input-multi").hide();
            }
        });

        $("#node-input-collection").change(function () {
            if($("#node-input-collection").val() === "") {
                $("#node-warning").show();
            } else {
                $("#node-warning").hide();
            }
        });
    }

    RED.nodes.registerType('mongodb out', {
        category: 'storage-output',
        color: "rgb(218, 196, 180)",
        defaults: {
            mongodb: {type: "mongodb", required: true},
            name: {value: ""},
            collection: {value: ""},
            payonly: {value: false},
            upsert: {value: false},
            multi: {value: false},
            operation: {value: "store"}
        },
        inputs: 1,
        outputs: 0,
        icon: "mongodb.png",
        align: "right",
        label: function() {
            var mongoNode = RED.nodes.node(this.mongodb);
            return this.name || (mongoNode ? mongoNode.label() + " " + this.collection: "mongodb");
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: oneditprepare
    });
</script>


<script type="text/x-red" data-template-name="mongodb in">
    <div class="form-row">
        <label for="node-input-mongodb"><i class="fa fa-bookmark"></i> <span data-i18n="mongodb.label.server"></span></label>
        <input type="text" id="node-input-mongodb">
    </div>
    <div class="form-row">
        <label for="node-input-collection"><i class="fa fa-briefcase"></i> <span data-i18n="mongodb.label.collection"></span></label>
        <input type="text" id="node-input-collection">
    </div>
    <div class="form-row">
        <label for="node-input-operation"><i class="fa fa-wrench"></i> <span data-i18n="mongodb.label.operation"></span></label>
        <select type="text" id="node-input-operation" style="display: inline-block; vertical-align: top;">
            <option value="find" data-i18n="mongodb.operation.find"></option>
            <option value="count" data-i18n="mongodb.operation.count"></option>
            <option value="aggregate" data-i18n="mongodb.operation.aggregate"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
    <div class="form-tips" id="node-warning" style="display: none"><span data-i18n="[html]mongodb.tip"></span></div>
</script>



<script type="text/javascript">

    RED.nodes.registerType('mongodb in', {
        category: 'storage-input',
        color: "rgb(218, 196, 180)",
        defaults: {
            mongodb: {type: "mongodb", required: true},
            name: {value: ""},
            collection: {value: ""},
            operation: {value: "find"}
        },
        inputs: 1,
        outputs: 1,
        icon: "mongodb.png",
        label: function() {
            var mongoNode = RED.nodes.node(this.mongodb);
            return this.name || (mongoNode ? mongoNode.label() + " " + this.collection: "mongodb");
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: oneditprepare
    });
</script>
<script type="text/x-red" data-help-name="mongodb out">
    <p>A simple MongoDB output node. Can save, insert, update and remove objects from a chosen collection.</p>
    <p>Save will update an existing object or insert a new object if one does not already exist.</p>
    <p>Insert will insert a new object.</p>
    <p>Save and insert either store <code>msg</code> or <code>msg.payload</code>.</p>
    <p>Update will modify an existing object or objects. The query to select objects to update uses <code>msg.query</code>
    and the update to the element uses <code>msg.payload</code>.</p>
    <p>Update can add a object if it does not exist or update multiple objects.</p>
    <p>Remove will remove objects that match the query passed in on <code>msg.payload</code>. A blank query will delete
    <i>all of the objects</i> in the collection.</p>
    <p>You can either set the collection method in the node config or on <code>msg.collection</code>. Setting it in the
    node will override <code>msg.collection</code>.</p>
    <p>By default MongoDB creates an <i>_id</i> property as the primary key - so repeated injections of the
    same <code>msg</code> will result in many database entries.</p>
    <p>If this is NOT the desired behaviour - ie. you want repeated entries to overwrite, then you must set
    the <code>msg._id</code> property to be a constant by the use of a previous function node.</p>
    <p>This could be a unique constant or you could create one based on some other msg property.</p>
    <p>Currently we do not limit or cap the collection size at all... this may well change.</p>
</script><script type="text/x-red" data-help-name="mongodb in">
    <p>Calls a MongoDB collection method based on the selected operator.</p>
    <p>Find queries a collection using the <code>msg.payload</code> as the query statement as per the .find() function.
    Optionally, you may also (via a function) set a <code>msg.projection</code> object to constrain the returned
    fields, a <code>msg.sort</code> object, a <code>msg.limit</code> number and a <code>msg.skip</code> number.</p>
    <p>Count returns a count of the number of documents in a collection or matching a query using the
    <code>msg.payload</code> as the query statement.</p>
    <p>Aggregate provides access to the aggregation pipeline using the <code>msg.payload</code> as the pipeline array.</p>
    <p>You can either set the collection method in the node config or on <code>msg.collection</code>. Setting it in
    the node will override <code>msg.collection</code>.</p>
    <p>See the <a href="http://docs.mongodb.org/manual/reference/method/db.collection.find/" target="new"><i>MongoDB
    collection methods docs</i></a> for examples.</p>
    <p>The result is returned in <code>msg.payload</code>.</p>
</script><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" style="position: absolute; height: auto; width: 800px; top: 57px; left: 279px; display: none;" tabindex="-1" role="dialog" aria-describedby="node-dialog-library-lookup" aria-labelledby="ui-id-4"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-4" class="ui-dialog-title">function library</span><button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" aria-disabled="false" title="close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">close</span></button></div><div id="node-dialog-library-lookup" class="hide ui-dialog-content ui-widget-content" style="display: block; width: auto; min-height: 0px; max-height: none; height: 304px;">
    <form class="form-horizontal">
        <div class="form-row">
            <ul id="node-dialog-library-breadcrumbs" class="breadcrumb">
                <li class="active"><a href="#" data-i18n="[append]library.breadcrumb">Library</a></li>
            </ul>
        </div>
        <div class="form-row">
            <div style="vertical-align: top; display: inline-block; height: 100%; width: 30%; padding-right: 20px;">
                <div id="node-select-library" style="border: 1px solid #999; width: 100%; height: 100%; overflow:scroll;"><ul></ul></div>
            </div>
            <div style="vertical-align: top; display: inline-block;width: 65%; height: 100%;">
                <div style="height: 198px; width: 95%;" class="node-text-editor ace_editor ace-tomorrow" id="node-select-library-text"><textarea class="ace_text-input" autocorrect="off" autocapitalize="off" spellcheck="false" style="opacity: 0;" wrap="off"></textarea><div class="ace_gutter"><div class="ace_layer ace_gutter-layer ace_folding-enabled"></div><div class="ace_gutter-active-line" style="display: none;"></div></div><div class="ace_scroller"><div class="ace_content"><div class="ace_layer ace_print-margin-layer"><div class="ace_print-margin" style="left: 4px; visibility: visible;"></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_text-layer" style="padding: 0px 4px;"></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_cursor-layer ace_hidden-cursors" style="opacity: 0;"><div class="ace_cursor"></div></div></div></div><div class="ace_scrollbar ace_scrollbar-v" style="display: none; width: 21px;"><div class="ace_scrollbar-inner" style="width: 21px;"></div></div><div class="ace_scrollbar ace_scrollbar-h" style="display: none; height: 21px;"><div class="ace_scrollbar-inner" style="height: 21px;"></div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: visible;"></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></div>
            </div>
        </div>
    </form>
</div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Cancel</span></button><button type="button" class="primary ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Load</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" style="position: absolute; height: auto; width: 530px; top: 167px; left: 414px; display: none;" tabindex="-1" role="dialog" aria-describedby="node-dialog-library-save-confirm" aria-labelledby="ui-id-5"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-5" class="ui-dialog-title">Save to Library</span><button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" aria-disabled="false" title="close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">close</span></button></div><div id="node-dialog-library-save-confirm" class="hide ui-dialog-content ui-widget-content" style="display: block; width: auto; min-height: 0px; max-height: none; height: 84px;">
    <form class="form-horizontal">
        <div style="text-align: center; padding-top: 30px;" id="node-dialog-library-save-content">
        </div>
    </form>
</div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Cancel</span></button><button type="button" class="primary ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Save</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" style="position: absolute; height: auto; width: 530px; top: 167px; left: 414px; display: none;" tabindex="-1" role="dialog" aria-describedby="node-dialog-library-save" aria-labelledby="ui-id-6"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-6" class="ui-dialog-title">Save to Library</span><button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" aria-disabled="false" title="close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">close</span></button></div><div id="node-dialog-library-save" class="hide ui-dialog-content ui-widget-content" style="display: block; width: auto; min-height: 0px; max-height: none; height: 84px;">
    <form class="form-horizontal">
        <div class="form-row">
            <label for="node-dialog-library-save-folder" data-i18n="[append]library.folder"><i class="fa fa-folder-open"></i> Folder</label>
            <input id="node-dialog-library-save-folder" data-i18n="[placeholder]library.folderPlaceholder" placeholder="a/b" type="text">
        </div>
        <div class="form-row">
            <label for="node-dialog-library-save-filename" data-i18n="[append]library.filename"><i class="fa fa-file"></i> Filename</label>
            <input id="node-dialog-library-save-filename" data-i18n="[placeholder]library.filenamePlaceholder" placeholder="file" type="text">
        </div>
    </form>
</div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Cancel</span></button><button type="button" class="primary ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Save</span></button></div></div></div></body></html>